fix_commit_hash,commit_hash,change_type,is_buggy_line,code_change_remove_common_tokens
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,/**
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,* Outer most HttpServletRequest in the chain
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,*/
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,HttpServletRequest hrequest = null;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,* Outermost HttpServletResponse in the chain
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,HttpServletResponse hresponse = null;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,wrapResponse(state);
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,if ((servletPath == null) && (pathInfo == null)) {
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,HttpServletRequest hrequest = state.hrequest;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,if (name != null) {
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,HttpServletResponse hresponse = state.hresponse;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,if(state.hrequest == null && (current instanceof HttpServletRequest))
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,state.hrequest = (HttpServletRequest)current;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,if(state.hresponse == null && (current instanceof HttpServletResponse)) {
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,state.hresponse = (HttpServletResponse)current;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,if(!state.including) // Forward only needs hresponse
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,return null;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,added,0,}
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,// Identify the HTTP-specific request and response objects (if any)
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,HttpServletRequest hrequest = null;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,if (request instanceof HttpServletRequest)
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,hrequest = (HttpServletRequest) request;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,HttpServletResponse hresponse = null;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,if (response instanceof HttpServletResponse)
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,hresponse = (HttpServletResponse) response;
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,// Handle a non-HTTP forward by passing the existing request/response
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,if ((hrequest == null) || (hresponse == null)) {
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,"processRequest(hrequest,hresponse,state);"
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,}
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,else if ((servletPath == null) && (pathInfo == null)) {
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,// Handle a non-HTTP include
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,if (!(request instanceof HttpServletRequest) ||
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,!(response instanceof HttpServletResponse)) {
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,"request.setAttribute(ApplicationFilterFactory.DISPATCHER_TYPE_ATTR,"
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,Integer.valueOf(ApplicationFilterFactory.INCLUDE));
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,request.setAttribute(
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,"ApplicationFilterFactory.DISPATCHER_REQUEST_PATH_ATTR,"
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,servletPath);
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,"invoke(request, state.outerResponse, state);"
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,else if (name != null) {
7b93f573331df0e7dd92ab5ff5e36f3df7629cc6,f1ad272fc07042001086e1a8291adeab35ca074b,deleted,1,HttpServletResponse hresponse = (HttpServletResponse) response;
46055c585e222cbe503082f6cfe4e053a6aa52e3,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"log.debug(sm.getString(""aprListener.sslInit""), t);"
46055c585e222cbe503082f6cfe4e053a6aa52e3,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,deleted,1,"log.debug(sm.getString(""aprListener.sslInit""));"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"protected long sleep = Long.getLong(""sleep"", 10);"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"protected long complete = Long.getLong(""complete"",20000);"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"protected boolean printthread = Boolean.getBoolean(""printthread"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"long maxwait = 0, minwait = Long.MAX_VALUE, averagewait = 0, totalwait = 0;"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,totalwait  += t.totalwait;
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"maxwait = Math.max(maxwait,t.maxwait);"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"minwait = Math.min(minwait, t.minwait);"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,if (FairnessTest.this.printthread)
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"System.out.println(t.getName()+"" : Nr-of-fetch:""+t.nroffetch+ "" Max fetch Time:""+(((float)t.maxwait)/1000000f)+""ms. :Max close time:""+(((float)t.cmax)/1000000f)+""ms."");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"System.out.println(""[""+name+""] Max wait:""+(((float)maxwait)/1000000f)+""ms. Min wait:""+(((float)minwait)/1000000f)+""ms. Average wait:""+(((((float)totalwait))/(float)totalfetch)/1000000f)+"" ms."");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"System.out.println(""[testDBCPThreads20Connections10] Starting fairness - DBCP"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"System.out.println(""[testPoolThreads20Connections10] Starting fairness - Tomcat JDBC - Non Fair"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,this.datasource.getPoolProperties().setFairQueue(false);
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"System.out.println(""[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"System.out.println(""[testPoolThreads20Connections10FairAsync] Starting fairness - Tomcat JDBC - Fair - Async"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"long minwait = Long.MAX_VALUE, maxwait = -1, totalwait=0, totalcmax=0, cmax = -1, nroffetch = 0, totalruntime = 0;"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,totalwait += delta;
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"maxwait = Math.max(delta, maxwait);"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"minwait = Math.min(delta, minwait);"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,if (FairnessTest.this.sleep>0) sleep(FairnessTest.this.sleep);
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"""\n\tMax time to retrieve connection:""+(((float)maxwait)/1000f/1000f)+"" ms.""+"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"""\n\tTotal time to retrieve connection:""+(((float)totalwait)/1000f/1000f)+"" ms.""+"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,added,0,"""\n\tAverage time to retrieve connection:""+(((float)totalwait)/1000f/1000f)/(float)nroffetch+"" ms.""+"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,protected long sleep = 10;
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,protected long complete = 20000;
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(t.getName()+"" : Nr-of-fetch:""+t.nroffetch+ "" Max fetch Time:""+(((float)t.max)/1000000f)+""ms. :Max close time:""+(((float)t.cmax)/1000000f)+""ms."");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(""Starting fairness - DBCP"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(""Completed fairness - DBCP"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(""Starting fairness - Tomcat JDBC - Non Fair"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(""Completed fairness - Tomcat JDBC - Non Fair"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(""Starting fairness - Tomcat JDBC - Fair"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(""Completed fairness - Tomcat JDBC - Fair"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(""Starting fairness - Tomcat JDBC - Fair - Async"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"System.out.println(""Completed fairness - Tomcat JDBC - Fair - Async"");"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"long max = -1, totalmax=0, totalcmax=0, cmax = -1, nroffetch = 0, totalruntime = 0;"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,totalmax += delta;
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"max = Math.max(delta, max);"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,sleep(FairnessTest.this.sleep);
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"""\n\tMax time to retrieve connection:""+(((float)max)/1000f/1000f)+"" ms.""+"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"""\n\tTotal time to retrieve connection:""+(((float)totalmax)/1000f/1000f)+"" ms.""+"
ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1,3abc8562fe3aa51c5f537a464f09166752d7a869,deleted,1,"""\n\tAverage time to retrieve connection:""+(((float)totalmax)/1000f/1000f)/(float)nroffetch+"" ms.""+"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (!pageInfo.isDeferredSyntaxAllowedAsLiteral()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"ELNode.Nodes el = ELParser.parse(expr.toString(), pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,.isDeferredSyntaxAllowedAsLiteral());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (!runtimeExpression && !pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"el = ELParser.parse(attrs.getValue(i), pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (elExpression && deferred) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"err.jspError(n,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"""jsp.error.attribute.deferredmix"");"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,}
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,} else if (((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (elExpression && !deferred) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,boolean expression = runtimeExpression || elExpression;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,TagAttributeInfo tldAttr = tldAttrs[j];
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (tldAttr.canBeRequestTime()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,|| tldAttr.isDeferredMethod() || tldAttr.isDeferredValue()) { // JSP 2.1
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (tldAttr.isDeferredMethod()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,String m = tldAttr.getMethodSignature();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,m = m.trim();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,int rti = m.indexOf(' ');
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,tldAttr.getName());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (tldAttr.isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,expectedType = tldAttr.getExpectedTypeName();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"tldAttr.getName(), expectedType);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"tldAttr.getName(), expectedType, attrs.getValue(i));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"jspAttrs[i] = new Node.JspAttribute(tldAttr,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (deferred && !tldAttr.isDeferredMethod() && !tldAttr.isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (!deferred && !tldAttr.canBeRequestTime()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"jspAttrs[i] = getJspAttribute(tldAttr,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,} else if (pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"result = new Node.JspAttribute(tai, qName, uri, localName,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"value, false, null, dynamic);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"ELNode.Nodes el = ELParser.parse(value, pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,if (el.containsEL()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,"Iterator<ELNode> nodes = ELParser.parse(value,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,added,0,pageInfo.isDeferredSyntaxAllowedAsLiteral()).iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,private TagInfo tagInfo;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,this.tagInfo = compiler.getCompilationContext().getTagInfo();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (!pageInfo.isDeferredSyntaxAllowedAsLiteral()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,&& (tagInfo == null
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"|| ((tagInfo != null) && !(tagInfo.getTagLibrary().getRequiredVersion().equals(""2.0"")"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"|| tagInfo.getTagLibrary().getRequiredVersion().equals(""1.2""))))) {"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,ELNode.Nodes el = ELParser.parse(expr.toString());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,boolean checkDeferred = !pageInfo.isDeferredSyntaxAllowedAsLiteral()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"&& !(tagInfo.getTagLibrary().getRequiredVersion().equals(""2.0"")"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"|| tagInfo.getTagLibrary().getRequiredVersion().equals(""1.2""));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,boolean deferredValueIsLiteral = false;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (!runtimeExpression) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,el = ELParser.parse(attrs.getValue(i));
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,} else if (checkDeferred && ((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,deferredValueIsLiteral = true;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,}
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,boolean expression = runtimeExpression
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"|| (elExpression  && (!pageInfo.isELIgnored() || (!""true"".equalsIgnoreCase(pageInfo.getIsELIgnored()) && checkDeferred && deferred)));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (tldAttrs[j].canBeRequestTime()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,|| tldAttrs[j].isDeferredMethod() || tldAttrs[j].isDeferredValue()) { // JSP 2.1
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (deferredValueIsLiteral && !pageInfo.isDeferredSyntaxAllowedAsLiteral()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"err.jspError(n, ""jsp.error.attribute.custom.non_rt_with_expr"","
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,tldAttrs[j].getName());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (tldAttrs[j].isDeferredMethod()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,String m = tldAttrs[j].getMethodSignature();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,int rti = m.trim().indexOf(' ');
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (tldAttrs[j].isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,expectedType = tldAttrs[j].getExpectedTypeName();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"tldAttrs[j].getName(), expectedType);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"tldAttrs[j].getName(), expectedType, attrs.getValue(i));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"jspAttrs[i] = new Node.JspAttribute(tldAttrs[j],"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (deferred && !tldAttrs[j].isDeferredMethod() && !tldAttrs[j].isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (!deferred && !tldAttrs[j].canBeRequestTime()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,"jspAttrs[i] = getJspAttribute(tldAttrs[j],"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,ELNode.Nodes el = ELParser.parse(value);
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,boolean deferred = false;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,Iterator<ELNode> nodes = el.iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,while (nodes.hasNext()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,ELNode node = nodes.next();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (node instanceof ELNode.Root) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,deferred = true;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,if (el.containsEL() && !pageInfo.isELIgnored()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,&& ((!pageInfo.isDeferredSyntaxAllowedAsLiteral() && deferred)
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,|| !deferred)) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,c45690b02fff7a865f237b5a9eb36ec42d8a648e,deleted,1,Iterator<ELNode> nodes = ELParser.parse(value).iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (!pageInfo.isDeferredSyntaxAllowedAsLiteral()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"ELNode.Nodes el = ELParser.parse(expr.toString(), pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,.isDeferredSyntaxAllowedAsLiteral());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (!runtimeExpression && !pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"el = ELParser.parse(attrs.getValue(i), pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (elExpression && deferred) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"err.jspError(n,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"""jsp.error.attribute.deferredmix"");"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,}
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,} else if (((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (elExpression && !deferred) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,boolean expression = runtimeExpression || elExpression;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,TagAttributeInfo tldAttr = tldAttrs[j];
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (tldAttr.canBeRequestTime()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,|| tldAttr.isDeferredMethod() || tldAttr.isDeferredValue()) { // JSP 2.1
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (tldAttr.isDeferredMethod()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,String m = tldAttr.getMethodSignature();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,m = m.trim();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,int rti = m.indexOf(' ');
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,tldAttr.getName());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (tldAttr.isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,expectedType = tldAttr.getExpectedTypeName();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"tldAttr.getName(), expectedType);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"tldAttr.getName(), expectedType, attrs.getValue(i));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"jspAttrs[i] = new Node.JspAttribute(tldAttr,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (deferred && !tldAttr.isDeferredMethod() && !tldAttr.isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (!deferred && !tldAttr.canBeRequestTime()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"jspAttrs[i] = getJspAttribute(tldAttr,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,} else if (pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"result = new Node.JspAttribute(tai, qName, uri, localName,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"value, false, null, dynamic);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"ELNode.Nodes el = ELParser.parse(value, pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,if (el.containsEL()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,"Iterator<ELNode> nodes = ELParser.parse(value,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,added,0,pageInfo.isDeferredSyntaxAllowedAsLiteral()).iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,private TagInfo tagInfo;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,this.tagInfo = compiler.getCompilationContext().getTagInfo();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (!pageInfo.isDeferredSyntaxAllowedAsLiteral()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,&& (tagInfo == null
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"|| ((tagInfo != null) && !(tagInfo.getTagLibrary().getRequiredVersion().equals(""2.0"")"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"|| tagInfo.getTagLibrary().getRequiredVersion().equals(""1.2""))))) {"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,ELNode.Nodes el = ELParser.parse(expr.toString());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,boolean checkDeferred = !pageInfo.isDeferredSyntaxAllowedAsLiteral()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"&& !(tagInfo.getTagLibrary().getRequiredVersion().equals(""2.0"")"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"|| tagInfo.getTagLibrary().getRequiredVersion().equals(""1.2""));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,boolean deferredValueIsLiteral = false;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (!runtimeExpression) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,el = ELParser.parse(attrs.getValue(i));
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,} else if (checkDeferred && ((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,deferredValueIsLiteral = true;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,}
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,boolean expression = runtimeExpression
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"|| (elExpression  && (!pageInfo.isELIgnored() || (!""true"".equalsIgnoreCase(pageInfo.getIsELIgnored()) && checkDeferred && deferred)));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (tldAttrs[j].canBeRequestTime()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,|| tldAttrs[j].isDeferredMethod() || tldAttrs[j].isDeferredValue()) { // JSP 2.1
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (deferredValueIsLiteral && !pageInfo.isDeferredSyntaxAllowedAsLiteral()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"err.jspError(n, ""jsp.error.attribute.custom.non_rt_with_expr"","
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,tldAttrs[j].getName());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (tldAttrs[j].isDeferredMethod()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,String m = tldAttrs[j].getMethodSignature();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,int rti = m.trim().indexOf(' ');
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (tldAttrs[j].isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,expectedType = tldAttrs[j].getExpectedTypeName();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"tldAttrs[j].getName(), expectedType);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"tldAttrs[j].getName(), expectedType, attrs.getValue(i));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"jspAttrs[i] = new Node.JspAttribute(tldAttrs[j],"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (deferred && !tldAttrs[j].isDeferredMethod() && !tldAttrs[j].isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (!deferred && !tldAttrs[j].canBeRequestTime()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,"jspAttrs[i] = getJspAttribute(tldAttrs[j],"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,ELNode.Nodes el = ELParser.parse(value);
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,boolean deferred = false;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,Iterator<ELNode> nodes = el.iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,while (nodes.hasNext()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,ELNode node = nodes.next();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (node instanceof ELNode.Root) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,deferred = true;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,if (el.containsEL() && !pageInfo.isELIgnored()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,&& ((!pageInfo.isDeferredSyntaxAllowedAsLiteral() && deferred)
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,|| !deferred)) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,50cf0ff9445b85f155feb3d6f1fa976ca97074f5,deleted,1,Iterator<ELNode> nodes = ELParser.parse(value).iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (!pageInfo.isDeferredSyntaxAllowedAsLiteral()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"ELNode.Nodes el = ELParser.parse(expr.toString(), pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,.isDeferredSyntaxAllowedAsLiteral());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (!runtimeExpression && !pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"el = ELParser.parse(attrs.getValue(i), pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (elExpression && deferred) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"err.jspError(n,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"""jsp.error.attribute.deferredmix"");"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,}
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,} else if (((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (elExpression && !deferred) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,boolean expression = runtimeExpression || elExpression;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,TagAttributeInfo tldAttr = tldAttrs[j];
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (tldAttr.canBeRequestTime()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,|| tldAttr.isDeferredMethod() || tldAttr.isDeferredValue()) { // JSP 2.1
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (tldAttr.isDeferredMethod()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,String m = tldAttr.getMethodSignature();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,m = m.trim();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,int rti = m.indexOf(' ');
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,tldAttr.getName());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (tldAttr.isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,expectedType = tldAttr.getExpectedTypeName();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"tldAttr.getName(), expectedType);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"tldAttr.getName(), expectedType, attrs.getValue(i));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"jspAttrs[i] = new Node.JspAttribute(tldAttr,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (deferred && !tldAttr.isDeferredMethod() && !tldAttr.isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (!deferred && !tldAttr.canBeRequestTime()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"jspAttrs[i] = getJspAttribute(tldAttr,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,} else if (pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"result = new Node.JspAttribute(tai, qName, uri, localName,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"value, false, null, dynamic);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"ELNode.Nodes el = ELParser.parse(value, pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,if (el.containsEL()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,"Iterator<ELNode> nodes = ELParser.parse(value,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,added,0,pageInfo.isDeferredSyntaxAllowedAsLiteral()).iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,private TagInfo tagInfo;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,this.tagInfo = compiler.getCompilationContext().getTagInfo();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (!pageInfo.isDeferredSyntaxAllowedAsLiteral()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,&& (tagInfo == null
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"|| ((tagInfo != null) && !(tagInfo.getTagLibrary().getRequiredVersion().equals(""2.0"")"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"|| tagInfo.getTagLibrary().getRequiredVersion().equals(""1.2""))))) {"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,ELNode.Nodes el = ELParser.parse(expr.toString());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,boolean checkDeferred = !pageInfo.isDeferredSyntaxAllowedAsLiteral()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"&& !(tagInfo.getTagLibrary().getRequiredVersion().equals(""2.0"")"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"|| tagInfo.getTagLibrary().getRequiredVersion().equals(""1.2""));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,boolean deferredValueIsLiteral = false;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (!runtimeExpression) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,el = ELParser.parse(attrs.getValue(i));
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,} else if (checkDeferred && ((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,deferredValueIsLiteral = true;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,}
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,boolean expression = runtimeExpression
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"|| (elExpression  && (!pageInfo.isELIgnored() || (!""true"".equalsIgnoreCase(pageInfo.getIsELIgnored()) && checkDeferred && deferred)));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (tldAttrs[j].canBeRequestTime()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,|| tldAttrs[j].isDeferredMethod() || tldAttrs[j].isDeferredValue()) { // JSP 2.1
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (deferredValueIsLiteral && !pageInfo.isDeferredSyntaxAllowedAsLiteral()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"err.jspError(n, ""jsp.error.attribute.custom.non_rt_with_expr"","
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,tldAttrs[j].getName());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (tldAttrs[j].isDeferredMethod()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,String m = tldAttrs[j].getMethodSignature();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,int rti = m.trim().indexOf(' ');
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (tldAttrs[j].isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,expectedType = tldAttrs[j].getExpectedTypeName();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"tldAttrs[j].getName(), expectedType);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"tldAttrs[j].getName(), expectedType, attrs.getValue(i));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"jspAttrs[i] = new Node.JspAttribute(tldAttrs[j],"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (deferred && !tldAttrs[j].isDeferredMethod() && !tldAttrs[j].isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (!deferred && !tldAttrs[j].canBeRequestTime()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,"jspAttrs[i] = getJspAttribute(tldAttrs[j],"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,ELNode.Nodes el = ELParser.parse(value);
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,boolean deferred = false;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,Iterator<ELNode> nodes = el.iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,while (nodes.hasNext()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,ELNode node = nodes.next();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (node instanceof ELNode.Root) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,deferred = true;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,if (el.containsEL() && !pageInfo.isELIgnored()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,&& ((!pageInfo.isDeferredSyntaxAllowedAsLiteral() && deferred)
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,|| !deferred)) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a4c1b0b3466e9246995504c29cf7e3f1da7f8146,deleted,1,Iterator<ELNode> nodes = ELParser.parse(value).iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (!pageInfo.isDeferredSyntaxAllowedAsLiteral()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"ELNode.Nodes el = ELParser.parse(expr.toString(), pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,.isDeferredSyntaxAllowedAsLiteral());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (!runtimeExpression && !pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"el = ELParser.parse(attrs.getValue(i), pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (elExpression && deferred) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"err.jspError(n,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"""jsp.error.attribute.deferredmix"");"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,}
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,} else if (((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (elExpression && !deferred) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,boolean expression = runtimeExpression || elExpression;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,TagAttributeInfo tldAttr = tldAttrs[j];
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (tldAttr.canBeRequestTime()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,|| tldAttr.isDeferredMethod() || tldAttr.isDeferredValue()) { // JSP 2.1
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (tldAttr.isDeferredMethod()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,String m = tldAttr.getMethodSignature();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,m = m.trim();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,int rti = m.indexOf(' ');
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,tldAttr.getName());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (tldAttr.isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,expectedType = tldAttr.getExpectedTypeName();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"tldAttr.getName(), expectedType);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"tldAttr.getName(), expectedType, attrs.getValue(i));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"jspAttrs[i] = new Node.JspAttribute(tldAttr,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (deferred && !tldAttr.isDeferredMethod() && !tldAttr.isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (!deferred && !tldAttr.canBeRequestTime()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"jspAttrs[i] = getJspAttribute(tldAttr,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,} else if (pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"result = new Node.JspAttribute(tai, qName, uri, localName,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"value, false, null, dynamic);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"ELNode.Nodes el = ELParser.parse(value, pageInfo"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,if (el.containsEL()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,"Iterator<ELNode> nodes = ELParser.parse(value,"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,added,0,pageInfo.isDeferredSyntaxAllowedAsLiteral()).iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,private TagInfo tagInfo;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,this.tagInfo = compiler.getCompilationContext().getTagInfo();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (!pageInfo.isDeferredSyntaxAllowedAsLiteral()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,&& (tagInfo == null
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"|| ((tagInfo != null) && !(tagInfo.getTagLibrary().getRequiredVersion().equals(""2.0"")"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"|| tagInfo.getTagLibrary().getRequiredVersion().equals(""1.2""))))) {"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,ELNode.Nodes el = ELParser.parse(expr.toString());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,boolean checkDeferred = !pageInfo.isDeferredSyntaxAllowedAsLiteral()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"&& !(tagInfo.getTagLibrary().getRequiredVersion().equals(""2.0"")"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"|| tagInfo.getTagLibrary().getRequiredVersion().equals(""1.2""));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,boolean deferredValueIsLiteral = false;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (!runtimeExpression) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,el = ELParser.parse(attrs.getValue(i));
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,} else if (checkDeferred && ((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (pageInfo.isELIgnored()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,deferredValueIsLiteral = true;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,}
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,boolean expression = runtimeExpression
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"|| (elExpression  && (!pageInfo.isELIgnored() || (!""true"".equalsIgnoreCase(pageInfo.getIsELIgnored()) && checkDeferred && deferred)));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (tldAttrs[j].canBeRequestTime()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,|| tldAttrs[j].isDeferredMethod() || tldAttrs[j].isDeferredValue()) { // JSP 2.1
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (deferredValueIsLiteral && !pageInfo.isDeferredSyntaxAllowedAsLiteral()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"err.jspError(n, ""jsp.error.attribute.custom.non_rt_with_expr"","
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,tldAttrs[j].getName());
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (tldAttrs[j].isDeferredMethod()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,String m = tldAttrs[j].getMethodSignature();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,int rti = m.trim().indexOf(' ');
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (tldAttrs[j].isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,expectedType = tldAttrs[j].getExpectedTypeName();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"tldAttrs[j].getName(), expectedType);"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"tldAttrs[j].getName(), expectedType, attrs.getValue(i));"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"jspAttrs[i] = new Node.JspAttribute(tldAttrs[j],"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (deferred && !tldAttrs[j].isDeferredMethod() && !tldAttrs[j].isDeferredValue()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (!deferred && !tldAttrs[j].canBeRequestTime()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,"jspAttrs[i] = getJspAttribute(tldAttrs[j],"
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,ELNode.Nodes el = ELParser.parse(value);
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,boolean deferred = false;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,Iterator<ELNode> nodes = el.iterator();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,while (nodes.hasNext()) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,ELNode node = nodes.next();
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (node instanceof ELNode.Root) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (((ELNode.Root) node).getType() == '#') {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,deferred = true;
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,if (el.containsEL() && !pageInfo.isELIgnored()
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,&& ((!pageInfo.isDeferredSyntaxAllowedAsLiteral() && deferred)
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,|| !deferred)) {
de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5,a74181e4b96eabec20fd18b37e12ebf477929eb0,deleted,1,Iterator<ELNode> nodes = ELParser.parse(value).iterator();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,for (int i = 0; i < threads.length; i++) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,threads[i].start();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,}
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,threads[i].join();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,System.out.println(System.currentTimeMillis()
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"+ "" All channels started."");"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,for (int i = listeners.length - 1; i >= 0; i--) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,TestMbrListener listener = listeners[i];
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,synchronized (listener.members) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"assertEquals(""Checking member arrival length ("" + listener.name"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"+ "")"", channels.length - 1, listener.members.size());"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"+ "" Members arrival counts checked."");"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,public ArrayList<Member> members = new ArrayList<Member>(1);
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,String msg;
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,int count;
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,synchronized (members) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,if (!members.contains(member)) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,members.add(member);
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"msg = ""member added"";"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,} else {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"msg = ""member added called, but member is already in the list"";"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,count = members.size();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"report(msg, member, count);"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,if (members.contains(member)) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,members.remove(member);
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"msg = ""member disappeared"";"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"msg = ""member disappeared called, but there is no such member in the list"";"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"private void report(String event, Member member, int count) {"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,StringBuilder message = new StringBuilder(100);
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,message.append(System.currentTimeMillis()).append(' ').append(name)
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,".append(':').append(event).append("", has "").append(count)"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,".append("" members now. Member:["");"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,try {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"message.append(new String(member.getPayload(), ""ASCII""));"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,} catch (Exception x) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"message.append(""unknown"");"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,Thread t = Thread.currentThread();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,"message.append(""]; Thread:"").append(t.getName()).append("", hash:"")"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,.append(t.hashCode());
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,added,0,System.out.println(message);
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,}
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,public void clear() {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,for (int i = 0; i < channels.length; i++) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,listeners[i].members.clear();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,for (int i=0; i<threads.length; i++ ) threads[i].start();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,for (int i=0; i<threads.length; i++ ) threads[i].join();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,"System.out.println(""All channels started."");"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,"for (int i=listeners.length-1; i>=0; i-- ) assertEquals(""Checking member arrival length"",channels.length-1,listeners[i].members.size());"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,public ArrayList<Member> members = new ArrayList<Member>();
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,if (!members.contains(member)) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,members.add(member);
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,try {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,"System.out.println(name + "":member added["" + new String(member.getPayload(), ""ASCII"") + ""; Thread:""+Thread.currentThread().getName()+""]"");"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,} catch (Exception x) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,"System.out.println(name + "":member added[unknown]"");"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,if (members.contains(member)) {
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,members.remove(member);
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,"System.out.println(name + "":member disappeared["" + new String(member.getPayload(), ""ASCII"") + ""; Thread:""+Thread.currentThread().getName()+""]"");"
3d76869485aaef73796bc4e8796c19c9e9d2a98b,f948a57a41cbbef56a56118002dc62267ddf5ca3,deleted,1,"System.out.println(name + "":member disappeared[unknown]"");"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,import org.apache.tomcat.jni.SSL;
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"protected static String FIPSMode = ""off""; // default off, valid only when SSLEngine=""on"""
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,protected static boolean fipsModeActive = false;
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"log.error(sm.getString(""aprListener.sslInit""), t);"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,fipsModeActive = false;
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"if(""on"".equalsIgnoreCase(AprLifecycleListener.FIPSMode)) {"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"log.info(sm.getString(""aprListener.initializingFIPS""));"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,int result = SSL.fipsModeSet(1);
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,// success is defined as return value = 1
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,if(1 == result) {
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,fipsModeActive = true;
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"log.info(sm.getString(""aprListener.initializeFIPSSuccess""));"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,} else {
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"// This case should be handled by the native method,"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"// but we'll make absolutely sure, here."
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"log.error(sm.getString(""aprListener.initializeFIPSFailed""));"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"throw new IllegalStateException(sm.getString(""aprListener.initializeFIPSFailed""));"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,}
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,// Ensure that the SSLEngine is consistent with that used for SSL init
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,if(sslInitialized)
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"throw new IllegalStateException(sm.getString(""aprListener.tooLateForSSLEngine""));"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,// Ensure that the random seed is consistent with that used for SSL init
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"throw new IllegalStateException(sm.getString(""aprListener.tooLateForSSLRandomSeed""));"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,public void setFIPSMode(String FIPSMode)
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,{
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,// Ensure that the FIPS mode is consistent with that used for SSL init
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,"throw new IllegalStateException(sm.getString(""aprListener.tooLateForFIPSMode""));"
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,AprLifecycleListener.FIPSMode = FIPSMode;
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,public boolean isFIPSModeActive()
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,added,0,return fipsModeActive;
c2001cef1ff4b4737135347d6dd466c222066c1e,5b825c66bd579728fd8ff9955b7522a74b5ab1ab,deleted,1,"log.info(sm.getString(""aprListener.sslInit""));"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,private final WebSocketContainer webSocketContainer;
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,"WsRemoteEndpointBase wsRemoteEndpoint,"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,WebSocketContainer webSocketContainer) {
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,this.webSocketContainer = webSocketContainer;
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,return webSocketContainer;
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,WsRemoteEndpointBase wsRemoteEndpoint) {
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,// TODO Auto-generated method stub
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,return null;
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,WsSession wsSession =
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,"new WsSession(endpoint, wsRemoteEndpointClient, this);"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,"WsSession wsSession = new WsSession(endpoint, wsRemoteEndpointClient);"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,private final WebSocketContainer webSocketContainer;
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,this.webSocketContainer = wsc;
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,wsSession = new WsSession(
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,"ep, wsRemoteEndpointServer, webSocketContainer);"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,"sis,"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,"(int) webSocketContainer.getMaxBinaryMessageBufferSize(),"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,"(int) webSocketContainer.getMaxTextMessageBufferSize(),"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,added,0,wsSession);
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,private final int binaryBufferSize;
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,private final int textBufferSize;
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,binaryBufferSize = (int) wsc.getMaxBinaryMessageBufferSize();
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,textBufferSize = (int) wsc.getMaxTextMessageBufferSize();
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,"wsSession = new WsSession(ep, wsRemoteEndpointServer);"
349a67dc730f7a90287d39db45b15e91dede6786,77796b4d580fe3baeffb9f2c5cc706b5a0df7a23,deleted,1,"sis, binaryBufferSize, textBufferSize, wsSession);"
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,added,0,private final WebSocketContainer webSocketContainer;
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,added,0,this.webSocketContainer = wsc;
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,added,0,wsSession = new WsSession(
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,added,0,"ep, wsRemoteEndpointServer, webSocketContainer);"
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,added,0,"sis,"
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,added,0,"(int) webSocketContainer.getMaxBinaryMessageBufferSize(),"
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,added,0,"(int) webSocketContainer.getMaxTextMessageBufferSize(),"
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,added,0,wsSession);
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,deleted,1,private final int binaryBufferSize;
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,deleted,1,private final int textBufferSize;
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,deleted,1,binaryBufferSize = (int) wsc.getMaxBinaryMessageBufferSize();
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,deleted,1,textBufferSize = (int) wsc.getMaxTextMessageBufferSize();
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,deleted,1,"wsSession = new WsSession(ep, wsRemoteEndpointServer);"
349a67dc730f7a90287d39db45b15e91dede6786,dd47277716797378105ca2d0edf109743d887a5f,deleted,1,"sis, binaryBufferSize, textBufferSize, wsSession);"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,import java.util.concurrent.ConcurrentHashMap;
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,"protected Map<String, Function> functions = new ConcurrentHashMap<>();"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,"Function f = this.functions.get(prefix + "":"" + localName);"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,if (f == null) {
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,return null;
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,return f.getMethod();
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,@Override
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,"public void mapFunction(String prefix, String localName, Method m) {"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,"String key = prefix + "":"" + localName;"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,if (m == null) {
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,functions.remove(key);
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,} else {
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,"Function f = new Function(prefix, localName, m);"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,added,0,"functions.put(key, f);"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,import java.util.HashMap;
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,* @version $Id$
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,"protected Map<String, Function> functions = null;"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,if (this.functions != null) {
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,"Function f = this.functions.get(prefix + "":"" + localName);"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,return f.getMethod();
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,return null;
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,"public void addFunction(String prefix, String localName, Method m) {"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,if (this.functions == null) {
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,this.functions = new HashMap<>();
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,}
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,"Function f = new Function(prefix, localName, m);"
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,synchronized (this) {
5d126585d542e8cf21c2d8a204efa2a87b259519,656b87501ea028b9f16b6345904933ded61486eb,deleted,1,"this.functions.put(prefix+"":""+localName, f);"
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,executor.execute(proc);
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,import java.security.AccessController;
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,import java.security.PrivilegedAction;
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,ClassLoader loader = Thread.currentThread().getContextClassLoader();
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,try {
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,//threads should not be created by the webapp classloader
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,if (Constants.IS_SECURITY_ENABLED) {
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,PrivilegedAction<Void> pa = new PrivilegedSetTccl(
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,getClass().getClassLoader());
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,AccessController.doPrivileged(pa);
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,} else {
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,Thread.currentThread().setContextClassLoader(
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,}
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,executor.execute(proc);
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,} finally {
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,PrivilegedAction<Void> pa = new PrivilegedSetTccl(loader);
06be968569c92907e5b6b75ed8a60b64a44234ed,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,Thread.currentThread().setContextClassLoader(loader);
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,added,0,"// During shutdown, executor may be null - avoid NPE"
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,added,0,if (!running) {
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,added,0,return;
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,added,0,getExecutor().execute(proc);
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,import java.security.AccessController;
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,import java.security.PrivilegedAction;
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,ClassLoader loader = Thread.currentThread().getContextClassLoader();
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,try {
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,//threads should not be created by the webapp classloader
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,if (Constants.IS_SECURITY_ENABLED) {
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,PrivilegedAction<Void> pa =
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,new PrivilegedSetTccl(
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,getClass().getClassLoader());
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,AccessController.doPrivileged(pa);
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,} else {
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,Thread.currentThread().setContextClassLoader(
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,}
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,"// During shutdown, executor may be null - avoid NPE"
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,if (!running) {
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,return;
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,getExecutor().execute(proc);
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,} finally {
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,PrivilegedAction<Void> pa = new PrivilegedSetTccl(loader);
06be968569c92907e5b6b75ed8a60b64a44234ed,7568602d202a00950df62d87cf7a417e22d2f7ee,deleted,1,Thread.currentThread().setContextClassLoader(loader);
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,added,0,"// During shutdown, executor may be null - avoid NPE"
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,added,0,if (!running) {
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,added,0,return;
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,added,0,getExecutor().execute(proc);
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,import java.security.AccessController;
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,import java.security.PrivilegedAction;
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,ClassLoader loader = Thread.currentThread().getContextClassLoader();
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,try {
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,//threads should not be created by the webapp classloader
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,if (Constants.IS_SECURITY_ENABLED) {
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,PrivilegedAction<Void> pa =
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,new PrivilegedSetTccl(
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,getClass().getClassLoader());
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,AccessController.doPrivileged(pa);
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,} else {
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,Thread.currentThread().setContextClassLoader(
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,}
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,"// During shutdown, executor may be null - avoid NPE"
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,if (!running) {
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,return;
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,getExecutor().execute(proc);
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,} finally {
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,PrivilegedAction<Void> pa = new PrivilegedSetTccl(loader);
06be968569c92907e5b6b75ed8a60b64a44234ed,4a8c4e78c91dee87ce113eb778f3dd064bed3c6e,deleted,1,Thread.currentThread().setContextClassLoader(loader);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,import java.security.AccessController;
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,import java.security.PrivilegedAction;
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,import org.apache.tomcat.util.net.Constants;
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,* Simple task thread factory to use to create threads for an executor
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,* implementation.
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,ClassLoader loader = Thread.currentThread().getContextClassLoader();
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,try {
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,// Threads should not be created by the webapp classloader
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,if (Constants.IS_SECURITY_ENABLED) {
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,PrivilegedAction<Void> pa = new PrivilegedSetTccl(
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,getClass().getClassLoader());
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,AccessController.doPrivileged(pa);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,} else {
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,Thread.currentThread().setContextClassLoader(
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,}
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,"TaskThread t = new TaskThread(group, r, namePrefix + threadNumber.getAndIncrement());"
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,t.setDaemon(daemon);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,t.setPriority(threadPriority);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,return t;
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,} finally {
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,PrivilegedAction<Void> pa = new PrivilegedSetTccl(loader);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,Thread.currentThread().setContextClassLoader(loader);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,private static class PrivilegedSetTccl implements PrivilegedAction<Void> {
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,private ClassLoader cl;
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,PrivilegedSetTccl(ClassLoader cl) {
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,this.cl = cl;
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,@Override
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,public Void run() {
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,Thread.currentThread().setContextClassLoader(cl);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,added,0,return null;
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,* Simple task thread factory to use to create threads for an executor implementation.
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,* @author fhanik
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,*
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,"TaskThread t = new TaskThread(group, r, namePrefix + threadNumber.getAndIncrement());"
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,t.setDaemon(daemon);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,t.setPriority(threadPriority);
06be968569c92907e5b6b75ed8a60b64a44234ed,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,return t;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"Hashtable<String, Object> contextEnv = new Hashtable<>();"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,try {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"namingContext = new NamingContext(contextEnv, getName());"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,} catch (NamingException e) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,// Never happens
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,}
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextAccessController.setSecurityToken(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextAccessController.setSecurityToken(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextBindings.bindContext(container, namingContext, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,if( log.isDebugEnabled() ) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"log.debug(""Bound "" + container );"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,// Configure write when read-only behaviour
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,namingContext.setExceptionOnFailedWrite(
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,getExceptionOnFailedWrite());
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,// Setting the context in read/write mode
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextAccessController.setWritable(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,createNamingContext();
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,logger.error
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"(sm.getString(""naming.namingContextCreationFailed"", e));"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,namingResources.addPropertyChangeListener(this);
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,// Binding the naming context to the class loader
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,if (container instanceof Context) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,// Setting the context in read only mode
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,ContextAccessController.setReadOnly(getName());
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextBindings.bindClassLoader(container, token,"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,((Context) container).getLoader().getClassLoader());
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"logger.error(sm.getString(""naming.bindFailed"", e));"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,if (container instanceof Server) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,org.apache.naming.factory.ResourceLinkFactory.setGlobalContext
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,this.getClass().getClassLoader());
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,if (container instanceof StandardServer) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,((StandardServer) container).setGlobalNamingContext
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,(namingContext);
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,} finally {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"// Regardless of success, so that we can do cleanup on configure_stop"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,initialized = true;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextBindings.unbindContext(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextBindings.unbindClassLoader(container, token,"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,namingResources.removePropertyChangeListener(this);
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextAccessController.unsetSecurityToken(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"ContextAccessController.unsetSecurityToken(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,// unregister mbeans.
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,Collection<ObjectName> names = objectNames.values();
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,for (ObjectName objectName : names) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,"Registry.getRegistry(null, null).unregisterComponent(objectName);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,objectNames.clear();
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,namingContext = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,envCtx = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,compCtx = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,added,0,initialized = false;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"Hashtable<String, Object> contextEnv = new Hashtable<>();"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"namingContext = new NamingContext(contextEnv, getName());"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,} catch (NamingException e) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,// Never happens
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,}
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextAccessController.setSecurityToken(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextAccessController.setSecurityToken(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextBindings.bindContext(container, namingContext, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,if( log.isDebugEnabled() ) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"log.debug(""Bound "" + container );"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,// Configure write when read-only behaviour
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,namingContext.setExceptionOnFailedWrite(
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,getExceptionOnFailedWrite());
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,// Setting the context in read/write mode
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextAccessController.setWritable(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,try {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,createNamingContext();
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,logger.error
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"(sm.getString(""naming.namingContextCreationFailed"", e));"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,namingResources.addPropertyChangeListener(this);
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,// Binding the naming context to the class loader
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,if (container instanceof Context) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,// Setting the context in read only mode
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,ContextAccessController.setReadOnly(getName());
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextBindings.bindClassLoader(container, token,"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,((Context) container).getLoader().getClassLoader());
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"logger.error(sm.getString(""naming.bindFailed"", e));"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,if (container instanceof Server) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,org.apache.naming.factory.ResourceLinkFactory.setGlobalContext
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,(namingContext);
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,this.getClass().getClassLoader());
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,if (container instanceof StandardServer) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,((StandardServer) container).setGlobalNamingContext
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,initialized = true;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextBindings.unbindContext(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextBindings.unbindClassLoader(container, token,"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,namingResources.removePropertyChangeListener(this);
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextAccessController.unsetSecurityToken(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"ContextAccessController.unsetSecurityToken(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,// unregister mbeans.
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,Collection<ObjectName> names = objectNames.values();
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,for (ObjectName objectName : names) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,"Registry.getRegistry(null, null).unregisterComponent(objectName);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,objectNames.clear();
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,namingContext = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,envCtx = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,compCtx = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,09a6f97c46906a2490a3fbb6e1ab289e346aa3f6,deleted,1,initialized = false;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"Hashtable<String, Object> contextEnv = new Hashtable<>();"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,try {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"namingContext = new NamingContext(contextEnv, getName());"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,} catch (NamingException e) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,// Never happens
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,}
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextAccessController.setSecurityToken(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextAccessController.setSecurityToken(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextBindings.bindContext(container, namingContext, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,if( log.isDebugEnabled() ) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"log.debug(""Bound "" + container );"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,// Configure write when read-only behaviour
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,namingContext.setExceptionOnFailedWrite(
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,getExceptionOnFailedWrite());
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,// Setting the context in read/write mode
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextAccessController.setWritable(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,createNamingContext();
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,logger.error
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"(sm.getString(""naming.namingContextCreationFailed"", e));"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,namingResources.addPropertyChangeListener(this);
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,// Binding the naming context to the class loader
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,if (container instanceof Context) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,// Setting the context in read only mode
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,ContextAccessController.setReadOnly(getName());
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextBindings.bindClassLoader(container, token,"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,((Context) container).getLoader().getClassLoader());
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"logger.error(sm.getString(""naming.bindFailed"", e));"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,if (container instanceof Server) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,org.apache.naming.factory.ResourceLinkFactory.setGlobalContext
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,this.getClass().getClassLoader());
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,if (container instanceof StandardServer) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,((StandardServer) container).setGlobalNamingContext
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,(namingContext);
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,} finally {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"// Regardless of success, so that we can do cleanup on configure_stop"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,initialized = true;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextBindings.unbindContext(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextBindings.unbindClassLoader(container, token,"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,namingResources.removePropertyChangeListener(this);
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextAccessController.unsetSecurityToken(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"ContextAccessController.unsetSecurityToken(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,// unregister mbeans.
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,Collection<ObjectName> names = objectNames.values();
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,for (ObjectName objectName : names) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,"Registry.getRegistry(null, null).unregisterComponent(objectName);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,objectNames.clear();
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,namingContext = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,envCtx = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,compCtx = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,added,0,initialized = false;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"Hashtable<String, Object> contextEnv = new Hashtable<>();"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"namingContext = new NamingContext(contextEnv, getName());"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,} catch (NamingException e) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,// Never happens
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,}
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextAccessController.setSecurityToken(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextAccessController.setSecurityToken(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextBindings.bindContext(container, namingContext, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,if( log.isDebugEnabled() ) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"log.debug(""Bound "" + container );"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,// Configure write when read-only behaviour
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,namingContext.setExceptionOnFailedWrite(
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,getExceptionOnFailedWrite());
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,// Setting the context in read/write mode
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextAccessController.setWritable(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,try {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,createNamingContext();
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,logger.error
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"(sm.getString(""naming.namingContextCreationFailed"", e));"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,namingResources.addPropertyChangeListener(this);
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,// Binding the naming context to the class loader
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,if (container instanceof Context) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,// Setting the context in read only mode
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,ContextAccessController.setReadOnly(getName());
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextBindings.bindClassLoader(container, token,"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,((Context) container).getLoader().getClassLoader());
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"logger.error(sm.getString(""naming.bindFailed"", e));"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,if (container instanceof Server) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,org.apache.naming.factory.ResourceLinkFactory.setGlobalContext
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,(namingContext);
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,this.getClass().getClassLoader());
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,if (container instanceof StandardServer) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,((StandardServer) container).setGlobalNamingContext
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,initialized = true;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextBindings.unbindContext(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextBindings.unbindClassLoader(container, token,"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,namingResources.removePropertyChangeListener(this);
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextAccessController.unsetSecurityToken(getName(), token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"ContextAccessController.unsetSecurityToken(container, token);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,// unregister mbeans.
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,Collection<ObjectName> names = objectNames.values();
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,for (ObjectName objectName : names) {
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"Registry.getRegistry(null, null).unregisterComponent(objectName);"
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,objectNames.clear();
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,namingContext = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,envCtx = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,compCtx = null;
72135ab69d6f2ed90a375f271cb146c917b8b21a,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,initialized = false;
c3a535e0af70834cff602105a4f0976ce30b25fa,e67a33f15d980cba3efbb272985b610a7609e686,added,0,ExceptionUtils.handleThrowable(tt);
c3a535e0af70834cff602105a4f0976ce30b25fa,e67a33f15d980cba3efbb272985b610a7609e686,deleted,1,ExceptionUtils.handleThrowable(t);
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,"protected void storeConnectorAttributes(PrintWriter aWriter, int indent,"
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,/**
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,* Print Attributes for the connector
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,*
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,* @param aWriter Current writer
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,* @param indent Indentation level
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,* @param bean The connector bean
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,* @param aDesc The connector description
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,* @throws Exception Store error occurred
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,* @deprecated  Use {@link #storeConnectorAttributes()}
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,*/
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,@Deprecated
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,"protected void storeConnectorAttribtues(PrintWriter aWriter, int indent,"
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,"Object bean, StoreDescription aDesc) throws Exception {"
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,"storeConnectorAttributes(aWriter, indent, bean, aDesc);"
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,}
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,deleted,1,"protected void storeConnectorAttribtues(PrintWriter aWriter, int indent,"
3623fbfaddfee6e8fe8086696a5326d5b8ca8cd2,950d49999d264e7eb9cd2fed370bb2306925e1f4,deleted,1,"storeConnectorAttribtues(aWriter, indent, bean, aDesc);"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,while (true) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,switch (getReadState()) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,case WAITING:
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"if (!changeReadState(ReadState.WAITING, ReadState.PROCESSING)) {"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,continue;
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,}
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,while (response.hasRemaining()) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,if (isSuspended()) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"if (!changeReadState(ReadState.SUSPENDING_PROCESS, ReadState.SUSPENDED)) {"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// There is still data available in the response buffer
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// Return here so that the response buffer will not be
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// cleared and there will be no data read from the
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// socket. Thus when the read operation is resumed first
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// the data left in the response buffer will be consumed
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// and then a new socket read will be performed
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,return;
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,inputBuffer.mark();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,inputBuffer.position(inputBuffer.limit()).limit(inputBuffer.capacity());
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"int toCopy = Math.min(response.remaining(), inputBuffer.remaining());"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// Copy remaining bytes read in HTTP phase to input buffer used by
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// frame processing
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,int orgLimit = response.limit();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,response.limit(response.position() + toCopy);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,inputBuffer.put(response);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,response.limit(orgLimit);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,inputBuffer.limit(inputBuffer.position()).reset();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// Process the data we have
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,processInputBuffer();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,response.clear();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// Get some more data
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,if (isOpen()) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"channel.read(response, null, handler);"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,} else {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,changeReadState(ReadState.CLOSING);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,case SUSPENDING_WAIT:
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"if (!changeReadState(ReadState.SUSPENDING_WAIT, ReadState.SUSPENDED)) {"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,default:
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,throw new IllegalStateException(
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"sm.getString(""wsFrameServer.illegalReadState"", getReadState()));"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,doResumeProcessing(true);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,doResumeProcessing(false);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,close(exc);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,private void doResumeProcessing(boolean checkOpenOnError) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,case PROCESSING:
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"if (!changeReadState(ReadState.PROCESSING, ReadState.WAITING)) {"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,resumeProcessing(checkOpenOnError);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,case SUSPENDING_PROCESS:
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"sm.getString(""wsFrame.illegalReadState"", getReadState()));"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,@Override
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,protected void resumeProcessing() {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,resumeProcessing(true);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,private void resumeProcessing(boolean checkOpenOnError) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,try {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,processSocketRead();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,} catch (IOException e) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,if (checkOpenOnError) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// Only send a close message on an IOException if the client
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// has not yet received a close control message from the server
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// as the IOException may be in response to the client
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// continuing to send a message after the server sent a close
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,// control message.
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,if (log.isDebugEnabled()) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,"log.debug(sm.getString(""wsFrameClient.ioe""), e);"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,added,0,close(e);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,while (response.hasRemaining()) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,inputBuffer.mark();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,inputBuffer.position(inputBuffer.limit()).limit(inputBuffer.capacity());
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,"int toCopy = Math.min(response.remaining(), inputBuffer.remaining());"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// Copy remaining bytes read in HTTP phase to input buffer used by
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// frame processing
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,int orgLimit = response.limit();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,response.limit(response.position() + toCopy);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,inputBuffer.put(response);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,response.limit(orgLimit);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,inputBuffer.limit(inputBuffer.position()).reset();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// Process the data we have
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,processInputBuffer();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,}
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,response.clear();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// Get some more data
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,if (isOpen()) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,"channel.read(response, null, handler);"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,try {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,processSocketRead();
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,} catch (IOException e) {
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// Only send a close message on an IOException if the client
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// has not yet received a close control message from the server
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// as the IOException may be in response to the client
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// continuing to send a message after the server sent a close
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,// control message.
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,"log.debug(sm.getString(""wsFrameClient.ioe""), e);"
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,close(e);
312fa67797f2f8b376743a4b3e616ad8a01a1623,c03b9118ad4b92be727e59a3e33ad9bb3b9d6bea,deleted,1,close(exc);
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,added,0,"writer.write(""  <provider"");"
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,added,0,"writeOptional(""className"", provider.getClassName(), writer);"
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,added,0,"writer.write("">\n"");"
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,added,0,"writer.write("" "" + name + ""=\"""");"
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,added,0,"writer.write(""\"""");"
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,deleted,1,"writer.write(""  <provider className=\"""");"
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,deleted,1,writer.write(provider.getClassName());
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,deleted,1,"writer.write(""\"">\n"");"
4f6cc8f037fdaa97719968b8d26f41ae5c19e826,8a10e8235545bc998f7401804bd8581daa2be2f2,deleted,1,"writer.write(""\"" "" + name + ""=\"""");"
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,String canonicalContextPath = getServletContext().getContextPath();
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,String uri = getRequestURI();
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,if (!getContext().getAllowMultipleLeadingForwardSlashInPath()) {
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,// Ensure that the returned value only starts with a single '/'.
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,// This prevents the value being misinterpreted as a protocol-
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,// relative URI if used with sendRedirect().
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,do {
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,pos++;
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,} while (pos < uri.length() && uri.charAt(pos) == '/');
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,pos--;
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,uri = uri.substring(pos);
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,}
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,added,0,char[] uriChars = uri.toCharArray();
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,deleted,1,String canonicalContextPath = getServletContext().getContextPath();
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,deleted,1,String uri = getRequestURI();
c6e1958637dddc04ef3367d1f0ba233fe45747fe,898c64a09de630caca32c171c70c3658923393ad,deleted,1,char[] uriChars = uri.toCharArray();
619656c59912c1eb5e79fe7aa788afca1b580f14,950d49999d264e7eb9cd2fed370bb2306925e1f4,added,0,"throw new IOException(""Context original file at """
619656c59912c1eb5e79fe7aa788afca1b580f14,950d49999d264e7eb9cd2fed370bb2306925e1f4,deleted,1,"throw new IOException(""Context orginal file at """
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,* This implementation populates the server name from the local name
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,* provided by the AJP message.
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,/**
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,* {@inheritDoc}
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,* <p>
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,* This implementation populates the server port from the local port
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,*/
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,@Override
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,protected void populatePort() {
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,// No host information (HTTP/1.0)
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,request.setServerPort(request.getLocalPort());
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,added,0,}
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,deleted,1,* This implementation populates the server name and port from the local
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,deleted,1,* name and port provided by the AJP message.
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,deleted,1,// No host information (HTTP/1.0)
4607ad58150985410abb55ec34f95e94a2548e06,9271c2be66fe04e492a9fe79b284c34a13755639,deleted,1,request.setServerPort(request.getLocalPort());
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,import org.apache.catalina.core.StandardContext;
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,List<String> objectAttrs = new ArrayList<>();
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,"objectAttrs.add(""className"");"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,"fakeAttributes.put(Object.class, objectAttrs);"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,// Ignore attribute added by Eclipse for its internal tracking
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,List<String> contextAttrs = new ArrayList<>();
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,"contextAttrs.add(""source"");"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,"fakeAttributes.put(StandardContext.class, contextAttrs);"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,deleted,1,List<String> attrs = new ArrayList<>();
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,deleted,1,"attrs.add(""className"");"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,deleted,1,"fakeAttributes.put(Object.class, attrs);"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,List<String> objectAttrs = new ArrayList<>();
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,"objectAttrs.add(""className"");"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,"fakeAttributes.put(Object.class, objectAttrs);"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,// Ignore attribute added by Eclipse for its internal tracking
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,List<String> contextAttrs = new ArrayList<>();
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,"contextAttrs.add(""source"");"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,added,0,"fakeAttributes.put(StandardContext.class, contextAttrs);"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,deleted,1,List<String> attrs = new ArrayList<>();
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,deleted,1,"attrs.add(""className"");"
d7fa05ab014d97ad02e5704343d1c7c587956eac,01fce2f545f885e458013caba9b8c2e34b425b90,deleted,1,"fakeAttributes.put(Object.class, attrs);"
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,public int getPortOffset() {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,// Try shortcut that should work for nearly all uses first as it does
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,// not use reflection and is therefore faster.
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,if (protocolHandler instanceof AbstractProtocol<?>) {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,return ((AbstractProtocol<?>) protocolHandler).getPortOffset();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,}
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,// Fall back for custom protocol handlers not based on AbstractProtocol
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,"Object port = getProperty(""portOffset"");"
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,if (port instanceof Integer) {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,return ((Integer) port).intValue();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,// Usually means an invalid protocol has been configured.
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,return 0;
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,public void setPortOffset(int portOffset) {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,"setProperty(""portOffset"", String.valueOf(portOffset));"
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,public int getPortWithOffset() {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,int port = getPort();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,// Zero is a special case and negative values are invalid
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,if (port > 0) {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,return port + getPortOffset();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,return port;
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,public int getRedirectPortWithOffset() {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,return getRedirectPort() + getPortOffset();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,int port = getPortWithOffset();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,if (getPortWithOffset() < 0) {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,added,0,"""coyoteConnector.invalidPort"", Integer.valueOf(getPortWithOffset())));"
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,deleted,1,int port = getPort();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,deleted,1,if (getPort() < 0) {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,1e7999356023ed430c54c510d69c74753beb2f31,deleted,1,"""coyoteConnector.invalidPort"", Integer.valueOf(getPort())));"
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,public int getPortOffset() { return endpoint.getPortOffset(); }
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,public void setPortOffset(int portOffset) {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,endpoint.setPortOffset(portOffset);
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,}
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,public int getPortWithOffset() { return endpoint.getPortWithOffset(); }
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,int port = getPortWithOffset();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,name.append(port);
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,logPortOffset();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,private void logPortOffset() {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,if (getPort() != getPortWithOffset()) {
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,"getLog().info(sm.getString(""abstractProtocolHandler.portOffset"", getName(),"
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,"String.valueOf(getPort()), String.valueOf(getPortOffset())));"
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,deleted,1,int port = getPort();
492a6dfb58d2e4b40a3380858a6244be4203dcf1,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,deleted,1,name.append(getPort());
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,if (properties.getMaxAge()>0 && properties.isPoolSweeperEnabled() &&
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,properties.getTimeBetweenEvictionRunsMillis()>properties.getMaxAge()) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,"log.warn(""timeBetweenEvictionRunsMillis is larger than maxAge, setting timeBetweenEvictionRunsMillis to: "" + properties.getMaxAge());"
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,properties.setTimeBetweenEvictionRunsMillis((int)properties.getMaxAge());
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,}
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,int validationMode = isInitNewConnections() ?
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,PooledConnection.VALIDATE_INIT:
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,PooledConnection.VALIDATE_BORROW;
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,/**
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* Returns whether new connections should be initialized by invoking
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* {@link PooledConnection#validate(int)} with {@link PooledConnection#VALIDATE_INIT}.
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,*
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* @return true if pool is either configured to test connections on connect or a non-NULL init
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* SQL has been configured
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,*/
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,private boolean isInitNewConnections() {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,return getPoolProperties().isTestOnConnect() || getPoolProperties().getInitSQL()!=null;
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,return false;
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* Checks whether this connection has {@link PooledConnection#isMaxAgeExpired() expired} and tries to reconnect if it has.
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,"* @return true if the connection was either not expired or expired but reconnecting succeeded,"
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* false if reconnecting failed (either because a new connection could not be established or
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* validating the newly created connection failed)
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* @see PooledConnection#isMaxAgeExpired()
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,protected boolean reconnectIfExpired(PooledConnection con) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,if (con.isMaxAgeExpired()) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,try {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,"if (log.isDebugEnabled()) log.debug( ""Connection [""+this+""] expired because of maxAge, trying to reconnect"" );"
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,con.reconnect();
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,reconnectedCount.incrementAndGet();
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,if ( isInitNewConnections() && !con.validate( PooledConnection.VALIDATE_INIT)) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,} catch(Exception e) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,"log.error(""Failed to re-connect connection [""+this+""] that expired because of maxAge"",e);"
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,return true;
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,"if (!shouldClose(con,PooledConnection.VALIDATE_RETURN) && reconnectIfExpired(con)) {"
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,testAllIdle(false);
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* Forces a validation of all idle connections if {@link PoolProperties#testWhileIdle} is set.
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* @param checkMaxAgeOnly whether to only check {@link PooledConnection#isMaxAgeExpired()} but
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,*                        not invoke {@link PooledConnection#validate(int)}
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,public void testAllIdle(boolean checkMaxAgeOnly) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,boolean release;
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,if (checkMaxAgeOnly) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,release = !reconnectIfExpired(con);
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,} else {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,release = !reconnectIfExpired(con) || !con.validate(PooledConnection.VALIDATE_IDLE);
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,if (release) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,if (pool.getPoolProperties().isTestWhileIdle()) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,pool.testAllIdle(false);
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,} else if (pool.getPoolProperties().getMaxAge() > 0) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,pool.testAllIdle(true);
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,boolean wasEnabled = getPoolProperties().isPoolSweeperEnabled();
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,//make sure the pool is properly configured
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,pool.checkPoolConfiguration(getPoolProperties());
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,poolCleanerAttributeUpdated(wasEnabled);
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* Starts/stops pool cleaner thread as necessary after its configuration properties
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* were updated.
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* This method must be called <b>after</b> configuration properties affecting the pool cleaner
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* have been updated.
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,* @param wasEnabled whether the pool cleaner was enabled <b>before</b> the configuration change occurred.
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,private void poolCleanerAttributeUpdated(boolean wasEnabled) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,int validationMode = getPoolProperties().isTestOnConnect() || getPoolProperties().getInitSQL()!=null ?
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,PooledConnection.VALIDATE_INIT :
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,PooledConnection.VALIDATE_BORROW;
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,if (con.isMaxAgeExpired()) return true;
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,else return false;
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,"if (!shouldClose(con,PooledConnection.VALIDATE_RETURN)) {"
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,if (!con.validate(PooledConnection.VALIDATE_IDLE)) {
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,if (pool.getPoolProperties().isTestWhileIdle())
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,pool.testAllIdle();
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,boolean shouldBeEnabled = getPoolProperties().isPoolSweeperEnabled();
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,//make sure pool cleaner starts/stops when it should
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,if (!wasEnabled && shouldBeEnabled) pool.initializePoolCleaner(getPoolProperties());
116a63b516fc13ea614ca219dff1fc9d61257b90,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,else if (wasEnabled && !shouldBeEnabled) pool.terminatePoolCleaner();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,import java.util.concurrent.RejectedExecutionException;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,import java.util.concurrent.RejectedExecutionHandler;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,import java.util.concurrent.ThreadPoolExecutor;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"static final String THREAD_PREFIX = ""AsyncFileHandlerWriter-"";"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,private static final LoggerExecutorService LOGGER_SERVICE =
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"new LoggerExecutorService(OVERFLOW_DROP_TYPE, MAX_RECORDS);"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,private final LoggerExecutorService loggerService;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"this(directory, prefix, suffix, maxDays, LOGGER_SERVICE);"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,}
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"AsyncFileHandler(String directory, String prefix, String suffix, Integer maxDays,"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,LoggerExecutorService loggerService) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,loggerService.registerHandler();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,this.loggerService = loggerService;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,loggerService.deregisterHandler();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,loggerService.execute(new Runnable() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,@Override
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,public void run() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,/*
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"* During Tomcat shutdown, the Handlers are closed before the"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,* executor queue is flushed therefore the closed flag is
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,* ignored if the executor is shutting down.
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,*/
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,if (!closed || loggerService.isTerminating()) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,publishInternal(record);
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,});
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,static class LoggerExecutorService extends ThreadPoolExecutor {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,private static final ThreadFactory THREAD_FACTORY = new ThreadFactory(THREAD_PREFIX);
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,* start/stop the LoggerExecutorService but that would require careful
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,* locking as the current size of the queue also needs to be taken into
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,* account and there are lost of edge cases when rapidly starting and
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,* stopping handlers.
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,private final AtomicInteger handlerCount = new AtomicInteger();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"public LoggerExecutorService(final int overflowDropType, final int maxRecords) {"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"super(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingDeque<>(maxRecords), THREAD_FACTORY);"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,switch (overflowDropType) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,case OVERFLOW_DROP_LAST:
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,default:
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,setRejectedExecutionHandler(new DropLastPolicy());
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,break;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,case OVERFLOW_DROP_FIRST:
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,setRejectedExecutionHandler(new DiscardOldestPolicy());
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,case OVERFLOW_DROP_FLUSH:
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,setRejectedExecutionHandler(new DropFlushPolicy());
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,case OVERFLOW_DROP_CURRENT:
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,setRejectedExecutionHandler(new DiscardPolicy());
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,public LinkedBlockingDeque<Runnable> getQueue() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,return (LinkedBlockingDeque<Runnable>) super.getQueue();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,public void registerHandler() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,public void deregisterHandler() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,shutdown();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,try {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"awaitTermination(10, TimeUnit.SECONDS);"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,} catch (InterruptedException e) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,// Ignore
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,shutdownNow();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,private static class DropFlushPolicy implements RejectedExecutionHandler {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,if (executor.isShutdown()) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"if (executor.getQueue().offer(r, 1000, TimeUnit.MILLISECONDS)) {"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,Thread.currentThread().interrupt();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,"throw new RejectedExecutionException(""Interrupted"", e);"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,private static class DropLastPolicy implements RejectedExecutionHandler {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,if (!executor.isShutdown()) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,((LoggerExecutorService) executor).getQueue().pollLast();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,added,0,executor.execute(r);
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,protected static final LinkedBlockingDeque<LogEntry> queue =
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,new LinkedBlockingDeque<>(MAX_RECORDS);
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,protected static final LoggerThread logger = new LoggerThread();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,static {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,logger.start();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,}
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,LoggerThread.deregisterHandler();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,LoggerThread.registerHandler();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,"LogEntry entry = new LogEntry(record, this);"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,boolean added = false;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,try {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,while (!added && !queue.offer(entry)) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,switch (OVERFLOW_DROP_TYPE) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,case OVERFLOW_DROP_LAST: {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,//remove the last added element
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,queue.pollLast();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,break;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,case OVERFLOW_DROP_FIRST: {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,//remove the first element in the queue
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,queue.pollFirst();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,case OVERFLOW_DROP_FLUSH: {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,"added = queue.offer(entry, 1000, TimeUnit.MILLISECONDS);"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,case OVERFLOW_DROP_CURRENT: {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,added = true;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,}//switch
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,}//while
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,} catch (InterruptedException x) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,// Allow thread to be interrupted and back out of the publish
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,// operation. No further action required.
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,protected static class LoggerThread extends Thread {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,* start/stop the LoggerThread but that would require careful locking as
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,* the current size of the queue also needs to be taken into account and
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,* there are lost of edge cases when rapidly starting and stopping
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,* handlers.
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,private static final AtomicInteger handlerCount = new AtomicInteger();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,public static void registerHandler() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,public static void deregisterHandler() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,int sleepCount = 0;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,while (!AsyncFileHandler.queue.isEmpty() && sleepCount < 10000) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,Thread.sleep(1);
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,} catch (InterruptedException e) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,// Ignore
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,sleepCount++;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,public LoggerThread() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,this.setDaemon(true);
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,"this.setName(""AsyncFileHandlerWriter-"" + System.identityHashCode(this));"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,public void run() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,LogEntry entry = queue.take();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,entry.flush();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,// Ignore the attempt to interrupt the thread.
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,} catch (Exception x) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,x.printStackTrace();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,protected static class LogEntry {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,private final LogRecord record;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,private final AsyncFileHandler handler;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,"public LogEntry(LogRecord record, AsyncFileHandler handler) {"
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,super();
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,this.record = record;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,this.handler = handler;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,public boolean flush() {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,if (handler.closed) {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,return false;
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,} else {
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,handler.publishInternal(record);
c0c50fb1e422e86797c1d570d386bab902e90fab,de78c473b92fb0d454ba156fd48a8aa776a26196,deleted,1,return true;
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,// No need to be volatile. This is written and read in a single thread
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,// (when stopping a context and firing the listeners)
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,private int forcedRemainingCapacity = -1;
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,@Override
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,public int remainingCapacity() {
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,if (forcedRemainingCapacity > DEFAULT_FORCED_REMAINING_CAPACITY) {
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,// ThreadPoolExecutor.setCorePoolSize checks that
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,// remainingCapacity==0 to allow to interrupt idle threads
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,"// I don't see why, but this hack allows to conform to this"
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,"// ""requirement"""
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,return forcedRemainingCapacity;
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,}
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,return super.remainingCapacity();
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,public void setForcedRemainingCapacity(int forcedRemainingCapacity) {
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,this.forcedRemainingCapacity = forcedRemainingCapacity;
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,void resetForcedRemainingCapacity() {
6afb00b3d5c5de8b6f0000bb02cd1159356763fb,48954891c3a40a7bf2753648f2d1904b17a9421f,deleted,1,this.forcedRemainingCapacity = DEFAULT_FORCED_REMAINING_CAPACITY;
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"try (OutputStreamWriter osw = new OutputStreamWriter(baos, StandardCharsets.ISO_8859_1)) {"
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"for (Map.Entry<String, String> trailerField : trailerFields.entrySet()) {"
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,// Ignore disallowed headers
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,if (disallowedTrailerFieldNames.contains(
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,trailerField.getKey().toLowerCase(Locale.ENGLISH))) {
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,continue;
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,}
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,osw.write(trailerField.getKey());
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,osw.write(':');
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,osw.write(' ');
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,osw.write(trailerField.getValue());
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"osw.write(""\r\n"");"
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"OutputStreamWriter osw = new OutputStreamWriter(baos, StandardCharsets.ISO_8859_1);"
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"for (Map.Entry<String,String> trailerField : trailerFields.entrySet()) {"
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,// Ignore disallowed headers
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,if (disallowedTrailerFieldNames.contains(
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,trailerField.getKey().toLowerCase(Locale.ENGLISH))) {
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,continue;
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,}
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,osw.write(trailerField.getKey());
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,osw.write(':');
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,osw.write(' ');
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,osw.write(trailerField.getValue());
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"osw.write(""\r\n"");"
03ae0436fa1ffefe334432238b020532a7165016,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,osw.close();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,"private static void checkBounds(Object base, int idx) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,private static int coerce(Object property) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,"private static final void checkBounds(Object base, int idx) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,private static final int coerce(Object property) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,private static int coerce(Object property) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,private static final int coerce(Object property) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,void addCookie(Cookie cookie);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,boolean containsHeader(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,String encodeURL(String url);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,String encodeRedirectURL(String url);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"void sendError(int sc, String msg) throws IOException;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,void sendError(int sc) throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,void sendRedirect(String location) throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"void setDateHeader(String name, long date);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"void addDateHeader(String name, long date);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"void setHeader(String name, String value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"void addHeader(String name, String value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"void setIntHeader(String name, int value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"void addIntHeader(String name, int value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,void setStatus(int sc);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int getStatus();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,String getHeader(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,Collection<String> getHeaders(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,Collection<String> getHeaderNames();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"default void setTrailerFields(Supplier<Map<String, String>> supplier) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,"default Supplier<Map<String, String>> getTrailerFields() {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_CONTINUE = 100;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_SWITCHING_PROTOCOLS = 101;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_OK = 200;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_CREATED = 201;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_ACCEPTED = 202;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_NON_AUTHORITATIVE_INFORMATION = 203;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_NO_CONTENT = 204;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_RESET_CONTENT = 205;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_PARTIAL_CONTENT = 206;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_MULTIPLE_CHOICES = 300;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_MOVED_PERMANENTLY = 301;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_MOVED_TEMPORARILY = 302;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_FOUND = 302;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_SEE_OTHER = 303;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_NOT_MODIFIED = 304;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_USE_PROXY = 305;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_TEMPORARY_REDIRECT = 307;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_PERMANENT_REDIRECT = 308;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_BAD_REQUEST = 400;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_UNAUTHORIZED = 401;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_PAYMENT_REQUIRED = 402;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_FORBIDDEN = 403;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_NOT_FOUND = 404;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_METHOD_NOT_ALLOWED = 405;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_NOT_ACCEPTABLE = 406;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_PROXY_AUTHENTICATION_REQUIRED = 407;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_REQUEST_TIMEOUT = 408;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_CONFLICT = 409;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_GONE = 410;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_LENGTH_REQUIRED = 411;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_PRECONDITION_FAILED = 412;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_REQUEST_ENTITY_TOO_LARGE = 413;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_REQUEST_URI_TOO_LONG = 414;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_UNSUPPORTED_MEDIA_TYPE = 415;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_REQUESTED_RANGE_NOT_SATISFIABLE = 416;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_EXPECTATION_FAILED = 417;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_MISDIRECTED_REQUEST = 421;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_UNPROCESSABLE_CONTENT = 422;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_UPGRADE_REQUIRED = 426;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_INTERNAL_SERVER_ERROR = 500;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_NOT_IMPLEMENTED = 501;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_BAD_GATEWAY = 502;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_SERVICE_UNAVAILABLE = 503;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_GATEWAY_TIMEOUT = 504;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,added,0,int SC_HTTP_VERSION_NOT_SUPPORTED = 505;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public void addCookie(Cookie cookie);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public boolean containsHeader(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public String encodeURL(String url);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public String encodeRedirectURL(String url);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public void sendError(int sc, String msg) throws IOException;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public void sendError(int sc) throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public void sendRedirect(String location) throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public void setDateHeader(String name, long date);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public void addDateHeader(String name, long date);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public void setHeader(String name, String value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public void addHeader(String name, String value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public void setIntHeader(String name, int value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public void addIntHeader(String name, int value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public void setStatus(int sc);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public int getStatus();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public String getHeader(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public Collection<String> getHeaders(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public Collection<String> getHeaderNames();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public default void setTrailerFields(Supplier<Map<String, String>> supplier) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,"public default Supplier<Map<String, String>> getTrailerFields() {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_CONTINUE = 100;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_SWITCHING_PROTOCOLS = 101;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_OK = 200;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_CREATED = 201;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_ACCEPTED = 202;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_NON_AUTHORITATIVE_INFORMATION = 203;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_NO_CONTENT = 204;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_RESET_CONTENT = 205;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_PARTIAL_CONTENT = 206;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_MULTIPLE_CHOICES = 300;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_MOVED_PERMANENTLY = 301;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_MOVED_TEMPORARILY = 302;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_FOUND = 302;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_SEE_OTHER = 303;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_NOT_MODIFIED = 304;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_USE_PROXY = 305;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_TEMPORARY_REDIRECT = 307;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_PERMANENT_REDIRECT = 308;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_BAD_REQUEST = 400;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_UNAUTHORIZED = 401;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_PAYMENT_REQUIRED = 402;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_FORBIDDEN = 403;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_NOT_FOUND = 404;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_METHOD_NOT_ALLOWED = 405;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_NOT_ACCEPTABLE = 406;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_PROXY_AUTHENTICATION_REQUIRED = 407;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_REQUEST_TIMEOUT = 408;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_CONFLICT = 409;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_GONE = 410;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_LENGTH_REQUIRED = 411;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_PRECONDITION_FAILED = 412;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_REQUEST_ENTITY_TOO_LARGE = 413;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_REQUEST_URI_TOO_LONG = 414;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_UNSUPPORTED_MEDIA_TYPE = 415;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_REQUESTED_RANGE_NOT_SATISFIABLE = 416;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_EXPECTATION_FAILED = 417;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_MISDIRECTED_REQUEST = 421;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_UNPROCESSABLE_CONTENT = 422;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_UPGRADE_REQUIRED = 426;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_INTERNAL_SERVER_ERROR = 500;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_NOT_IMPLEMENTED = 501;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_BAD_GATEWAY = 502;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_SERVICE_UNAVAILABLE = 503;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_GATEWAY_TIMEOUT = 504;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,075920d486ca37e0286586a9f017b4159ac63d65,deleted,1,public static final int SC_HTTP_VERSION_NOT_SUPPORTED = 505;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,int EVAL_BODY_BUFFERED = 2;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,public static final int EVAL_BODY_BUFFERED = 2;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,int EVAL_BODY_AGAIN = 2;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,public static final int EVAL_BODY_AGAIN = 2;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,int SKIP_BODY = 0;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,int EVAL_BODY_INCLUDE = 1;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,int SKIP_PAGE = 5;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,added,0,int EVAL_PAGE = 6;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,public static final int SKIP_BODY = 0;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,public static final int EVAL_BODY_INCLUDE = 1;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,public static final int SKIP_PAGE = 5;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0c9a9e9169a844d892288ab69c919dac9560692a,deleted,1,public static final int EVAL_PAGE = 6;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"String ADD_WELCOME_FILE_EVENT = ""addWelcomeFile"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"String REMOVE_WELCOME_FILE_EVENT = ""removeWelcomeFile"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"String  CLEAR_WELCOME_FILES_EVENT = ""clearWelcomeFiles"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"String CHANGE_SESSION_ID_EVENT = ""changeSessionId"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getAllowCasualMultipartParsing();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setAllowCasualMultipartParsing(boolean allowCasualMultipartParsing);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Object[] getApplicationEventListeners();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setApplicationEventListeners(Object listeners[]);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Object[] getApplicationLifecycleListeners();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setApplicationLifecycleListeners(Object listeners[]);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getCharset(Locale locale);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,URL getConfigFile();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setConfigFile(URL configFile);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getConfigured();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setConfigured(boolean configured);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getCookies();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setCookies(boolean cookies);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getSessionCookieName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setSessionCookieName(String sessionCookieName);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getUseHttpOnly();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setUseHttpOnly(boolean useHttpOnly);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getSessionCookieDomain();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setSessionCookieDomain(String sessionCookieDomain);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getSessionCookiePath();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setSessionCookiePath(String sessionCookiePath);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getSessionCookiePathUsesTrailingSlash();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setSessionCookiePathUsesTrailingSlash(
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getCrossContext();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getAltDDName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setAltDDName(String altDDName) ;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setCrossContext(boolean crossContext);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getDenyUncoveredHttpMethods();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setDenyUncoveredHttpMethods(boolean denyUncoveredHttpMethods);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getDisplayName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setDisplayName(String displayName);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getDistributable();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setDistributable(boolean distributable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getDocBase();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setDocBase(String docBase);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getEncodedPath();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getIgnoreAnnotations();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setIgnoreAnnotations(boolean ignoreAnnotations);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getMetadataComplete();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setMetadataComplete(boolean metadataComplete);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,LoginConfig getLoginConfig();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setLoginConfig(LoginConfig config);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,NamingResourcesImpl getNamingResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setNamingResources(NamingResourcesImpl namingResources);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getPath();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setPath(String path);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getPublicId();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setPublicId(String publicId);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getReloadable();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setReloadable(boolean reloadable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getOverride();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setOverride(boolean override);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getPrivileged();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setPrivileged(boolean privileged);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,ServletContext getServletContext();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,int getSessionTimeout();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setSessionTimeout(int timeout);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getSwallowAbortedUploads();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setSwallowAbortedUploads(boolean swallowAbortedUploads);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getSwallowOutput();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setSwallowOutput(boolean swallowOutput);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getWrapperClass();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setWrapperClass(String wrapperClass);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getXmlNamespaceAware();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setXmlNamespaceAware(boolean xmlNamespaceAware);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getXmlValidation();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setXmlValidation(boolean xmlValidation);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getXmlBlockExternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setXmlBlockExternal(boolean xmlBlockExternal);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getTldValidation();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setTldValidation(boolean tldValidation);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,JarScanner getJarScanner();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setJarScanner(JarScanner jarScanner);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Authenticator getAuthenticator();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setLogEffectiveWebXml(boolean logEffectiveWebXml);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getLogEffectiveWebXml();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,InstanceManager getInstanceManager();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setInstanceManager(InstanceManager instanceManager);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setContainerSciFilter(String containerSciFilter);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getContainerSciFilter();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getParallelAnnotationScanning();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setParallelAnnotationScanning(boolean parallelAnnotationScanning);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addApplicationListener(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addApplicationParameter(ApplicationParameter parameter);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addConstraint(SecurityConstraint constraint);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addErrorPage(ErrorPage errorPage);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addFilterDef(FilterDef filterDef);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addFilterMap(FilterMap filterMap);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addFilterMapBefore(FilterMap filterMap);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"void addLocaleEncodingMappingParameter(String locale, String encoding);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"void addMimeMapping(String extension, String mimeType);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"void addParameter(String name, String value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"void addRoleMapping(String role, String link);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addSecurityRole(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"default void addServletMappingDecoded(String pattern, String name) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"void addServletMappingDecoded(String pattern, String name,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addWatchedResource(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addWelcomeFile(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addWrapperLifecycle(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addWrapperListener(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,InstanceManager createInstanceManager();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Wrapper createWrapper();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findApplicationListeners();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,ApplicationParameter[] findApplicationParameters();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,SecurityConstraint[] findConstraints();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,ErrorPage findErrorPage(int errorCode);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,ErrorPage findErrorPage(Throwable throwable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,ErrorPage[] findErrorPages();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,FilterDef findFilterDef(String filterName);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,FilterDef[] findFilterDefs();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,FilterMap[] findFilterMaps();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String findMimeMapping(String extension);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findMimeMappings();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String findParameter(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findParameters();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String findRoleMapping(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean findSecurityRole(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findSecurityRoles();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String findServletMapping(String pattern);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findServletMappings();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,ThreadBindingListener getThreadBindingListener();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setThreadBindingListener(ThreadBindingListener threadBindingListener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findWatchedResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean findWelcomeFile(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findWelcomeFiles();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findWrapperLifecycles();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String[] findWrapperListeners();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean fireRequestInitEvent(ServletRequest request);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean fireRequestDestroyEvent(ServletRequest request);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void reload();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeApplicationListener(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeApplicationParameter(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeConstraint(SecurityConstraint constraint);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeErrorPage(ErrorPage errorPage);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeFilterDef(FilterDef filterDef);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeFilterMap(FilterMap filterMap);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeMimeMapping(String extension);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeParameter(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeRoleMapping(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeSecurityRole(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeServletMapping(String pattern);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeWatchedResource(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeWelcomeFile(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeWrapperLifecycle(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeWrapperListener(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getRealPath(String path);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,int getEffectiveMajorVersion();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setEffectiveMajorVersion(int major);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,int getEffectiveMinorVersion();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setEffectiveMinorVersion(int minor);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,JspConfigDescriptor getJspConfigDescriptor();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setJspConfigDescriptor(JspConfigDescriptor descriptor);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addServletContainerInitializer(
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getPaused();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setResourceOnlyServlets(String resourceOnlyServlets);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getResourceOnlyServlets();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean isResourceOnlyServlet(String servletName);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getBaseName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setWebappVersion(String webappVersion);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getWebappVersion();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setFireRequestListenersOnForwards(boolean enable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getFireRequestListenersOnForwards();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setPreemptiveAuthentication(boolean enable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getPreemptiveAuthentication();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setSendRedirectBody(boolean enable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getSendRedirectBody();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Loader getLoader();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setLoader(Loader loader);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,WebResourceRoot getResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setResources(WebResourceRoot resources);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Manager getManager();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setManager(Manager manager);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setAddWebinfClassesResources(boolean addWebinfClassesResources);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getAddWebinfClassesResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"void addPostConstructMethod(String clazz, String method);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"void addPreDestroyMethod(String clazz, String method);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removePostConstructMethod(String clazz);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removePreDestroyMethod(String clazz);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String findPostConstructMethod(String clazz);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String findPreDestroyMethod(String clazz);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"Map<String, String> findPostConstructMethods();"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,"Map<String, String> findPreDestroyMethods();"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Object getNamingToken();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setCookieProcessor(CookieProcessor cookieProcessor);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,CookieProcessor getCookieProcessor();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setValidateClientProvidedNewSessionId(boolean validateClientProvidedNewSessionId);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getValidateClientProvidedNewSessionId();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setMapperContextRootRedirectEnabled(boolean mapperContextRootRedirectEnabled);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getMapperContextRootRedirectEnabled();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setMapperDirectoryRedirectEnabled(boolean mapperDirectoryRedirectEnabled);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getMapperDirectoryRedirectEnabled();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setUseRelativeRedirects(boolean useRelativeRedirects);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getUseRelativeRedirects();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setDispatchersUseEncodedPaths(boolean dispatchersUseEncodedPaths);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getDispatchersUseEncodedPaths();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setRequestCharacterEncoding(String encoding);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getRequestCharacterEncoding();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setResponseCharacterEncoding(String encoding);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getResponseCharacterEncoding();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setAllowMultipleLeadingForwardSlashInPath(
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getAllowMultipleLeadingForwardSlashInPath();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void incrementInProgressAsyncCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void decrementInProgressAsyncCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setCreateUploadTargets(boolean createUploadTargets);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getCreateUploadTargets();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getAlwaysAccessSession();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setAlwaysAccessSession(boolean alwaysAccessSession);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getContextGetResourceRequiresSlash();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setContextGetResourceRequiresSlash(boolean contextGetResourceRequiresSlash);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,boolean getDispatcherWrapsSameObject();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setDispatcherWrapsSameObject(boolean dispatcherWrapsSameObject);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public static final String ADD_WELCOME_FILE_EVENT = ""addWelcomeFile"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public static final String REMOVE_WELCOME_FILE_EVENT = ""removeWelcomeFile"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public static final String  CLEAR_WELCOME_FILES_EVENT = ""clearWelcomeFiles"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public static final String CHANGE_SESSION_ID_EVENT = ""changeSessionId"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getAllowCasualMultipartParsing();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setAllowCasualMultipartParsing(boolean allowCasualMultipartParsing);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Object[] getApplicationEventListeners();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setApplicationEventListeners(Object listeners[]);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Object[] getApplicationLifecycleListeners();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setApplicationLifecycleListeners(Object listeners[]);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getCharset(Locale locale);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public URL getConfigFile();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setConfigFile(URL configFile);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getConfigured();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setConfigured(boolean configured);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getCookies();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setCookies(boolean cookies);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getSessionCookieName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setSessionCookieName(String sessionCookieName);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getUseHttpOnly();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setUseHttpOnly(boolean useHttpOnly);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getSessionCookieDomain();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setSessionCookieDomain(String sessionCookieDomain);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getSessionCookiePath();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setSessionCookiePath(String sessionCookiePath);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getSessionCookiePathUsesTrailingSlash();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setSessionCookiePathUsesTrailingSlash(
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getCrossContext();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getAltDDName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setAltDDName(String altDDName) ;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setCrossContext(boolean crossContext);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getDenyUncoveredHttpMethods();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setDenyUncoveredHttpMethods(boolean denyUncoveredHttpMethods);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getDisplayName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setDisplayName(String displayName);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getDistributable();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setDistributable(boolean distributable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getDocBase();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setDocBase(String docBase);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getEncodedPath();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getIgnoreAnnotations();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setIgnoreAnnotations(boolean ignoreAnnotations);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getMetadataComplete();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setMetadataComplete(boolean metadataComplete);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public LoginConfig getLoginConfig();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setLoginConfig(LoginConfig config);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public NamingResourcesImpl getNamingResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setNamingResources(NamingResourcesImpl namingResources);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getPath();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setPath(String path);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getPublicId();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setPublicId(String publicId);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getReloadable();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setReloadable(boolean reloadable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getOverride();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setOverride(boolean override);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getPrivileged();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setPrivileged(boolean privileged);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public ServletContext getServletContext();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public int getSessionTimeout();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setSessionTimeout(int timeout);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getSwallowAbortedUploads();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setSwallowAbortedUploads(boolean swallowAbortedUploads);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getSwallowOutput();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setSwallowOutput(boolean swallowOutput);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getWrapperClass();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setWrapperClass(String wrapperClass);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getXmlNamespaceAware();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setXmlNamespaceAware(boolean xmlNamespaceAware);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getXmlValidation();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setXmlValidation(boolean xmlValidation);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getXmlBlockExternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setXmlBlockExternal(boolean xmlBlockExternal);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getTldValidation();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setTldValidation(boolean tldValidation);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public JarScanner getJarScanner();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setJarScanner(JarScanner jarScanner);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Authenticator getAuthenticator();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setLogEffectiveWebXml(boolean logEffectiveWebXml);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getLogEffectiveWebXml();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public InstanceManager getInstanceManager();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setInstanceManager(InstanceManager instanceManager);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setContainerSciFilter(String containerSciFilter);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getContainerSciFilter();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getParallelAnnotationScanning();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setParallelAnnotationScanning(boolean parallelAnnotationScanning);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addApplicationListener(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addApplicationParameter(ApplicationParameter parameter);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addConstraint(SecurityConstraint constraint);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addErrorPage(ErrorPage errorPage);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addFilterDef(FilterDef filterDef);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addFilterMap(FilterMap filterMap);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addFilterMapBefore(FilterMap filterMap);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public void addLocaleEncodingMappingParameter(String locale, String encoding);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public void addMimeMapping(String extension, String mimeType);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public void addParameter(String name, String value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public void addRoleMapping(String role, String link);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addSecurityRole(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public default void addServletMappingDecoded(String pattern, String name) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public void addServletMappingDecoded(String pattern, String name,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addWatchedResource(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addWelcomeFile(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addWrapperLifecycle(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addWrapperListener(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public InstanceManager createInstanceManager();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Wrapper createWrapper();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findApplicationListeners();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public ApplicationParameter[] findApplicationParameters();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public SecurityConstraint[] findConstraints();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public ErrorPage findErrorPage(int errorCode);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public ErrorPage findErrorPage(Throwable throwable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public ErrorPage[] findErrorPages();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public FilterDef findFilterDef(String filterName);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public FilterDef[] findFilterDefs();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public FilterMap[] findFilterMaps();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String findMimeMapping(String extension);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findMimeMappings();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String findParameter(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findParameters();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String findRoleMapping(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean findSecurityRole(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findSecurityRoles();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String findServletMapping(String pattern);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findServletMappings();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public ThreadBindingListener getThreadBindingListener();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setThreadBindingListener(ThreadBindingListener threadBindingListener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findWatchedResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean findWelcomeFile(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findWelcomeFiles();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findWrapperLifecycles();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String[] findWrapperListeners();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean fireRequestInitEvent(ServletRequest request);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean fireRequestDestroyEvent(ServletRequest request);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void reload();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeApplicationListener(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeApplicationParameter(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeConstraint(SecurityConstraint constraint);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeErrorPage(ErrorPage errorPage);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeFilterDef(FilterDef filterDef);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeFilterMap(FilterMap filterMap);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeMimeMapping(String extension);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeParameter(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeRoleMapping(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeSecurityRole(String role);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeServletMapping(String pattern);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeWatchedResource(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeWelcomeFile(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeWrapperLifecycle(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeWrapperListener(String listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getRealPath(String path);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public int getEffectiveMajorVersion();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setEffectiveMajorVersion(int major);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public int getEffectiveMinorVersion();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setEffectiveMinorVersion(int minor);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public JspConfigDescriptor getJspConfigDescriptor();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setJspConfigDescriptor(JspConfigDescriptor descriptor);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addServletContainerInitializer(
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getPaused();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setResourceOnlyServlets(String resourceOnlyServlets);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getResourceOnlyServlets();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean isResourceOnlyServlet(String servletName);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getBaseName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setWebappVersion(String webappVersion);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getWebappVersion();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setFireRequestListenersOnForwards(boolean enable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getFireRequestListenersOnForwards();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setPreemptiveAuthentication(boolean enable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getPreemptiveAuthentication();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setSendRedirectBody(boolean enable);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getSendRedirectBody();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Loader getLoader();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setLoader(Loader loader);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public WebResourceRoot getResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setResources(WebResourceRoot resources);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Manager getManager();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setManager(Manager manager);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setAddWebinfClassesResources(boolean addWebinfClassesResources);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getAddWebinfClassesResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public void addPostConstructMethod(String clazz, String method);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public void addPreDestroyMethod(String clazz, String method);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removePostConstructMethod(String clazz);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removePreDestroyMethod(String clazz);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String findPostConstructMethod(String clazz);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String findPreDestroyMethod(String clazz);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public Map<String, String> findPostConstructMethods();"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,"public Map<String, String> findPreDestroyMethods();"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Object getNamingToken();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setCookieProcessor(CookieProcessor cookieProcessor);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public CookieProcessor getCookieProcessor();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setValidateClientProvidedNewSessionId(boolean validateClientProvidedNewSessionId);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getValidateClientProvidedNewSessionId();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setMapperContextRootRedirectEnabled(boolean mapperContextRootRedirectEnabled);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getMapperContextRootRedirectEnabled();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setMapperDirectoryRedirectEnabled(boolean mapperDirectoryRedirectEnabled);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getMapperDirectoryRedirectEnabled();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setUseRelativeRedirects(boolean useRelativeRedirects);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getUseRelativeRedirects();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setDispatchersUseEncodedPaths(boolean dispatchersUseEncodedPaths);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getDispatchersUseEncodedPaths();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setRequestCharacterEncoding(String encoding);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getRequestCharacterEncoding();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setResponseCharacterEncoding(String encoding);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getResponseCharacterEncoding();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setAllowMultipleLeadingForwardSlashInPath(
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getAllowMultipleLeadingForwardSlashInPath();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void incrementInProgressAsyncCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void decrementInProgressAsyncCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setCreateUploadTargets(boolean createUploadTargets);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getCreateUploadTargets();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getAlwaysAccessSession();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setAlwaysAccessSession(boolean alwaysAccessSession);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getContextGetResourceRequiresSlash();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setContextGetResourceRequiresSlash(boolean contextGetResourceRequiresSlash);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public boolean getDispatcherWrapsSameObject();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setDispatcherWrapsSameObject(boolean dispatcherWrapsSameObject);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,NamingResourcesImpl getGlobalNamingResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setGlobalNamingResources
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,javax.naming.Context getGlobalNamingContext();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,int getPort();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setPort(int port);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,int getPortOffset();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setPortOffset(int portOffset);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,int getPortWithOffset();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getAddress();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setAddress(String address);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,String getShutdown();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setShutdown(String shutdown);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,ClassLoader getParentClassLoader();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setParentClassLoader(ClassLoader parent);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Catalina getCatalina();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setCatalina(Catalina catalina);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,File getCatalinaBase();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setCatalinaBase(File catalinaBase);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,File getCatalinaHome();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setCatalinaHome(File catalinaHome);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,int getUtilityThreads();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void setUtilityThreads(int utilityThreads);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void addService(Service service);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void await();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Service findService(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Service[] findServices();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,void removeService(Service service);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,Object getNamingToken();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,added,0,ScheduledExecutorService getUtilityExecutor();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public NamingResourcesImpl getGlobalNamingResources();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setGlobalNamingResources
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public javax.naming.Context getGlobalNamingContext();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public int getPort();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setPort(int port);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public int getPortOffset();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setPortOffset(int portOffset);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public int getPortWithOffset();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getAddress();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setAddress(String address);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public String getShutdown();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setShutdown(String shutdown);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public ClassLoader getParentClassLoader();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setParentClassLoader(ClassLoader parent);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Catalina getCatalina();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setCatalina(Catalina catalina);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public File getCatalinaBase();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setCatalinaBase(File catalinaBase);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public File getCatalinaHome();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setCatalinaHome(File catalinaHome);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public int getUtilityThreads();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void setUtilityThreads(int utilityThreads);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void addService(Service service);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void await();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Service findService(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Service[] findServices();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public void removeService(Service service);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public Object getNamingToken();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,0093619f08f567513ee18227a5e02178d72e2855,deleted,1,public ScheduledExecutorService getUtilityExecutor();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,"String SESSION_CREATED_EVENT = ""createSession"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,"String SESSION_DESTROYED_EVENT = ""destroySession"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,"String SESSION_ACTIVATED_EVENT = ""activateSession"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,"String SESSION_PASSIVATED_EVENT = ""passivateSession"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,String getAuthType();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void setAuthType(String authType);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,long getCreationTime();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,long getCreationTimeInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void setCreationTime(long time);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,String getId();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,String getIdInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void setId(String id);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,"void setId(String id, boolean notify);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,long getThisAccessedTime();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,long getThisAccessedTimeInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,long getLastAccessedTime();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,long getLastAccessedTimeInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,long getIdleTime();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,long getIdleTimeInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,Manager getManager();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void setManager(Manager manager);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,int getMaxInactiveInterval();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void setMaxInactiveInterval(int interval);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void setNew(boolean isNew);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,Principal getPrincipal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void setPrincipal(Principal principal);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,HttpSession getSession();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void setValid(boolean isValid);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,boolean isValid();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void access();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void addSessionListener(SessionListener listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void endAccess();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void expire();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,Object getNote(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,Iterator<String> getNoteNames();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void recycle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void removeNote(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,void removeSessionListener(SessionListener listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,"void setNote(String name, Object value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,"void tellChangedSessionId(String newId, String oldId,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,added,0,"boolean isAttributeDistributable(String name, Object value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,"public static final String SESSION_CREATED_EVENT = ""createSession"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,"public static final String SESSION_DESTROYED_EVENT = ""destroySession"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,"public static final String SESSION_ACTIVATED_EVENT = ""activateSession"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,"public static final String SESSION_PASSIVATED_EVENT = ""passivateSession"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public String getAuthType();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void setAuthType(String authType);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public long getCreationTime();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public long getCreationTimeInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void setCreationTime(long time);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public String getId();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public String getIdInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void setId(String id);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,"public void setId(String id, boolean notify);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public long getThisAccessedTime();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public long getThisAccessedTimeInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public long getLastAccessedTime();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public long getLastAccessedTimeInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public long getIdleTime();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public long getIdleTimeInternal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public Manager getManager();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void setManager(Manager manager);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public int getMaxInactiveInterval();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void setMaxInactiveInterval(int interval);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void setNew(boolean isNew);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public Principal getPrincipal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void setPrincipal(Principal principal);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public HttpSession getSession();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void setValid(boolean isValid);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public boolean isValid();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void access();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void addSessionListener(SessionListener listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void endAccess();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void expire();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public Object getNote(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public Iterator<String> getNoteNames();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void recycle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void removeNote(String name);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,public void removeSessionListener(SessionListener listener);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,"public void setNote(String name, Object value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,"public void tellChangedSessionId(String newId, String oldId,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4117b785c872a5bd86de51ed48044f466ca3d208,deleted,1,"public boolean isAttributeDistributable(String name, Object value);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,ab7b037e239505e52156d6d1ff35c02f431d3506,added,0,private boolean isSpecialPath(final String path) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,ab7b037e239505e52156d6d1ff35c02f431d3506,added,0,LockInfo(int maxDepth) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,ab7b037e239505e52156d6d1ff35c02f431d3506,added,0,WebdavResolver(ServletContext theContext) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,ab7b037e239505e52156d6d1ff35c02f431d3506,deleted,1,private final boolean isSpecialPath(final String path) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,ab7b037e239505e52156d6d1ff35c02f431d3506,deleted,1,public LockInfo(int maxDepth) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,ab7b037e239505e52156d6d1ff35c02f431d3506,deleted,1,public WebdavResolver(ServletContext theContext) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,58a4d0632809b618e9e373d99caf001315f5cdbc,added,0,public interface TaskCreator  {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,58a4d0632809b618e9e373d99caf001315f5cdbc,added,0,AbstractRxTask createRxTask();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,58a4d0632809b618e9e373d99caf001315f5cdbc,deleted,1,public static interface TaskCreator  {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,58a4d0632809b618e9e373d99caf001315f5cdbc,deleted,1,public AbstractRxTask createRxTask();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,dc55eb0f0456c7914617be27e9fe3e273e216abb,added,0,"MonitoredThread(Thread thread, String requestUri,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,dc55eb0f0456c7914617be27e9fe3e273e216abb,added,0,"CompletedStuckThread(Thread thread, long totalActiveTime) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,dc55eb0f0456c7914617be27e9fe3e273e216abb,deleted,1,"public MonitoredThread(Thread thread, String requestUri,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,dc55eb0f0456c7914617be27e9fe3e273e216abb,deleted,1,"public CompletedStuckThread(Thread thread, long totalActiveTime) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,"void service(Request req, Response res) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,"boolean prepare(Request req, Response res) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,"boolean asyncDispatch(Request req, Response res, SocketEvent status) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,"void log(Request req, Response res, long time);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,"void checkRecycled(Request req, Response res);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,added,0,String getDomain();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,deleted,1,"public void service(Request req, Response res) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,deleted,1,"public boolean prepare(Request req, Response res) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,deleted,1,"public boolean asyncDispatch(Request req, Response res, SocketEvent status) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,deleted,1,"public void log(Request req, Response res, long time);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,deleted,1,"public void checkRecycled(Request req, Response res);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,b90da0e7db2756c24a0a09b7d88dcdcb59b1a7f9,deleted,1,public String getDomain();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,added,0,"void service(Request req, Response res) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,added,0,"boolean prepare(Request req, Response res) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,added,0,"boolean asyncDispatch(Request req, Response res, SocketEvent status) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,added,0,"void log(Request req, Response res, long time);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,added,0,"void checkRecycled(Request req, Response res);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,added,0,String getDomain();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,deleted,1,"public void service(Request req, Response res) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,deleted,1,"public boolean prepare(Request req, Response res) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,deleted,1,"public boolean asyncDispatch(Request req, Response res, SocketEvent status) throws Exception;"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,deleted,1,"public void log(Request req, Response res, long time);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,deleted,1,"public void checkRecycled(Request req, Response res);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,f5197f35352407c8fb385e320af7b4281d9ac22e,deleted,1,public String getDomain();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a6e099471e861608ee9238c187db3aff0c93aa3d,added,0,public static Node createNode(String expr) throws ELException {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a6e099471e861608ee9238c187db3aff0c93aa3d,added,0,private static Node createNodeInternal(String expr)
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a6e099471e861608ee9238c187db3aff0c93aa3d,added,0,SynchronizedStack() {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a6e099471e861608ee9238c187db3aff0c93aa3d,added,0,"SynchronizedStack(int size, int limit) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a6e099471e861608ee9238c187db3aff0c93aa3d,deleted,1,public static final Node createNode(String expr) throws ELException {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a6e099471e861608ee9238c187db3aff0c93aa3d,deleted,1,private static final Node createNodeInternal(String expr)
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a6e099471e861608ee9238c187db3aff0c93aa3d,deleted,1,public SynchronizedStack() {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a6e099471e861608ee9238c187db3aff0c93aa3d,deleted,1,"public SynchronizedStack(int size, int limit) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,added,0,LinkedBlockingDeque() {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,added,0,LinkedBlockingDeque(final boolean fairness) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,added,0,LinkedBlockingDeque(final Collection<? extends E> c) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,added,0,LinkedBlockingDeque(final int capacity) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,added,0,"LinkedBlockingDeque(final int capacity, final boolean fairness) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,deleted,1,public LinkedBlockingDeque() {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,deleted,1,public LinkedBlockingDeque(final boolean fairness) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,deleted,1,public LinkedBlockingDeque(final Collection<? extends E> c) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,deleted,1,public LinkedBlockingDeque(final int capacity) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,c63b807eef84d99ecd1c1a478cbc33c78e6a2afc,deleted,1,"public LinkedBlockingDeque(final int capacity, final boolean fairness) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,beb291fa666de4234ff73dcb811829ecb43300f9,added,0,String getName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,beb291fa666de4234ff73dcb811829ecb43300f9,added,0,"void addInjectionTarget(String injectionTargetName, String jndiName);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,beb291fa666de4234ff73dcb811829ecb43300f9,added,0,List<InjectionTarget> getInjectionTargets();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,beb291fa666de4234ff73dcb811829ecb43300f9,deleted,1,public String getName();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,beb291fa666de4234ff73dcb811829ecb43300f9,deleted,1,"public void addInjectionTarget(String injectionTargetName, String jndiName);"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,beb291fa666de4234ff73dcb811829ecb43300f9,deleted,1,public List<InjectionTarget> getInjectionTargets();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,added,0,public interface Handler<S> {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,added,0,enum SocketState {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,added,0,"SocketState process(SocketWrapperBase<S> socket,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,added,0,Object getGlobal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,added,0,void release(SocketWrapperBase<S> socketWrapper);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,added,0,void pause();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,added,0,void recycle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,added,0,"BindState(boolean bound, boolean wasBound) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,deleted,1,public static interface Handler<S> {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,deleted,1,public enum SocketState {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,deleted,1,"public SocketState process(SocketWrapperBase<S> socket,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,deleted,1,public Object getGlobal();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,deleted,1,public void release(SocketWrapperBase<S> socketWrapper);
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,deleted,1,public void pause();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,deleted,1,public void recycle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9d1f1211ecd24f39e6a1a90adf450c1c974da01a,deleted,1,"private BindState(boolean bound, boolean wasBound) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String CIPHER_SUITE_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,"String KEY_SIZE_KEY = ""jakarta.servlet.request.key_size"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String CERTIFICATE_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String SESSION_ID_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String SESSION_MGR =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String PROTOCOL_VERSION_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String REQUESTED_CIPHERS_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String REQUESTED_PROTOCOL_VERSIONS_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String getCipherSuite() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,X509Certificate[] getPeerCertificateChain() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,default X509Certificate[] getLocalCertificateChain() {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,Integer getKeySize() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String getSessionId() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String getProtocol() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String getRequestedProtocols() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,added,0,String getRequestedCiphers() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public static final String CIPHER_SUITE_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,"public static final String KEY_SIZE_KEY = ""jakarta.servlet.request.key_size"";"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public static final String CERTIFICATE_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public static final String SESSION_ID_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public static final String SESSION_MGR =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public static final String PROTOCOL_VERSION_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public static final String REQUESTED_CIPHERS_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public static final String REQUESTED_PROTOCOL_VERSIONS_KEY =
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public String getCipherSuite() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public X509Certificate[] getPeerCertificateChain() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public default X509Certificate[] getLocalCertificateChain() {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public Integer getKeySize() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public String getSessionId() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public String getProtocol() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public String getRequestedProtocols() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,4956bdbd217024d874b48e6140b788aed97784e7,deleted,1,public String getRequestedCiphers() throws IOException;
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,10bc37aeb8b3daadbb7a6953e1916e16c42bd119,added,0,private static void init() {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,10bc37aeb8b3daadbb7a6953e1916e16c42bd119,deleted,1,private static final void init() {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9ebc28c6f1cc8d0019bb16bf31e9aaf5308a4f8b,added,0,private void close(Throwable t) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,9ebc28c6f1cc8d0019bb16bf31e9aaf5308a4f8b,deleted,1,private final void close(Throwable t) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,"EndMessageHandler(WsRemoteEndpointImplBase endpoint,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,IntermediateMessageHandler(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,"TextMessageSendHandler(SendHandler handler, CharBuffer message,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,"OutputBufferSendHandler(SendHandler completion,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,"OutputBufferFlushSendHandler(ByteBuffer outputBuffer, SendHandler handler) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,WsOutputStream(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,WsWriter(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,"EncoderEntry(Class<?> clazz, Encoder encoder) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,added,0,"StateUpdateSendHandler(SendHandler handler, StateMachine stateMachine) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,"public EndMessageHandler(WsRemoteEndpointImplBase endpoint,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,public IntermediateMessageHandler(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,"public TextMessageSendHandler(SendHandler handler, CharBuffer message,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,"public OutputBufferSendHandler(SendHandler completion,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,"public OutputBufferFlushSendHandler(ByteBuffer outputBuffer, SendHandler handler) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,public WsOutputStream(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,public WsWriter(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,"public EncoderEntry(Class<?> clazz, Encoder encoder) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,e8a224c99f2ca2a70b234cc5238c999f61657949,deleted,1,"public StateUpdateSendHandler(SendHandler handler, StateMachine stateMachine) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,"EndMessageHandler(WsRemoteEndpointImplBase endpoint,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,IntermediateMessageHandler(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,"TextMessageSendHandler(SendHandler handler, CharBuffer message,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,"OutputBufferSendHandler(SendHandler completion,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,"OutputBufferFlushSendHandler(ByteBuffer outputBuffer, SendHandler handler) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,WsOutputStream(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,WsWriter(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,"EncoderEntry(Class<?> clazz, Encoder encoder) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,added,0,"StateUpdateSendHandler(SendHandler handler, StateMachine stateMachine) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,"public EndMessageHandler(WsRemoteEndpointImplBase endpoint,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,public IntermediateMessageHandler(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,"public TextMessageSendHandler(SendHandler handler, CharBuffer message,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,"public OutputBufferSendHandler(SendHandler completion,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,"public OutputBufferFlushSendHandler(ByteBuffer outputBuffer, SendHandler handler) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,public WsOutputStream(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,public WsWriter(WsRemoteEndpointImplBase endpoint) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,"public EncoderEntry(Class<?> clazz, Encoder encoder) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,a247e062083d1d9affad4f59c40758d8d127b8c5,deleted,1,"public StateUpdateSendHandler(SendHandler handler, StateMachine stateMachine) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,int getSize();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,int getIdle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,int getActive();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,int getNumIdle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,int getNumActive();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,int getWaitCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,long getBorrowedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,long getReturnedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,long getCreatedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,long getReleasedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,long getReconnectedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,long getRemoveAbandonedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,long getReleasedIdleCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,void checkIdle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,void checkAbandoned();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,void testIdle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,void purge();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,void purgeOnReturn();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,added,0,void resetStats();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public int getSize();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public int getIdle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public int getActive();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public int getNumIdle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public int getNumActive();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public int getWaitCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public long getBorrowedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public long getReturnedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public long getCreatedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public long getReleasedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public long getReconnectedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public long getRemoveAbandonedCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public long getReleasedIdleCount();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public void checkIdle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public void checkAbandoned();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public void testIdle();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public void purge();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public void purgeOnReturn();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7,deleted,1,public void resetStats();
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"TimeoutServlet(Boolean completeOnTimeout, String dispatchUrl) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"DispatchingServlet(boolean addTrackingListener,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"StickyTrackingListener(boolean completeOnError,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,AsyncStatusServlet(int status) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"AsyncErrorServlet(int status, boolean threaded) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,AsyncErrorPage(ErrorPageAsyncMode mode) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"DispatchingServletTracking(String target, boolean addTrackingListener) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"AsyncIoEndServlet(boolean useThread, boolean useComplete) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"AsyncIoEndWriteListener(AsyncContext ac, boolean useThread,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"Bug63816Servlet(CountDownLatch doGetLatch, CountDownLatch clientCloseLatch,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"Bug63816Thread(AsyncContext ac, CountDownLatch clientCloseLatch, CountDownLatch threadCompleteLatch,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"PostServlet(CountDownLatch doPostLatch, CountDownLatch clientCloseLatch,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,added,0,"PostServletThread(AsyncContext ac, CountDownLatch partialReadLatch, CountDownLatch clientCloseLatch,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public TimeoutServlet(Boolean completeOnTimeout, String dispatchUrl) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public DispatchingServlet(boolean addTrackingListener,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public StickyTrackingListener(boolean completeOnError,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,public AsyncStatusServlet(int status) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public AsyncErrorServlet(int status, boolean threaded) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,public AsyncErrorPage(ErrorPageAsyncMode mode) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public DispatchingServletTracking(String target, boolean addTrackingListener) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public AsyncIoEndServlet(boolean useThread, boolean useComplete) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public AsyncIoEndWriteListener(AsyncContext ac, boolean useThread,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public Bug63816Servlet(CountDownLatch doGetLatch, CountDownLatch clientCloseLatch,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public Bug63816Thread(AsyncContext ac, CountDownLatch clientCloseLatch, CountDownLatch threadCompleteLatch,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public PostServlet(CountDownLatch doPostLatch, CountDownLatch clientCloseLatch,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,587b1a807129c2ab41623358281aa19ff2ff9950,deleted,1,"public PostServletThread(AsyncContext ac, CountDownLatch partialReadLatch, CountDownLatch clientCloseLatch,"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,400745e03208eeb8ccad37ccc52d43efbe8ed9d4,added,0,"LruTestThread(LruCache<String> cache, long iterationCount) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,400745e03208eeb8ccad37ccc52d43efbe8ed9d4,deleted,1,"public LruTestThread(LruCache<String> cache, long iterationCount) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,20b02326c3d3ab49c12d2ba9c0c35929291775c6,added,0,UpgradeServlet(Class<? extends HttpUpgradeHandler> upgradeHandlerClass) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,20b02326c3d3ab49c12d2ba9c0c35929291775c6,added,0,UpgradeConnection(Socket socket) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,20b02326c3d3ab49c12d2ba9c0c35929291775c6,added,0,"EchoListener(ServletInputStream sis, ServletOutputStream sos) {"
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,20b02326c3d3ab49c12d2ba9c0c35929291775c6,deleted,1,public UpgradeServlet(Class<? extends HttpUpgradeHandler> upgradeHandlerClass) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,20b02326c3d3ab49c12d2ba9c0c35929291775c6,deleted,1,public UpgradeConnection(Socket socket) {
b3b1cd21c878d7528e38a3c58a77dc36fbc3d8b7,20b02326c3d3ab49c12d2ba9c0c35929291775c6,deleted,1,"public EchoListener(ServletInputStream sis, ServletOutputStream sos) {"
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,import java.io.StringReader;
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,import org.apache.tomcat.util.http.parser.MediaType;
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,MediaType mediaType = null;
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,try {
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,mediaType = MediaType.parseMediaType(new StringReader(contentType));
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,} catch (IOException e) {
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,// Ignore - null test below handles this
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,if (mediaType != null) {
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,return mediaType.getCharset();
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,added,0,return null;
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,"int start = contentType.indexOf(""charset="");"
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,if (start < 0) {
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,return null;
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,}
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,String encoding = contentType.substring(start + 8);
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,int end = encoding.indexOf(';');
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,if (end >= 0) {
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,"encoding = encoding.substring(0, end);"
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,encoding = encoding.trim();
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,"if (encoding.length() > 2 && encoding.startsWith(""\"""") && encoding.endsWith(""\"""")) {"
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,"encoding = encoding.substring(1, encoding.length() - 1);"
a2ec03a34276792b42f66182c407f2f8c791dcc1,b2bab804b543bfe181fe435efe35628ce0e21b39,deleted,1,return encoding.trim();

commit_id,line,line_level_label,count,line_score,row
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,if (parsed && (parsed.reason === r409 || parsed.reason === r409b)) {,0,4,1.0,1
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var url = require(""url"")",1,4,1.0,2
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var PARAMS = {,0,3,0.75,3
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var PARAMS  = {,1,3,0.75,4
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var AUTH      = {,1,3,0.75,5
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var crypto = require(""crypto"")",1,3,0.75,6
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,if (parsed && (parsed.reason === r409 || parsed.reason === r409b)),1,3,0.75,7
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var r409b = ""Document update conflict.""",1,3,0.75,8
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var r409 = ""must supply latest _rev to update existing package""",1,3,0.75,9
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var er = new Error(""auth required for publishing"")",1,3,0.75,10
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,if (!er && !conflict),1,3,0.75,11
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var AUTH = {,0,3,0.75,12
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var r409b = 'Document update conflict.',0,3,0.75,13
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var r409 = 'must supply latest _rev to update existing package',0,3,0.75,14
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var root = {,0,3,0.75,15
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var er = new Error('auth required for publishing'),0,3,0.75,16
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var crypto = require('crypto'),0,3,0.75,17
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var url = require('url'),0,3,0.75,18
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"if (!er && !conflict) return cb(er, parsed, json, res)",0,3,0.75,19
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var fs = require(""fs"")",1,2,0.5,20
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var USERNAME  = ""username""",1,2,0.5,21
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var URI       = ""http://localhost:1337/""",1,2,0.5,22
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var common = require(""./lib/common.js"")",1,2,0.5,23
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var server = require(""./lib/server.js"")",1,2,0.5,24
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var tbName = data.name + ""-"" + data.version + "".tgz""",1,2,0.5,25
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var e = new Error(""cannot modify pre-existing version"")",1,2,0.5,26
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,}).concat(Object.keys(current.time || {}).map(function(v) {,1,2,0.5,27
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"client.request(fixed+""?write=true"", { auth : auth }, function (er, current) {",1,2,0.5,28
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"root.maintainers = [{name : auth.username, email : auth.email}]",1,2,0.5,29
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var EMAIL     = ""i@izs.me""",1,2,0.5,30
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var PASSWORD  = ""%1234@asdf%""",1,2,0.5,31
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var b = """"",1,2,0.5,32
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var METADATA  = require(""../package.json"")",1,2,0.5,33
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var ACCESS    = ""public""",1,2,0.5,34
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var BODY_PATH = require.resolve(""../package.json"")",1,2,0.5,35
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var BODY      = fs.createReadStream(BODY_PATH, ""base64"")",1,2,0.5,36
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"test(""publish call contract"", function (t) {",1,2,0.5,37
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"{ name : ""AssertionError"", message : ""must pass package metadata to publish"" },",1,2,0.5,38
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"{ name : ""AssertionError"", message : ""must pass package body to publish"" },",1,2,0.5,39
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"{ name : ""AssertionError"", message : ""must pass auth to publish"" },",1,2,0.5,40
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var pd = fs.readFileSync(BODY_PATH, ""base64"")",1,2,0.5,41
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", crypto = require(""crypto"")",1,2,0.5,42
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var att = o._attachments[METADATA.name+""-""+METADATA.version+"".tgz""]",1,2,0.5,43
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var hash = crypto.createHash(""sha1"").update(pd, ""base64"").digest(""hex"")",1,2,0.5,44
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var root =,1,2,0.5,45
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var test = require(""tap"").test",1,2,0.5,46
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var hash = crypto.createHash('sha1').update(pd, 'base64').digest('hex')",0,2,0.5,47
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var server = require('./lib/server.js'),0,2,0.5,48
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var semver = require('semver'),0,2,0.5,49
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var att = o._attachments[METADATA.name + '-' + METADATA.version + '.tgz'],0,2,0.5,50
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var Stream = require('stream').Stream,0,2,0.5,51
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var assert = require('assert'),0,2,0.5,52
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var fixer = require('normalize-package-data/lib/fixer.js'),0,2,0.5,53
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var concat = require('concat-stream'),0,2,0.5,54
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var tbName = data.name + '-' + data.version + '.tgz',0,2,0.5,55
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"client.request(fixed + '?write=true', { auth: auth }, function (er, current) {",0,2,0.5,56
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,}).concat(Object.keys(current.time || {}).map(function (v) {,0,2,0.5,57
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var e = new Error('cannot modify pre-existing version'),0,2,0.5,58
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var test = require('tap').test,0,2,0.5,59
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var fs = require('fs'),0,2,0.5,60
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var tbURI = data.name + '/-/' + tbName,0,2,0.5,61
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var common = require('./lib/common.js'),0,2,0.5,62
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var ACCESS = 'public',0,2,0.5,63
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"var pd = fs.readFileSync(BODY_PATH, 'base64')",0,2,0.5,64
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var URI = 'http://localhost:1337/',0,2,0.5,65
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var b = '',0,2,0.5,66
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"test('publish call contract', function (t) {",0,2,0.5,67
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var BODY = fs.createReadStream(BODY_PATH),0,2,0.5,68
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var BODY_PATH = require.resolve('../package.json'),0,2,0.5,69
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var METADATA = require('../package.json'),0,2,0.5,70
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var EMAIL = 'i@izs.me',0,2,0.5,71
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var PASSWORD = '%1234@asdf%',0,2,0.5,72
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,var USERNAME = 'username',0,2,0.5,73
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", tbURI = data.name + ""/-/"" + tbName",1,1,0.25,74
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"if (!version) return cb(new Error(""invalid semver: "" + metadata.version))",1,1,0.25,75
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"data._id = data.name+""@""+data.version",1,1,0.25,76
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"root[""dist-tags""][tag] = data.version",1,1,0.25,77
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", readme: data.readme || """"",1,1,0.25,78
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,{ _id : data.name,1,1,0.25,79
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"sink.on(""error"", cb)",1,1,0.25,80
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(auth && typeof auth === ""object"", ""must pass auth to publish"")",1,1,0.25,81
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,catch (er) {,1,1,0.25,82
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata && typeof metadata === ""object"",",1,1,0.25,83
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"er.code = ""ENEEDAUTH""",1,1,0.25,84
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"(!access) || [""public"", ""restricted""].indexOf(access) !== -1,",1,1,0.25,85
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(typeof cb === ""function"", ""must pass callback to publish"")",1,1,0.25,86
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(params && typeof params === ""object"", ""must pass params to publish"")",1,1,0.25,87
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"client.log.error(""publish"", ""Failed PUT ""+(res && res.statusCode))",1,1,0.25,88
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"data.dist.shasum = crypto.createHash(""sha1"").update(tarbuffer).digest(""hex"")",1,1,0.25,89
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"req.on(""data"", function (d) {",1,1,0.25,90
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"if (semver.valid(v, true))",1,1,0.25,91
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,}).filter(function(v) {,1,1,0.25,92
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"e.code = ""EPUBLISHCONFLICT""",1,1,0.25,93
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"username : USERNAME,",1,1,0.25,94
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"message : ""if present, access level must be either 'public' or 'restricted'""",1,1,0.25,95
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"message : ""package body passed to publish must be a stream""",1,1,0.25,96
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.test(""malformed semver in publish"", function (t) {",1,1,0.25,97
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata.version = ""%!@#$""",1,1,0.25,98
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"message : BODY,",1,1,0.25,99
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"test(""publish"", function (t) {",1,1,0.25,100
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"server.expect(""/npm-registry-client"", function (req, res) {",1,1,0.25,101
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"req.on(""end"", function () {",1,1,0.25,102
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.same(o.maintainers, [{ name : ""username"", email : ""i@izs.me"" }])",1,1,0.25,103
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.deepEqual(data, { created : true })",1,1,0.25,104
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", concat = require(""concat-stream"")",1,1,0.25,105
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(typeof uri === ""string"", ""must pass registry URI to publish"")",1,1,0.25,106
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,email    : EMAIL,1,1,0.25,107
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", fixer = require(""normalize-package-data/lib/fixer.js"")",1,1,0.25,108
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,} catch (er) {,0,1,0.25,109
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,data._id = data.name + '@' + data.version,0,1,0.25,110
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,root['dist-tags'][tag] = data.version,0,1,0.25,111
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"root.maintainers = [{ name: auth.username, email: auth.email }]",0,1,0.25,112
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,readme: data.readme || '',0,1,0.25,113
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"sink.on('error', cb)",0,1,0.25,114
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,if (!version) return cb(new Error('invalid semver: ' + metadata.version)),0,1,0.25,115
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata && typeof metadata === 'object',",0,1,0.25,116
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"client.log.error('publish', 'Failed PUT ' + (res && res.statusCode))",0,1,0.25,117
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,er.code = 'ENEEDAUTH',0,1,0.25,118
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(auth && typeof auth === 'object', 'must pass auth to publish')",0,1,0.25,119
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"(!access) || ['public', 'restricted'].indexOf(access) !== -1,",0,1,0.25,120
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(params && typeof params === 'object', 'must pass params to publish')",0,1,0.25,121
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(typeof uri === 'string', 'must pass registry URI to publish')",0,1,0.25,122
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", assert = require(""assert"")",1,1,0.25,123
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,data.dist.shasum = crypto.createHash('sha1').update(tarbuffer).digest('hex'),0,1,0.25,124
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(typeof cb === 'function', 'must pass callback to publish')",0,1,0.25,125
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"if (semver.valid(v, true)) return semver.clean(v, true)",0,1,0.25,126
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"test('publish', function (t) {",0,1,0.25,127
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,}).filter(function (v) {,0,1,0.25,128
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.deepEqual(data, { created: true })",0,1,0.25,129
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"req.on('end', function () {",0,1,0.25,130
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"req.on('data', function (d) {",0,1,0.25,131
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"server.expect('/npm-registry-client', function (req, res) {",0,1,0.25,132
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", semver = require(""semver"")",1,1,0.25,133
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,metadata.version = '%!@#$',0,1,0.25,134
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"{ name: 'AssertionError', message: 'must pass package metadata to publish' },",0,1,0.25,135
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,e.code = 'EPUBLISHCONFLICT',0,1,0.25,136
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.test('malformed semver in publish', function (t) {",0,1,0.25,137
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", Stream = require(""stream"").Stream",1,1,0.25,138
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"{ name: 'AssertionError', message: 'must pass package body to publish' },",0,1,0.25,139
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"{ name: 'AssertionError', message: 'must pass auth to publish' },",0,1,0.25,140
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"access   : ACCESS,",1,0,0.0,141
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body : root,",1,0,0.0,142
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata : METADATA,",1,0,0.0,143
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"password : PASSWORD,",1,0,0.0,144
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,auth   : auth,1,0,0.0,145
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"case ""maintainers"":",1,0,0.0,146
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"case ""_attachments"":",1,0,0.0,147
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"case ""versions"":",1,0,0.0,148
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"case ""dist-tags"":",1,0,0.0,149
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"return semver.clean(v, true)",1,0,0.0,150
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"return cb(er, parsed, json, res)",1,0,0.0,151
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,auth : auth,1,0,0.0,152
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body   : current,",1,0,0.0,153
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", ""dist-tags"" : {}",1,0,0.0,154
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"method : ""PUT"",",1,0,0.0,155
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""length"": tarbuffer.length",1,0,0.0,156
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""data"": tarbuffer.toString(""base64""),",1,0,0.0,157
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""content_type"": ""application/octet-stream"",",1,0,0.0,158
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,".replace(/^https:\/\//, ""http://"")",1,0,0.0,159
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", versions : {}",1,0,0.0,160
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", description : data.description",1,0,0.0,161
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,", name : data.name",1,0,0.0,162
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(body instanceof Stream, ""package body passed to publish must be a stream"")",1,0,0.0,163
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(body, ""must pass package body to publish"")",1,0,0.0,164
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,},1,0,0.0,165
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""must pass package metadata to publish""",1,0,0.0,166
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,auth     : AUTH,1,0,0.0,167
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body     : BODY,",1,0,0.0,168
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata : -1,",1,0,0.0,169
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, ""requires a URI"")",1,0,0.0,170
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,res.json({ created: true }),0,0,0.0,171
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.equal(o[""dist-tags""].latest, METADATA.version)",1,0,0.0,172
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.equal(o._id, ""npm-registry-client"")",1,0,0.0,173
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"req.setEncoding(""utf8"")",1,0,0.0,174
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.equal(req.method, ""PUT"")",1,0,0.0,175
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""got expected semver validation failure""",1,0,0.0,176
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""invalid semver: %!@#$"",",1,0,0.0,177
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata : metadata,",1,0,0.0,178
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""body must be a Stream""",1,0,0.0,179
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body : -1,",1,0,0.0,180
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"name    : ""AssertionError"",",1,0,0.0,181
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"access : ""hamchunx"",",1,0,0.0,182
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""metadata must be object""",1,0,0.0,183
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""params must include auth""",1,0,0.0,184
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, ""requires URI to be a string"")",1,0,0.0,185
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,body : BODY,1,0,0.0,186
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""params must include body of package to publish""",1,0,0.0,187
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"""params must include metadata for package""",1,0,0.0,188
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,auth : AUTH,1,0,0.0,189
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body : BODY,",1,0,0.0,190
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"access : ACCESS,",1,0,0.0,191
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, ""callback must be function"")",1,0,0.0,192
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"client.publish(URI, PARAMS, ""callback"")",1,0,0.0,193
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, ""requires callback"")",1,0,0.0,194
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, ""params must be object"")",1,0,0.0,195
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"client.publish(URI, """", nop)",1,0,0.0,196
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, ""requires params object"")",1,0,0.0,197
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"return name.replace(""/"", ""%2f"")",1,0,0.0,198
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,'metadata must be object',0,0,0.0,199
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.same(o.maintainers, [{ name: 'username', email: 'i@izs.me' }])",0,0,0.0,200
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,'length': tarbuffer.length,0,0,0.0,201
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata: METADATA,",0,0,0.0,202
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,email: EMAIL,0,0,0.0,203
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"password: PASSWORD,",0,0,0.0,204
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"username: USERNAME,",0,0,0.0,205
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body: current,",0,0,0.0,206
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,case 'maintainers':,0,0,0.0,207
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,case '_attachments':,0,0,0.0,208
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,case 'versions':,0,0,0.0,209
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,case 'dist-tags':,0,0,0.0,210
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,auth: auth,0,0,0.0,211
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body: root,",0,0,0.0,212
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"method: 'PUT',",0,0,0.0,213
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"'data': tarbuffer.toString('base64'),",0,0,0.0,214
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.equal(o['dist-tags'].latest, METADATA.version)",0,0,0.0,215
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"'content_type': 'application/octet-stream',",0,0,0.0,216
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,".replace(/^https:\/\//, 'http://')",0,0,0.0,217
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,},0,0,0.0,218
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"versions: {},",0,0,0.0,219
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"'dist-tags': {},",0,0,0.0,220
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"description: data.description,",0,0,0.0,221
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"name: data.name,",0,0,0.0,222
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"_id: data.name,",0,0,0.0,223
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(body instanceof Stream, 'package body passed to publish must be a stream')",0,0,0.0,224
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"assert(body, 'must pass package body to publish')",0,0,0.0,225
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,'must pass package metadata to publish',0,0,0.0,226
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"return name.replace('/', '%2f')",0,0,0.0,227
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"access: ACCESS,",0,0,0.0,228
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body: BODY,",0,0,0.0,229
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,auth: AUTH,0,0,0.0,230
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, 'requires a URI')",0,0,0.0,231
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.equal(o._id, 'npm-registry-client')",0,0,0.0,232
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,req.setEncoding('utf8'),0,0,0.0,233
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"t.equal(req.method, 'PUT')",0,0,0.0,234
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,'got expected semver validation failure',0,0,0.0,235
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"'invalid semver: %!@#$',",0,0,0.0,236
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"message: BODY,",0,0,0.0,237
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata: metadata,",0,0,0.0,238
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,'body must be a Stream',0,0,0.0,239
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,message: 'package body passed to publish must be a stream',0,0,0.0,240
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"body: -1,",0,0,0.0,241
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"message: ""if present, access level must be either 'public' or 'restricted'""",0,0,0.0,242
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"name: 'AssertionError',",0,0,0.0,243
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"access: 'hamchunx',",0,0,0.0,244
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"metadata: -1,",0,0,0.0,245
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,'params must include auth',0,0,0.0,246
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,body: BODY,0,0,0.0,247
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,'params must include body of package to publish',0,0,0.0,248
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,'params must include metadata for package',0,0,0.0,249
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, 'callback must be function')",0,0,0.0,250
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"client.publish(URI, PARAMS, 'callback')",0,0,0.0,251
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, 'requires callback')",0,0,0.0,252
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, 'params must be object')",0,0,0.0,253
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"client.publish(URI, '', nop)",0,0,0.0,254
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, 'requires params object')",0,0,0.0,255
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,"}, 'requires URI to be a string')",0,0,0.0,256
2da4f398bf3fe0880b520e299ce0d91c8d20f0c4,res.json({ created : true }),1,0,0.0,257

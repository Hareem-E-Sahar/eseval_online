commit_id,line,line_level_label,count,line_score,row
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.warn(""Creation disabled so not creating a entity from "" + sourceName + "" namespace "" + namespace + "" name "" + getName(entity));",0,4,1.0,1
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Creating a template from "" + sourceName + "" namespace "" + namespace + "" name "" + getName(entity));",0,4,1.0,2
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.warn(""Creation disabled so not creating a entity from "" + sourceName + "" namespace "" + namespace + "" name "" + getName(entity));",0,4,1.0,3
5213eb2a75b3ef8524cc9fe179d75d823df53148,String namespace = KubernetesHelper.getNamespace(entity);,0,4,1.0,4
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.warn(""Creation disabled so not creating a entity from "" + sourceName + "" namespace "" + namespace + "" name "" + getName(entity));",1,4,1.0,5
5213eb2a75b3ef8524cc9fe179d75d823df53148,String namespace = KubernetesHelper.getNamespace(entity);,1,4,1.0,6
5213eb2a75b3ef8524cc9fe179d75d823df53148,"protected void doCreateTemplate(Template entity, String namespace, String sourceName) {",0,4,1.0,7
5213eb2a75b3ef8524cc9fe179d75d823df53148,String namespace = getNamespace();,0,3,0.75,8
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Object answer = kubernetes.updateTemplate(id, entity, namespace);",1,3,0.75,9
5213eb2a75b3ef8524cc9fe179d75d823df53148,String namespace = getNamespace();,1,3,0.75,10
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Object answer = kubernetes.updateTemplate(id, entity, namespace);",0,3,0.75,11
5213eb2a75b3ef8524cc9fe179d75d823df53148,String namespace = getNamespace();,0,3,0.75,12
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Object answer = kubernetes.updateTemplate(id, entity, namespace);",0,3,0.75,13
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Object answer = kubernetes.createTemplate(entity, namespace);",0,3,0.75,14
5213eb2a75b3ef8524cc9fe179d75d823df53148,"public Object applyTemplate(Template entity, String sourceName) throws Exception {",0,3,0.75,15
5213eb2a75b3ef8524cc9fe179d75d823df53148,String answer = null;,1,3,0.75,16
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String answer = URLUtils.pathJoin(urlPrefix, iconBranch, relativePath);",0,3,0.75,17
5213eb2a75b3ef8524cc9fe179d75d823df53148,String answer = iconUrl;,0,3,0.75,18
5213eb2a75b3ef8524cc9fe179d75d823df53148,"public static Object combineTemplates(KubernetesList kubernetesList, List<Object> items) {",1,3,0.75,19
5213eb2a75b3ef8524cc9fe179d75d823df53148,List<Object> objects = template.getObjects();,1,3,0.75,20
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String answer = URLUtils.pathJoin(url, branch, relativePath);",1,3,0.75,21
5213eb2a75b3ef8524cc9fe179d75d823df53148,return entity != null;,1,2,0.5,22
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Objects.notNull(id, ""No name for "" + entity + "" "" + sourceName);",0,2,0.5,23
5213eb2a75b3ef8524cc9fe179d75d823df53148,String id = getName(entity);,0,2,0.5,24
5213eb2a75b3ef8524cc9fe179d75d823df53148,protected boolean isRunning(Service entity) {,1,2,0.5,25
5213eb2a75b3ef8524cc9fe179d75d823df53148,protected boolean isRunning(ReplicationController entity) {,1,2,0.5,26
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (Exception e) {,1,2,0.5,27
5213eb2a75b3ef8524cc9fe179d75d823df53148,protected boolean isRunning(OAuthClient entity) {,1,2,0.5,28
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String json = kubernetes.createTemplate(entity, namespace);",1,2,0.5,29
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Object result = processTemplate(entity, sourceName);",1,2,0.5,30
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (Exception e) {,0,2,0.5,31
5213eb2a75b3ef8524cc9fe179d75d823df53148,} else {,0,2,0.5,32
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String json = kubernetes.processTemplate(entity, namespace);",1,2,0.5,33
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (IOException e) {,0,2,0.5,34
5213eb2a75b3ef8524cc9fe179d75d823df53148,Object result = null;,0,2,0.5,35
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String json = kubernetes.processTemplate(entity, namespace);",0,2,0.5,36
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (WebApplicationException e) {,0,2,0.5,37
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (Exception e1) {,0,2,0.5,38
5213eb2a75b3ef8524cc9fe179d75d823df53148,String id = getName(entity);,1,2,0.5,39
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Objects.notNull(id, ""No name for "" + entity + "" "" + sourceName);",1,2,0.5,40
5213eb2a75b3ef8524cc9fe179d75d823df53148,} else {,1,2,0.5,41
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (Exception e) {,1,2,0.5,42
5213eb2a75b3ef8524cc9fe179d75d823df53148,Object result = null;,1,2,0.5,43
5213eb2a75b3ef8524cc9fe179d75d823df53148,protected boolean isRunning(HasMetadata entity) {,0,2,0.5,44
5213eb2a75b3ef8524cc9fe179d75d823df53148,"public void applyTemplate(Template entity, String sourceName) {",1,2,0.5,45
5213eb2a75b3ef8524cc9fe179d75d823df53148,protected boolean isRunning(Pod entity) {,1,2,0.5,46
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String json = kubernetes.processTemplate(entity, namespace);",0,2,0.5,47
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.*;,1,2,0.5,48
5213eb2a75b3ef8524cc9fe179d75d823df53148,List<HasMetadata> objects = template.getObjects();,0,2,0.5,49
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to template entity from "" + sourceName + "". "" + e + "". "" + entity, e);",0,2,0.5,50
5213eb2a75b3ef8524cc9fe179d75d823df53148,"public static Object combineTemplates(KubernetesList kubernetesList, List<HasMetadata> items) {",0,2,0.5,51
5213eb2a75b3ef8524cc9fe179d75d823df53148,List<Object> items = kubernetesList.getItems();,1,2,0.5,52
5213eb2a75b3ef8524cc9fe179d75d823df53148,"public static void addTemplateObject(Template template, Object object) {",1,2,0.5,53
5213eb2a75b3ef8524cc9fe179d75d823df53148,"File file = new File(iconTempDir, ""icon"" + ext);",0,2,0.5,54
5213eb2a75b3ef8524cc9fe179d75d823df53148,answer = convertIconFileToURL(iconFile);,0,2,0.5,55
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (Exception e) {,0,2,0.5,56
5213eb2a75b3ef8524cc9fe179d75d823df53148,String urlPrefix = iconUrlPrefix;,0,2,0.5,57
5213eb2a75b3ef8524cc9fe179d75d823df53148,String url = scm.getUrl();,0,2,0.5,58
5213eb2a75b3ef8524cc9fe179d75d823df53148,} else {,0,2,0.5,59
5213eb2a75b3ef8524cc9fe179d75d823df53148,"@Parameter(property = ""fabric8.iconBranch"", defaultValue = ""master"")",0,2,0.5,60
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.*;,1,2,0.5,61
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String branch = ""master"";",1,2,0.5,62
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (Exception e) {,0,2,0.5,63
5213eb2a75b3ef8524cc9fe179d75d823df53148,} else {,0,2,0.5,64
5213eb2a75b3ef8524cc9fe179d75d823df53148,"File file = new File(iconTempDir, ""icon"" + ext);",1,2,0.5,65
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Objects.notNull(id, ""No name for "" + entity + "" "" + sourceName);",0,2,0.5,66
5213eb2a75b3ef8524cc9fe179d75d823df53148,String id = getName(entity);,0,2,0.5,67
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String[] prefixes = { ""http://github.com/"", ""https://github.com/""};",1,2,0.5,68
5213eb2a75b3ef8524cc9fe179d75d823df53148,String url = scm.getUrl();,1,2,0.5,69
5213eb2a75b3ef8524cc9fe179d75d823df53148,} catch (Exception e) {,1,2,0.5,70
5213eb2a75b3ef8524cc9fe179d75d823df53148,answer = convertIconFileToURL(iconFile);,1,2,0.5,71
5213eb2a75b3ef8524cc9fe179d75d823df53148,recreateMode = true;,0,1,0.25,72
5213eb2a75b3ef8524cc9fe179d75d823df53148,boolean recreateMode = isRecreateMode();,0,1,0.25,73
5213eb2a75b3ef8524cc9fe179d75d823df53148,"return processTemplate(entity, sourceName);",0,1,0.25,74
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (recreateMode) {,0,1,0.25,75
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Updating a entity from "" + sourceName);",0,1,0.25,76
5213eb2a75b3ef8524cc9fe179d75d823df53148,try {,0,1,0.25,77
5213eb2a75b3ef8524cc9fe179d75d823df53148,},0,1,0.25,78
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (!isAllowCreate()) {,0,1,0.25,79
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.*;,1,1,0.25,80
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.openshift.api.model.RouteSpec;,1,1,0.25,81
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.io.*;,1,1,0.25,82
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (result != null) {,1,1,0.25,83
5213eb2a75b3ef8524cc9fe179d75d823df53148,try {,1,1,0.25,84
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to apply result of template expansion from "" + sourceName + "". "" + e + "". "" + result, e);",1,1,0.25,85
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (isRunning(old)) {,0,1,0.25,86
5213eb2a75b3ef8524cc9fe179d75d823df53148,},1,1,0.25,87
5213eb2a75b3ef8524cc9fe179d75d823df53148,"if (UserConfigurationCompare.configEqual(entity, old)) {",0,1,0.25,88
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.getName;,0,1,0.25,89
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Template old = kubernetes.getTemplate(id, namespace);",0,1,0.25,90
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.getObjectId;,0,1,0.25,91
5213eb2a75b3ef8524cc9fe179d75d823df53148,import javax.ws.rs.WebApplicationException;,0,1,0.25,92
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.io.File;,0,1,0.25,93
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.io.FileInputStream;,0,1,0.25,94
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.io.FileNotFoundException;,0,1,0.25,95
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.io.IOException;,0,1,0.25,96
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.io.InputStream;,0,1,0.25,97
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.getOrCreateMetadata;,0,1,0.25,98
5213eb2a75b3ef8524cc9fe179d75d823df53148,* Creates/updates the template and processes it returning the processed DTOs,0,1,0.25,99
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.getPodMap;,0,1,0.25,100
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.getReplicationControllerMap;,0,1,0.25,101
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.getServiceMap;,0,1,0.25,102
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.loadJson;,0,1,0.25,103
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.summaryText;,0,1,0.25,104
5213eb2a75b3ef8524cc9fe179d75d823df53148,import static io.fabric8.kubernetes.api.KubernetesHelper.toItemList;,0,1,0.25,105
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.extensions.Templates;,0,1,0.25,106
5213eb2a75b3ef8524cc9fe179d75d823df53148,result = loadJson(json);,1,1,0.25,107
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (!isProcessTemplatesLocally()) {,0,1,0.25,108
5213eb2a75b3ef8524cc9fe179d75d823df53148,public boolean isProcessTemplatesLocally() {,0,1,0.25,109
5213eb2a75b3ef8524cc9fe179d75d823df53148,public void setProcessTemplatesLocally(boolean processTemplatesLocally) {,0,1,0.25,110
5213eb2a75b3ef8524cc9fe179d75d823df53148,this.processTemplatesLocally = processTemplatesLocally;,0,1,0.25,111
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Template old = kubernetes.getTemplate(id, namespace);",1,1,0.25,112
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (isRunning(old)) {,1,1,0.25,113
5213eb2a75b3ef8524cc9fe179d75d823df53148,"if (UserConfigurationCompare.configEqual(entity, old)) {",1,1,0.25,114
5213eb2a75b3ef8524cc9fe179d75d823df53148,boolean recreateMode = isRecreateMode();,1,1,0.25,115
5213eb2a75b3ef8524cc9fe179d75d823df53148,recreateMode = true;,1,1,0.25,116
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (recreateMode) {,1,1,0.25,117
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Updating a entity from "" + sourceName);",1,1,0.25,118
5213eb2a75b3ef8524cc9fe179d75d823df53148,try {,1,1,0.25,119
5213eb2a75b3ef8524cc9fe179d75d823df53148,},1,1,0.25,120
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (!isAllowCreate()) {,1,1,0.25,121
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Creating Template "" + namespace + "":"" + id + "" "" + summaryText(entity));",1,1,0.25,122
5213eb2a75b3ef8524cc9fe179d75d823df53148,"url = url.substring(0, url.length() - relativeParentPath.length());",1,1,0.25,123
5213eb2a75b3ef8524cc9fe179d75d823df53148,return result;,1,1,0.25,124
5213eb2a75b3ef8524cc9fe179d75d823df53148,return processTemplatesLocally;,0,1,0.25,125
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (e.getResponse().getStatus() == 404) {,0,1,0.25,126
5213eb2a75b3ef8524cc9fe179d75d823df53148,"Template old = kubernetes.getTemplate(id, namespace);",0,1,0.25,127
5213eb2a75b3ef8524cc9fe179d75d823df53148,return result;,0,1,0.25,128
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (isRunning(old)) {,0,1,0.25,129
5213eb2a75b3ef8524cc9fe179d75d823df53148,"if (UserConfigurationCompare.configEqual(entity, old)) {",0,1,0.25,130
5213eb2a75b3ef8524cc9fe179d75d823df53148,boolean recreateMode = isRecreateMode();,0,1,0.25,131
5213eb2a75b3ef8524cc9fe179d75d823df53148,recreateMode = true;,0,1,0.25,132
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (recreateMode) {,0,1,0.25,133
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Updating a entity from "" + sourceName);",0,1,0.25,134
5213eb2a75b3ef8524cc9fe179d75d823df53148,try {,0,1,0.25,135
5213eb2a75b3ef8524cc9fe179d75d823df53148,},0,1,0.25,136
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (!isAllowCreate()) {,0,1,0.25,137
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (isProcessTemplatesLocally()) {,0,1,0.25,138
5213eb2a75b3ef8524cc9fe179d75d823df53148,return Templates.processTemplatesLocally(entity);,0,1,0.25,139
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to process template "" + sourceName + "". "" + e + "". "" + entity, e);",0,1,0.25,140
5213eb2a75b3ef8524cc9fe179d75d823df53148,return null;,0,1,0.25,141
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Creating Template "" + namespace + "":"" + id + "" "" + summaryText(entity));",0,1,0.25,142
5213eb2a75b3ef8524cc9fe179d75d823df53148,result = loadJson(json);,0,1,0.25,143
5213eb2a75b3ef8524cc9fe179d75d823df53148,return answer;,1,1,0.25,144
5213eb2a75b3ef8524cc9fe179d75d823df53148,},1,1,0.25,145
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (url.endsWith(relativeParentPath)) {,1,1,0.25,146
5213eb2a75b3ef8524cc9fe179d75d823df53148,private String iconBranch;,0,1,0.25,147
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.Volume;,0,1,0.25,148
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.VolumeMount;,0,1,0.25,149
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.VolumeMountBuilder;,0,1,0.25,150
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.ArrayList;,0,1,0.25,151
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.HashMap;,0,1,0.25,152
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.HashSet;,0,1,0.25,153
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.LinkedHashSet;,0,1,0.25,154
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.List;,0,1,0.25,155
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.Map;,0,1,0.25,156
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.Properties;,0,1,0.25,157
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.Set;,0,1,0.25,158
5213eb2a75b3ef8524cc9fe179d75d823df53148,import java.util.TreeMap;,0,1,0.25,159
5213eb2a75b3ef8524cc9fe179d75d823df53148,"@Parameter(property = ""fabric8.iconUrl"")",0,1,0.25,160
5213eb2a75b3ef8524cc9fe179d75d823df53148,private String iconUrl;,0,1,0.25,161
5213eb2a75b3ef8524cc9fe179d75d823df53148,"@Parameter(property = ""fabric8.iconUrlPrefix"")",0,1,0.25,162
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.ServicePort;,0,1,0.25,163
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.ServiceFluent;,0,1,0.25,164
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.ServiceBuilder;,0,1,0.25,165
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (Object item : items) {,1,1,0.25,166
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.HasMetadata;,0,1,0.25,167
5213eb2a75b3ef8524cc9fe179d75d823df53148,List<HasMetadata> items = kubernetesList.getItems();,0,1,0.25,168
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (HasMetadata item : items) {,0,1,0.25,169
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (HasMetadata object : items) {,0,1,0.25,170
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (HasMetadata object : objects) {,0,1,0.25,171
5213eb2a75b3ef8524cc9fe179d75d823df53148,"public static void addTemplateObject(Template template, HasMetadata object) {",0,1,0.25,172
5213eb2a75b3ef8524cc9fe179d75d823df53148,"url = URLUtils.pathJoin(""https://raw.githubusercontent.com/"", url.substring(prefix.length()));",1,1,0.25,173
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.Probe;,0,1,0.25,174
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (Object object : objects) {,1,1,0.25,175
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.ContainerPort;,0,1,0.25,176
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.EnvVar;,0,1,0.25,177
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.HTTPGetAction;,0,1,0.25,178
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.KubernetesList;,0,1,0.25,179
5213eb2a75b3ef8524cc9fe179d75d823df53148,import io.fabric8.kubernetes.api.model.KubernetesListBuilder;,0,1,0.25,180
5213eb2a75b3ef8524cc9fe179d75d823df53148,private String iconUrlPrefix;,0,1,0.25,181
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (Object object : items) {,1,1,0.25,182
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (Strings.isNullOrBlank(answer)) {,0,1,0.25,183
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (url.endsWith(relativeParentPath)) {,0,1,0.25,184
5213eb2a75b3ef8524cc9fe179d75d823df53148,urlPrefix = url;,0,1,0.25,185
5213eb2a75b3ef8524cc9fe179d75d823df53148,return answer;,0,1,0.25,186
5213eb2a75b3ef8524cc9fe179d75d823df53148,try {,1,1,0.25,187
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (iconTempDir != null) {,1,1,0.25,188
5213eb2a75b3ef8524cc9fe179d75d823df53148,File iconFile = copyIconToFolder(iconTempDir);,1,1,0.25,189
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (iconFile == null) {,1,1,0.25,190
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (String ext : ICON_EXTENSIONS) {,1,1,0.25,191
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (file.exists() && file.isFile()) {,1,1,0.25,192
5213eb2a75b3ef8524cc9fe179d75d823df53148,iconFile = file;,1,1,0.25,193
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (iconFile != null) {,1,1,0.25,194
5213eb2a75b3ef8524cc9fe179d75d823df53148,Scm scm = getProject().getScm();,1,1,0.25,195
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (url != null) {,1,1,0.25,196
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (String prefix : prefixes) {,1,1,0.25,197
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (url.startsWith(prefix)) {,1,1,0.25,198
5213eb2a75b3ef8524cc9fe179d75d823df53148,try {,0,1,0.25,199
5213eb2a75b3ef8524cc9fe179d75d823df53148,"url = url.substring(0, url.length() - relativeParentPath.length());",0,1,0.25,200
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (scm != null) {,1,1,0.25,201
5213eb2a75b3ef8524cc9fe179d75d823df53148,"url = URLUtils.pathJoin(""https://raw.githubusercontent.com/"", url.substring(prefix.length()));",0,1,0.25,202
5213eb2a75b3ef8524cc9fe179d75d823df53148,},0,1,0.25,203
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (iconTempDir != null) {,0,1,0.25,204
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (url.startsWith(prefix)) {,0,1,0.25,205
5213eb2a75b3ef8524cc9fe179d75d823df53148,File iconFile = copyIconToFolder(iconTempDir);,0,1,0.25,206
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (String ext : ICON_EXTENSIONS) {,0,1,0.25,207
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (file.exists() && file.isFile()) {,0,1,0.25,208
5213eb2a75b3ef8524cc9fe179d75d823df53148,iconFile = file;,0,1,0.25,209
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (iconFile == null) {,0,1,0.25,210
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (iconFile != null) {,0,1,0.25,211
5213eb2a75b3ef8524cc9fe179d75d823df53148,"String[] prefixes = {""http://github.com/"", ""https://github.com/""};",0,1,0.25,212
5213eb2a75b3ef8524cc9fe179d75d823df53148,Scm scm = getProject().getScm();,0,1,0.25,213
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (scm != null) {,0,1,0.25,214
5213eb2a75b3ef8524cc9fe179d75d823df53148,for (String prefix : prefixes) {,0,1,0.25,215
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (url != null) {,0,1,0.25,216
5213eb2a75b3ef8524cc9fe179d75d823df53148,if (Strings.isNullOrBlank(urlPrefix)) {,0,1,0.25,217
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.warn(""Got a 404 - could be an old Kubernetes/OpenShift environment - lets try the old style REST API..."");",0,0,0.0,218
5213eb2a75b3ef8524cc9fe179d75d823df53148,// could be OpenShift 0.4.x which has the old style REST API - lets try that...,0,0,0.0,219
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to create controller from "" + sourceName + "". "" + e + "". "" + entity, e);",0,0,0.0,220
5213eb2a75b3ef8524cc9fe179d75d823df53148,printSummary(result);,0,0,0.0,221
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Template processed into: "" + json);",0,0,0.0,222
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Updated entity: "" + answer);",0,0,0.0,223
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to update controller from "" + sourceName + "". "" + e + "". "" + entity, e);",0,0,0.0,224
5213eb2a75b3ef8524cc9fe179d75d823df53148,"doCreateTemplate(entity, namespace, sourceName);",0,0,0.0,225
5213eb2a75b3ef8524cc9fe179d75d823df53148,"kubernetes.deleteTemplate(id, namespace);",0,0,0.0,226
5213eb2a75b3ef8524cc9fe179d75d823df53148,// TODO seems you can't update templates right now,0,0,0.0,227
5213eb2a75b3ef8524cc9fe179d75d823df53148,"kubernetes.createRouteOldAPi(entity, namespace);",0,0,0.0,228
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Template hasn't changed so not doing anything"");",0,0,0.0,229
5213eb2a75b3ef8524cc9fe179d75d823df53148,/*,0,0,0.0,230
5213eb2a75b3ef8524cc9fe179d75d823df53148,"doCreateTemplate(entity, namespace, sourceName);",1,0,0.0,231
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to create Route from "" + sourceName + "". "" + e1 + "". "" + entity, e1);",0,0,0.0,232
5213eb2a75b3ef8524cc9fe179d75d823df53148,*/,0,0,0.0,233
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to create Route from "" + sourceName + "". "" + e + "". "" + entity, e);",0,0,0.0,234
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Template hasn't changed so not doing anything"");",1,0,0.0,235
5213eb2a75b3ef8524cc9fe179d75d823df53148,// TODO seems you can't update templates right now,1,0,0.0,236
5213eb2a75b3ef8524cc9fe179d75d823df53148,"kubernetes.deleteTemplate(id, namespace);",1,0,0.0,237
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Updated entity: "" + answer);",1,0,0.0,238
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to update controller from "" + sourceName + "". "" + e + "". "" + entity, e);",1,0,0.0,239
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Template processed into: "" + json);",1,0,0.0,240
5213eb2a75b3ef8524cc9fe179d75d823df53148,printSummary(result);,1,0,0.0,241
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to create controller from "" + sourceName + "". "" + e + "". "" + entity, e);",1,0,0.0,242
5213eb2a75b3ef8524cc9fe179d75d823df53148,// TODO we could maybe ignore failed services?,1,0,0.0,243
5213eb2a75b3ef8524cc9fe179d75d823df53148,private boolean processTemplatesLocally;,0,0,0.0,244
5213eb2a75b3ef8524cc9fe179d75d823df53148,"getLog().warn(""No iconUrlPrefix defined or could be found via SCM in the pom.xml so cannot add an icon URL!"");",0,0,0.0,245
5213eb2a75b3ef8524cc9fe179d75d823df53148,"applyEntity(result, sourceName);",1,0,0.0,246
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Created template: "" + answer);",0,0,0.0,247
5213eb2a75b3ef8524cc9fe179d75d823df53148,/**,0,0,0.0,248
5213eb2a75b3ef8524cc9fe179d75d823df53148,* The URL to use to link to the icon in the generated Template,0,0,0.0,249
5213eb2a75b3ef8524cc9fe179d75d823df53148,*/,0,0,0.0,250
5213eb2a75b3ef8524cc9fe179d75d823df53148,* The URL prefix added to the relative path of the icon file,0,0,0.0,251
5213eb2a75b3ef8524cc9fe179d75d823df53148,* The SCM branch used when creating a URL to the icon file,0,0,0.0,252
5213eb2a75b3ef8524cc9fe179d75d823df53148,iconTempDir.mkdirs();,0,0,0.0,253
5213eb2a75b3ef8524cc9fe179d75d823df53148,"copyAppConfigFiles(iconTempDir, appConfigDir);",0,0,0.0,254
5213eb2a75b3ef8524cc9fe179d75d823df53148,// lets find the icon file...,0,0,0.0,255
5213eb2a75b3ef8524cc9fe179d75d823df53148,break;,0,0,0.0,256
5213eb2a75b3ef8524cc9fe179d75d823df53148,"getLog().warn(""Failed to load icon file: "" + e, e);",0,0,0.0,257
5213eb2a75b3ef8524cc9fe179d75d823df53148,"getLog().info(""icon url is: "" + answer);",0,0,0.0,258
5213eb2a75b3ef8524cc9fe179d75d823df53148,iconTempDir.mkdirs();,1,0,0.0,259
5213eb2a75b3ef8524cc9fe179d75d823df53148,"copyAppConfigFiles(iconTempDir, appConfigDir);",1,0,0.0,260
5213eb2a75b3ef8524cc9fe179d75d823df53148,// lets find the icon file...,1,0,0.0,261
5213eb2a75b3ef8524cc9fe179d75d823df53148,break;,1,0,0.0,262
5213eb2a75b3ef8524cc9fe179d75d823df53148,"getLog().warn(""Failed to load icon file: "" + e, e);",1,0,0.0,263
5213eb2a75b3ef8524cc9fe179d75d823df53148,"getLog().info(""icon url is: "" + answer);",1,0,0.0,264
5213eb2a75b3ef8524cc9fe179d75d823df53148,/**,0,0,0.0,265
5213eb2a75b3ef8524cc9fe179d75d823df53148,*/,0,0,0.0,266
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Template hasn't changed so not doing anything"");",0,0,0.0,267
5213eb2a75b3ef8524cc9fe179d75d823df53148,// TODO seems you can't update templates right now,0,0,0.0,268
5213eb2a75b3ef8524cc9fe179d75d823df53148,"kubernetes.deleteTemplate(id, namespace);",0,0,0.0,269
5213eb2a75b3ef8524cc9fe179d75d823df53148,"doCreateTemplate(entity, namespace, sourceName);",0,0,0.0,270
5213eb2a75b3ef8524cc9fe179d75d823df53148,"LOG.info(""Updated entity: "" + answer);",0,0,0.0,271
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to update controller from "" + sourceName + "". "" + e + "". "" + entity, e);",0,0,0.0,272
5213eb2a75b3ef8524cc9fe179d75d823df53148,"onApplyError(""Failed to create BuildConfig from "" + sourceName + "". "" + e + "". "" + entity, e);",1,0,0.0,273

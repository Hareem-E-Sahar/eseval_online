commit_id,line,line_level_label,count,line_score,row
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (this.getZkHost() != null && this.getCollection() != null) {,1,6,1.0,1
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"return Arrays.asList(new Object[][] { { true }, { false } });",0,5,0.8333333333333333,2
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"LOG.warn(""Error shutting down streaming solr server. This exception is ignored."", e);",1,4,0.6666666666666666,3
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (this.cloudSolrServer != null) {,1,4,0.6666666666666666,4
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (ref != null) {,1,4,0.6666666666666666,5
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (followRedirects != null) {,1,4,0.6666666666666666,6
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (soTimeout != null) {,1,4,0.6666666666666666,7
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (key != null) {,1,4,0.6666666666666666,8
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (connectionTimeout != null) {,1,4,0.6666666666666666,9
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"LOG.warn(""Error shutting down solr server. This exception is ignored."", e);",1,4,0.6666666666666666,10
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"LOG.info(""Shutting down solr server: {}"", server);",1,4,0.6666666666666666,11
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (server != null) {,1,4,0.6666666666666666,12
1ad4708f81d4d71c4724900cf077bd3c8a63661b,Object[][] serverTypes = {,0,4,0.6666666666666666,13
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"LOG.warn(""Error shutting down streaming solr server. This exception is ignored."", e);",1,4,0.6666666666666666,14
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"LOG.warn(""Error shutting down solr server. This exception is ignored."", e);",1,4,0.6666666666666666,15
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"LOG.info(""Shutting down solr server: {}"", server);",1,4,0.6666666666666666,16
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setSolrServer(HttpSolrClient solrServer) {,1,3,0.5,17
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"private void insert(Exchange exchange, SolrClient solrServer) throws Exception {",1,3,0.5,18
1ad4708f81d4d71c4724900cf077bd3c8a63661b,} else if (SolrConstants.OPERATION_INSERT_STREAMING.equals(operation)) {,1,3,0.5,19
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (solrClient == null) {,0,3,0.5,20
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* indicates whether redirects are used to get to the Solr server,1,3,0.5,21
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (cloudServer == null) {,1,3,0.5,22
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ref = new SolrComponent.SolrServerReference();,1,3,0.5,23
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (ref == null) {,1,3,0.5,24
1ad4708f81d4d71c4724900cf077bd3c8a63661b,URL url = new URL(scheme + address);,1,3,0.5,25
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// set the properties on the solr server,1,3,0.5,26
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private final AtomicInteger referenceCounter = new AtomicInteger();,1,3,0.5,27
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"LOG.warn(""Error shutting down solr client. This exception is ignored."", e);",0,3,0.5,28
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private final List<SolrProducer> solrProducerList = new ArrayList<>();,0,3,0.5,29
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"private final Map<String, SolrClientReference> solrClientMap = new HashMap<>();",0,3,0.5,30
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"Object[][] serverTypes = {{SolrFixtures.TestServerType.USE_CLOUD},",1,3,0.5,31
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private static final Logger LOG = LoggerFactory.getLogger(SolrComponent.class);,1,3,0.5,32
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"log.warn(""Error shutting down streaming solr server. This exception is ignored."", e);",0,3,0.5,33
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"log.warn(""Error shutting down solr server. This exception is ignored."", e);",0,3,0.5,34
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"log.info(""Shutting down solr server: {}"", server);",0,3,0.5,35
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"private final Map<SolrEndpoint, SolrServerReference> servers = new HashMap<>();",1,3,0.5,36
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* Server side must support gzip or deflate for this to have any effect,1,2,0.3333333333333333,37
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setMaxTotalConnections(Integer maxTotalConnections) {,1,2,0.3333333333333333,38
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public Boolean getFollowRedirects() {,1,2,0.3333333333333333,39
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setFollowRedirects(Boolean followRedirects) {,1,2,0.3333333333333333,40
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public Boolean getAllowCompression() {,1,2,0.3333333333333333,41
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setPassword(String password) {,1,2,0.3333333333333333,42
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setAllowCompression(Boolean allowCompression) {,1,2,0.3333333333333333,43
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public String getUsername() {,1,2,0.3333333333333333,44
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setUsername(String username) {,1,2,0.3333333333333333,45
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public String getPassword() {,1,2,0.3333333333333333,46
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setDefaultMaxConnectionsPerHost(Integer defaultMaxConnectionsPerHost) {,1,2,0.3333333333333333,47
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public boolean isAutoCommit() {,1,2,0.3333333333333333,48
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public Integer getMaxTotalConnections() {,1,2,0.3333333333333333,49
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public Integer getSoTimeout() {,1,2,0.3333333333333333,50
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public Integer getDefaultMaxConnectionsPerHost() {,1,2,0.3333333333333333,51
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setConnectionTimeout(Integer connectionTimeout) {,1,2,0.3333333333333333,52
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public Integer getConnectionTimeout() {,1,2,0.3333333333333333,53
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setSoTimeout(Integer soTimeout) {,1,2,0.3333333333333333,54
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setMaxRetries(Integer maxRetries) {,1,2,0.3333333333333333,55
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setStreamingQueueSize(int streamingQueueSize) {,1,2,0.3333333333333333,56
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public int getStreamingQueueSize() {,1,2,0.3333333333333333,57
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setStreamingThreadCount(int streamingThreadCount) {,1,2,0.3333333333333333,58
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public int getStreamingThreadCount() {,1,2,0.3333333333333333,59
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public String getRequestHandler() {,1,2,0.3333333333333333,60
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setRequestHandler(String requestHandler) {,1,2,0.3333333333333333,61
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public SolrProducer(SolrEndpoint endpoint) {,0,2,0.3333333333333333,62
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setAutoCommit(boolean autoCommit) {,1,2,0.3333333333333333,63
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (getEndpoint().isAutoCommit()) {,1,2,0.3333333333333333,64
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// solr configuration (create new config for concurrentupdate,0,2,0.3333333333333333,65
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"public SolrProducer(SolrEndpoint endpoint, SolrClient solrServer, SolrClient concSolrServer,",1,2,0.3333333333333333,66
1ad4708f81d4d71c4724900cf077bd3c8a63661b,UpdateRequest updateRequest = new UpdateRequest(getRequestHandler());,1,2,0.3333333333333333,67
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private UpdateRequest createUpdateRequest() {,1,2,0.3333333333333333,68
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private String getRequestHandler() {,1,2,0.3333333333333333,69
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"DirectXmlRequest xmlRequest = new DirectXmlRequest(getRequestHandler(), bodyAsString);",1,2,0.3333333333333333,70
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (entry.getKey().startsWith(SolrConstants.PARAM)) {,1,2,0.3333333333333333,71
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ContentStreamUpdateRequest updateRequest = new ContentStreamUpdateRequest(getRequestHandler());,1,2,0.3333333333333333,72
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"private void query(Exchange exchange, SolrClient serverToUse) throws SolrServerException, IOException {",1,2,0.3333333333333333,73
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"private void commit(SolrClient serverToUse) throws SolrServerException, IOException {",1,2,0.3333333333333333,74
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ConcurrentUpdateSolrClient solrStreamingServer = new ConcurrentUpdateSolrClient.Builder(url),1,2,0.3333333333333333,75
1ad4708f81d4d71c4724900cf077bd3c8a63661b,} else {,1,2,0.3333333333333333,76
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private SolrClient getBestSolrServer(String operation) {,1,2,0.3333333333333333,77
1ad4708f81d4d71c4724900cf077bd3c8a63661b,UpdateRequest updateRequest = new UpdateRequest(getRequestHandler(solrConfiguration));,0,2,0.3333333333333333,78
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (operation.equalsIgnoreCase(SolrConstants.OPERATION_INSERT_STREAMING)) {,0,2,0.3333333333333333,79
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"private UpdateRequest createUpdateRequest(SolrConfiguration solrConfiguration, ModifiableSolrParams solrParams) {",0,2,0.3333333333333333,80
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private String getRequestHandler(SolrConfiguration solrConfiguration) {,0,2,0.3333333333333333,81
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"DirectXmlRequest xmlRequest = new DirectXmlRequest(getRequestHandler(solrConfiguration), bodyAsString);",0,2,0.3333333333333333,82
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ContentStreamUpdateRequest updateRequest = new ContentStreamUpdateRequest(getRequestHandler(solrConfiguration));,0,2,0.3333333333333333,83
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (solrConfiguration.isAutoCommit()) {,0,2,0.3333333333333333,84
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// solr collection,0,2,0.3333333333333333,85
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (entry.getKey().startsWith(SolrConstants.PARAM)) {,0,2,0.3333333333333333,86
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ModifiableSolrParams solrParams = new ModifiableSolrParams();,0,2,0.3333333333333333,87
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"solrClient = getEndpoint().getComponent().getSolrClient(this, solrConfiguration);",0,2,0.3333333333333333,88
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"SolrClient solrClient = exchange.getIn().getHeader(SolrConstants.CLIENT, SolrClient.class);",0,2,0.3333333333333333,89
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// solr client,0,2,0.3333333333333333,90
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (counter <= 0) {,1,2,0.3333333333333333,91
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public Integer getMaxRetries() {,1,2,0.3333333333333333,92
1ad4708f81d4d71c4724900cf077bd3c8a63661b,HttpSolrClient.Builder solrServerBuilder = new HttpSolrClient.Builder(url);,1,2,0.3333333333333333,93
1ad4708f81d4d71c4724900cf077bd3c8a63661b,List<String> signatureToRemoveList = new ArrayList<>();,0,2,0.3333333333333333,94
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"Endpoint endpoint = new SolrEndpoint(uri, this, remaining);",1,2,0.3333333333333333,95
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public int decReference() {,1,2,0.3333333333333333,96
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public int addReference() {,1,2,0.3333333333333333,97
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setCloudSolrServer(CloudSolrClient cloudServer) {,1,2,0.3333333333333333,98
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public CloudSolrClient getCloudSolrServer() {,1,2,0.3333333333333333,99
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setUpdateSolrServer(ConcurrentUpdateSolrClient updateSolrServer) {,1,2,0.3333333333333333,100
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public ConcurrentUpdateSolrClient getUpdateSolrServer() {,1,2,0.3333333333333333,101
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public HttpSolrClient getSolrServer() {,1,2,0.3333333333333333,102
1ad4708f81d4d71c4724900cf077bd3c8a63661b,protected static final class SolrServerReference {,1,2,0.3333333333333333,103
1ad4708f81d4d71c4724900cf077bd3c8a63661b,} catch (IOException e) {,0,2,0.3333333333333333,104
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private void removeFromSolrClientMap(Collection<String> signatureToRemoveList) {,0,2,0.3333333333333333,105
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (solrClientReference.unRegisterSolrProducer(solrProducer) == 0) {,0,2,0.3333333333333333,106
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void closeSolrClient(SolrProducer solrProducer) {,0,2,0.3333333333333333,107
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"public void addSolrServers(SolrEndpoint endpoint, SolrServerReference servers) {",1,2,0.3333333333333333,108
1ad4708f81d4d71c4724900cf077bd3c8a63661b,} else {,0,2,0.3333333333333333,109
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrClientReference = new SolrClientReference(solrConfiguration.initSolrClient());,0,2,0.3333333333333333,110
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (!solrClientMap.containsKey(signature)) {,0,2,0.3333333333333333,111
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"public SolrClient getSolrClient(SolrProducer solrProducer, SolrConfiguration solrConfiguration) throws Exception {",0,2,0.3333333333333333,112
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"Endpoint endpoint = new SolrEndpoint(uri, this, configuration);",0,2,0.3333333333333333,113
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"SolrConfiguration configuration = new SolrConfiguration(uri, remaining);",0,2,0.3333333333333333,114
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public int registerSolrProducer(SolrProducer solrProducer) {,0,2,0.3333333333333333,115
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public int unRegisterSolrProducer(SolrProducer solrProducer) {,0,2,0.3333333333333333,116
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public SolrClient getSolrClient() {,0,2,0.3333333333333333,117
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// no then create new servers,1,2,0.3333333333333333,118
1ad4708f81d4d71c4724900cf077bd3c8a63661b,protected static final class SolrClientReference {,0,2,0.3333333333333333,119
1ad4708f81d4d71c4724900cf077bd3c8a63661b,{ SolrFixtures.TestServerType.USE_HTTP } };,0,2,0.3333333333333333,120
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public SolrServerReference getSolrServers(SolrEndpoint endpoint) {,1,2,0.3333333333333333,121
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public SolrClientReference(SolrClient solrClient) {,0,2,0.3333333333333333,122
1ad4708f81d4d71c4724900cf077bd3c8a63661b,for (SolrServerReference server : servers.values()) {,1,2,0.3333333333333333,123
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private int streamingThreadCount = SolrConstants.DEFAULT_STREAMING_THREAD_COUNT;,1,2,0.3333333333333333,124
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private void shutdownServer(SolrClient server) throws IOException {,1,2,0.3333333333333333,125
1ad4708f81d4d71c4724900cf077bd3c8a63661b,SolrComponent.SolrServerReference ref = getComponent().getSolrServers(this);,1,2,0.3333333333333333,126
1ad4708f81d4d71c4724900cf077bd3c8a63661b,CloudSolrClient rVal = null;,1,2,0.3333333333333333,127
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private CloudSolrClient getCloudServer() {,1,2,0.3333333333333333,128
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public String getCollection() {,1,2,0.3333333333333333,129
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setCollection(String collection) {,1,2,0.3333333333333333,130
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* Set the collection name which the solrCloud server could use,1,2,0.3333333333333333,131
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public String getZkHost() {,1,2,0.3333333333333333,132
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"if (endpointUri.startsWith(""solrs"")) {",1,2,0.3333333333333333,133
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"public SolrEndpoint(String endpointUri, SolrComponent component, String address) throws Exception {",1,2,0.3333333333333333,134
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"@UriParam(label = ""security"", secret = true)",1,2,0.3333333333333333,135
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"rVal = new CloudSolrClient.Builder(java.util.Arrays.asList(zkHost), Optional.empty()).build();",1,2,0.3333333333333333,136
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"@UriParam(defaultValue = """" + SolrConstants.DEFAULT_STREAMING_THREAD_COUNT)",1,2,0.3333333333333333,137
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public SolrConfiguration getSolrConfiguration() {,0,2,0.3333333333333333,138
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private int streamingQueueSize = SolrConstants.DEFUALT_STREAMING_QUEUE_SIZE;,1,2,0.3333333333333333,139
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (remove) {,1,2,0.3333333333333333,140
1ad4708f81d4d71c4724900cf077bd3c8a63661b,SolrEndpoint key = null;,1,2,0.3333333333333333,141
1ad4708f81d4d71c4724900cf077bd3c8a63661b,if (entry.getValue() == ref) {,1,2,0.3333333333333333,142
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"public SolrEndpoint(String endpointUri, SolrComponent component, SolrConfiguration solrConfiguration) {",0,2,0.3333333333333333,143
1ad4708f81d4d71c4724900cf077bd3c8a63661b,} catch (Exception e) {,1,2,0.3333333333333333,144
1ad4708f81d4d71c4724900cf077bd3c8a63661b,public void setRequestHandler(String requestHandler) {,0,2,0.3333333333333333,145
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"private String scheme = ""http://"";",1,2,0.3333333333333333,146
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"@UriPath(description = ""Hostname and port for the solr server"")",1,2,0.3333333333333333,147
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"@UriParam(defaultValue = """" + SolrConstants.DEFUALT_STREAMING_QUEUE_SIZE)",1,2,0.3333333333333333,148
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"String solrCollection = exchange.getIn().getHeader(SolrConstants.COLLECTION, String.class);",0,1,0.16666666666666666,149
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.username = username;,1,1,0.16666666666666666,150
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"for (Map.Entry<String, Object> entry : exchange.getIn().getHeaders().entrySet()) {",0,1,0.16666666666666666,151
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// solr parameters,0,1,0.16666666666666666,152
1ad4708f81d4d71c4724900cf077bd3c8a63661b,},0,1,0.16666666666666666,153
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrConfiguration = solrConfiguration.newCopy();,0,1,0.16666666666666666,154
1ad4708f81d4d71c4724900cf077bd3c8a63661b,SolrConfiguration solrConfiguration = getEndpoint().getSolrConfiguration();,0,1,0.16666666666666666,155
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.autoCommit = autoCommit;,1,1,0.16666666666666666,156
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"* If true, each producer operation will be committed automatically",1,1,0.16666666666666666,157
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.password = password;,1,1,0.16666666666666666,158
1ad4708f81d4d71c4724900cf077bd3c8a63661b,String paramName = entry.getKey().substring(SolrConstants.PARAM.length());,0,1,0.16666666666666666,159
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.soTimeout = soTimeout;,1,1,0.16666666666666666,160
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.allowCompression = allowCompression;,1,1,0.16666666666666666,161
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.followRedirects = followRedirects;,1,1,0.16666666666666666,162
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.maxTotalConnections = maxTotalConnections;,1,1,0.16666666666666666,163
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.defaultMaxConnectionsPerHost = defaultMaxConnectionsPerHost;,1,1,0.16666666666666666,164
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.connectionTimeout = connectionTimeout;,1,1,0.16666666666666666,165
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.maxRetries = maxRetries;,1,1,0.16666666666666666,166
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.streamingQueueSize = streamingQueueSize;,1,1,0.16666666666666666,167
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.streamingThreadCount = streamingThreadCount;,1,1,0.16666666666666666,168
1ad4708f81d4d71c4724900cf077bd3c8a63661b,int counter = ref.decReference();,1,1,0.16666666666666666,169
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"return new SolrProducer(this, ref.getSolrServer(), ref.getUpdateSolrServer(), ref.getCloudSolrServer());",1,1,0.16666666666666666,170
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"insert(exchange, solrClient, solrConfiguration, solrParams);",0,1,0.16666666666666666,171
1ad4708f81d4d71c4724900cf077bd3c8a63661b,HttpSolrClient solrServer = solrServerBuilder.build();,1,1,0.16666666666666666,172
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// solr operations,0,1,0.16666666666666666,173
1ad4708f81d4d71c4724900cf077bd3c8a63661b,SolrClient cloudSolrServer) {,1,1,0.16666666666666666,174
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"UpdateRequest updateRequest = createUpdateRequest(solrConfiguration, solrParams);",0,1,0.16666666666666666,175
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private void commit(,0,1,0.16666666666666666,176
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.collection = collection;,1,1,0.16666666666666666,177
1ad4708f81d4d71c4724900cf077bd3c8a63661b,String requestHandler = getEndpoint().getRequestHandler();,1,1,0.16666666666666666,178
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrServer.request(xmlRequest);,1,1,0.16666666666666666,179
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.process(solrServer);,1,1,0.16666666666666666,180
1ad4708f81d4d71c4724900cf077bd3c8a63661b,String paramName = entry.getKey().substring(SolrConstants.PARAM.length());,1,1,0.16666666666666666,181
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"for (Map.Entry<String, Object> entry : exchange.getIn().getHeaders().entrySet()) {",1,1,0.16666666666666666,182
1ad4708f81d4d71c4724900cf077bd3c8a63661b,QueryResponse p = queryRequest.process(serverToUse);,1,1,0.16666666666666666,183
1ad4708f81d4d71c4724900cf077bd3c8a63661b,UpdateRequest updateRequest = createUpdateRequest();,1,1,0.16666666666666666,184
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"insert(exchange, serverToUse);",1,1,0.16666666666666666,185
1ad4708f81d4d71c4724900cf077bd3c8a63661b,SolrClient serverToUse = getBestSolrServer(operation);,1,1,0.16666666666666666,186
1ad4708f81d4d71c4724900cf077bd3c8a63661b,},1,1,0.16666666666666666,187
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.cloudSolrServer = cloudSolrServer;,1,1,0.16666666666666666,188
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.concSolrServer = concSolrServer;,1,1,0.16666666666666666,189
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.httpServer = solrServer;,1,1,0.16666666666666666,190
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private SolrClient cloudSolrServer;,1,1,0.16666666666666666,191
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private SolrClient concSolrServer;,1,1,0.16666666666666666,192
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private SolrClient httpServer;,1,1,0.16666666666666666,193
1ad4708f81d4d71c4724900cf077bd3c8a63661b,String requestHandler = solrConfiguration.getRequestHandler();,0,1,0.16666666666666666,194
1ad4708f81d4d71c4724900cf077bd3c8a63661b,throws Exception {,0,1,0.16666666666666666,195
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private void insert(,0,1,0.16666666666666666,196
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"QueryResponse p = queryRequest.process(solrClient, solrCollection);",0,1,0.16666666666666666,197
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private void query(,0,1,0.16666666666666666,198
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"throws SolrServerException, IOException {",0,1,0.16666666666666666,199
1ad4708f81d4d71c4724900cf077bd3c8a63661b,CloudSolrClient cloudServer = getCloudServer();,1,1,0.16666666666666666,200
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.requestHandler = requestHandler;,1,1,0.16666666666666666,201
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.zkHost = decoded;,1,1,0.16666666666666666,202
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"void shutdownServers(SolrServerReference ref, boolean remove) {",1,1,0.16666666666666666,203
1ad4708f81d4d71c4724900cf077bd3c8a63661b,protected void doShutdown() throws Exception {,1,1,0.16666666666666666,204
1ad4708f81d4d71c4724900cf077bd3c8a63661b,cloudSolrServer = cloudServer;,1,1,0.16666666666666666,205
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.updateSolrServer = updateSolrServer;,1,1,0.16666666666666666,206
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.solrServer = solrServer;,1,1,0.16666666666666666,207
1ad4708f81d4d71c4724900cf077bd3c8a63661b,},1,1,0.16666666666666666,208
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private CloudSolrClient cloudSolrServer;,1,1,0.16666666666666666,209
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private ConcurrentUpdateSolrClient updateSolrServer;,1,1,0.16666666666666666,210
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private HttpSolrClient solrServer;,1,1,0.16666666666666666,211
1ad4708f81d4d71c4724900cf077bd3c8a63661b,protected void doShutdown() throws Exception {,0,1,0.16666666666666666,212
1ad4708f81d4d71c4724900cf077bd3c8a63661b,try {,0,1,0.16666666666666666,213
1ad4708f81d4d71c4724900cf077bd3c8a63661b,SolrClientReference solrClientReference = solrClientMap.get(signature);,0,1,0.16666666666666666,214
1ad4708f81d4d71c4724900cf077bd3c8a63661b,for (String signature : signatureToRemoveList) {,0,1,0.16666666666666666,215
1ad4708f81d4d71c4724900cf077bd3c8a63661b,},0,1,0.16666666666666666,216
1ad4708f81d4d71c4724900cf077bd3c8a63661b,SolrClientReference solrClientReference = entry.getValue();,0,1,0.16666666666666666,217
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"for (Map.Entry<String, SolrClientReference> entry : solrClientMap.entrySet()) {",0,1,0.16666666666666666,218
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// register producer against solrClient (for later close of client),0,1,0.16666666666666666,219
1ad4708f81d4d71c4724900cf077bd3c8a63661b,String signature = solrConfiguration.getSignature();,0,1,0.16666666666666666,220
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.solrClient = solrClient;,0,1,0.16666666666666666,221
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private final SolrClient solrClient;,0,1,0.16666666666666666,222
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"return Arrays.asList(new Object[][] {{true}, {false}});",1,1,0.16666666666666666,223
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"{ SolrFixtures.TestServerType.USE_HTTPS },",0,1,0.16666666666666666,224
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"{ SolrFixtures.TestServerType.USE_CLOUD },",0,1,0.16666666666666666,225
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.url = url.toString();,1,1,0.16666666666666666,226
1ad4708f81d4d71c4724900cf077bd3c8a63661b,void shutdownServers(SolrServerReference ref) {,1,1,0.16666666666666666,227
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrClientReference = solrClientMap.get(signature);,0,1,0.16666666666666666,228
1ad4708f81d4d71c4724900cf077bd3c8a63661b,try {,1,1,0.16666666666666666,229
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private Boolean followRedirects;,1,1,0.16666666666666666,230
1ad4708f81d4d71c4724900cf077bd3c8a63661b,},1,1,0.16666666666666666,231
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"for (Map.Entry<SolrEndpoint, SolrServerReference> entry : servers.entrySet()) {",1,1,0.16666666666666666,232
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"scheme = ""https://"";",1,1,0.16666666666666666,233
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private boolean autoCommit;,1,1,0.16666666666666666,234
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"@UriParam(defaultValue = ""false"")",1,1,0.16666666666666666,235
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private String username;,1,1,0.16666666666666666,236
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private String requestHandler;,1,1,0.16666666666666666,237
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private String collection;,1,1,0.16666666666666666,238
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private String zkHost;,1,1,0.16666666666666666,239
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"@UriParam(label = ""solrCloud"")",1,1,0.16666666666666666,240
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private Boolean allowCompression;,1,1,0.16666666666666666,241
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private String password;,1,1,0.16666666666666666,242
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private Integer maxTotalConnections;,1,1,0.16666666666666666,243
1ad4708f81d4d71c4724900cf077bd3c8a63661b,@Metadata(required = true),1,1,0.16666666666666666,244
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private SolrConfiguration solrConfiguration;,0,1,0.16666666666666666,245
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private Integer defaultMaxConnectionsPerHost;,1,1,0.16666666666666666,246
1ad4708f81d4d71c4724900cf077bd3c8a63661b,key = entry.getKey();,1,1,0.16666666666666666,247
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.solrConfiguration = solrConfiguration;,0,1,0.16666666666666666,248
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return new SolrProducer(this);,0,1,0.16666666666666666,249
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private String url;,1,1,0.16666666666666666,250
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private Integer maxRetries;,1,1,0.16666666666666666,251
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private Integer soTimeout;,1,1,0.16666666666666666,252
1ad4708f81d4d71c4724900cf077bd3c8a63661b,private Integer connectionTimeout;,1,1,0.16666666666666666,253
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return defaultMaxConnectionsPerHost;,1,0,0.0,254
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return username;,1,0,0.0,255
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* maxConnectionsPerHost on the underlying HttpConnectionManager,1,0,0.0,256
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return maxTotalConnections;,1,0,0.0,257
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* connectionTimeout on the underlying HttpConnectionManager,1,0,0.0,258
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* maxTotalConnection on the underlying HttpConnectionManager,1,0,0.0,259
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return followRedirects;,1,0,0.0,260
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return allowCompression;,1,0,0.0,261
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return autoCommit;,1,0,0.0,262
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* Sets username for basic auth plugin enabled servers,1,0,0.0,263
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return password;,1,0,0.0,264
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* Sets password for basic auth plugin enabled servers,1,0,0.0,265
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.solr.common.params.ModifiableSolrParams;,0,0,0.0,266
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrConfiguration.setUseConcurrentUpdateSolrClient(true);,0,0,0.0,267
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"solrParams.add(paramName, entry.getValue().toString());",0,0,0.0,268
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* indexing,1,0,0.0,269
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"commit(exchange, solrClient, solrConfiguration, solrParams);",0,0,0.0,270
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return connectionTimeout;,1,0,0.0,271
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ref.addReference();,1,0,0.0,272
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"* Read timeout on the underlying HttpConnectionManager. This is desirable for queries, but probably not for",1,0,0.0,273
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"getComponent().shutdownServers(ref, true);",1,0,0.0,274
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.add(solrClient.getBinder().toSolrInputDocument(exchange.getIn().getBody()));,0,0,0.0,275
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrServerBuilder.withConnectionTimeout(connectionTimeout);,1,0,0.0,276
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrServer.setFollowRedirects(followRedirects);,1,0,0.0,277
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ref.setSolrServer(solrServer);,1,0,0.0,278
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ref.setUpdateSolrServer(solrStreamingServer);,1,0,0.0,279
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ref.setCloudSolrServer(cloudServer);,1,0,0.0,280
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"getComponent().addSolrServers(this, ref);",1,0,0.0,281
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* Set the request handler to be used,1,0,0.0,282
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return soTimeout;,1,0,0.0,283
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return requestHandler;,1,0,0.0,284
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return streamingThreadCount;,1,0,0.0,285
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* Set the number of threads for the StreamingUpdateSolrServer,1,0,0.0,286
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return streamingQueueSize;,1,0,0.0,287
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* Set the queue size for the StreamingUpdateSolrServer,1,0,0.0,288
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return maxRetries;,1,0,0.0,289
1ad4708f81d4d71c4724900cf077bd3c8a63661b,* Maximum number of retries to attempt in the event of transient errors,1,0,0.0,290
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"updateRequest.process(solrClient, solrCollection);",0,0,0.0,291
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return this.cloudSolrServer;,1,0,0.0,292
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.add(body.stream().map(solrClient.getBinder()::toSolrInputDocument).collect(Collectors.toList()));,0,0,0.0,293
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.add(serverToUse.getBinder().toSolrInputDocument(exchange.getIn().getBody()));,1,0,0.0,294
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"xmlRequest.process(solrClient, solrCollection);",0,0,0.0,295
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.add(doc);,0,0,0.0,296
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.build();,1,0,0.0,297
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return this.concSolrServer;,1,0,0.0,298
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return this.httpServer;,1,0,0.0,299
1ad4708f81d4d71c4724900cf077bd3c8a63661b,commit(serverToUse);,1,0,0.0,300
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.process(serverToUse);,1,0,0.0,301
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.add(body.stream().map(serverToUse.getBinder()::toSolrInputDocument).collect(Collectors.toList()));,1,0,0.0,302
1ad4708f81d4d71c4724900cf077bd3c8a63661b,xmlRequest.setParams(solrParams);,0,0,0.0,303
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"updateRequest.setAction(ACTION.COMMIT, true, true);",1,0,0.0,304
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"updateRequest.setAction(ACTION.COMMIT, true, true, true);",1,0,0.0,305
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"query(exchange, serverToUse);",1,0,0.0,306
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"queryRequest.setBasicAuthCredentials(getEndpoint().getUsername(), getEndpoint().getPassword());",1,0,0.0,307
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"updateRequest.setBasicAuthCredentials(getEndpoint().getUsername(), getEndpoint().getPassword());",1,0,0.0,308
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"updateRequest.setParam(paramName, entry.getValue().toString());",1,0,0.0,309
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"xmlRequest.setBasicAuthCredentials(getEndpoint().getUsername(), getEndpoint().getPassword());",1,0,0.0,310
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"xmlRequest.setBasicAuthCredentials(solrConfiguration.getUsername(), solrConfiguration.getPassword());",0,0,0.0,311
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"updateRequest.setBasicAuthCredentials(solrConfiguration.getUsername(), solrConfiguration.getPassword());",0,0,0.0,312
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"commit(exchange, solrClient, solrConfiguration, solrParams, true);",0,0,0.0,313
1ad4708f81d4d71c4724900cf077bd3c8a63661b,boolean softCommit),0,0,0.0,314
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"query(exchange, solrClient, solrConfiguration, solrParams);",0,0,0.0,315
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"Exchange exchange,",0,0,0.0,316
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"SolrClient solrClient,",0,0,0.0,317
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"SolrConfiguration solrConfiguration,",0,0,0.0,318
1ad4708f81d4d71c4724900cf077bd3c8a63661b,ModifiableSolrParams solrParams),0,0,0.0,319
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"commit(exchange, solrClient, solrConfiguration, solrParams, false);",0,0,0.0,320
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"ModifiableSolrParams solrParams,",0,0,0.0,321
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.setAction(,0,0,0.0,322
1ad4708f81d4d71c4724900cf077bd3c8a63661b,updateRequest.setParams(solrParams);,0,0,0.0,323
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"ACTION.COMMIT,",0,0,0.0,324
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"solrParams.getBool(""waitFlush"", true),",0,0,0.0,325
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"solrParams.getBool(""waitSearcher"", true),",0,0,0.0,326
1ad4708f81d4d71c4724900cf077bd3c8a63661b,softCommit);,0,0,0.0,327
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"Exchange exchange, SolrClient solrClient, SolrConfiguration solrConfiguration, ModifiableSolrParams solrParams)",0,0,0.0,328
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrQuery.add(solrParams);,0,0,0.0,329
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"queryRequest.setBasicAuthCredentials(solrConfiguration.getUsername(), solrConfiguration.getPassword());",0,0,0.0,330
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrServerBuilder.withSocketTimeout(soTimeout);,1,0,0.0,331
1ad4708f81d4d71c4724900cf077bd3c8a63661b,shutdownServer(ref.getCloudSolrServer());,1,0,0.0,332
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.withThreadCount(streamingThreadCount),1,0,0.0,333
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// close when generated for endpoint,0,0,0.0,334
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrProducerList.remove(solrProducer);,0,0,0.0,335
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return solrProducerList.size();,0,0,0.0,336
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrProducerList.add(solrProducer);,0,0,0.0,337
1ad4708f81d4d71c4724900cf077bd3c8a63661b,SolrClientReference solrClientReference;,0,0,0.0,338
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"solrClientMap.put(signature, solrClientReference);",0,0,0.0,339
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrClientReference.registerSolrProducer(solrProducer);,0,0,0.0,340
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return solrClientReference.getSolrClient();,0,0,0.0,341
1ad4708f81d4d71c4724900cf077bd3c8a63661b,signatureToRemoveList.add(entry.getKey());,0,0,0.0,342
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import java.util.List;,0,0,0.0,343
1ad4708f81d4d71c4724900cf077bd3c8a63661b,removeFromSolrClientMap(signatureToRemoveList);,0,0,0.0,344
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrClientMap.remove(signature);,0,0,0.0,345
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrClientReference.getSolrClient().close();,0,0,0.0,346
1ad4708f81d4d71c4724900cf077bd3c8a63661b,@Override,0,0,0.0,347
1ad4708f81d4d71c4724900cf077bd3c8a63661b,removeFromSolrClientMap(solrClientMap.keySet());,0,0,0.0,348
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import java.util.concurrent.atomic.AtomicInteger;,1,0,0.0,349
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.solr.client.solrj.impl.CloudSolrClient;,1,0,0.0,350
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return solrClient;,0,0,0.0,351
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import java.util.Collection;,0,0,0.0,352
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.withQueueSize(streamingQueueSize),1,0,0.0,353
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.end(),1,0,0.0,354
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.slf4j.Logger;,1,0,0.0,355
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.slf4j.LoggerFactory;,1,0,0.0,356
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.split(body()),0,0,0.0,357
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.end(),0,0,0.0,358
1ad4708f81d4d71c4724900cf077bd3c8a63661b,".setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))",0,0,0.0,359
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.to(solrRouteUri());,0,0,0.0,360
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.split(body()),1,0,0.0,361
1ad4708f81d4d71c4724900cf077bd3c8a63661b,".setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))",1,0,0.0,362
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import java.util.ArrayList;,0,0,0.0,363
1ad4708f81d4d71c4724900cf077bd3c8a63661b,.to(solrRouteUri());,1,0,0.0,364
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"{SolrFixtures.TestServerType.USE_HTTPS},",1,0,0.0,365
1ad4708f81d4d71c4724900cf077bd3c8a63661b,{SolrFixtures.TestServerType.USE_HTTP}};,1,0,0.0,366
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"USE_HTTP,",0,0,0.0,367
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"USE_HTTPS,",0,0,0.0,368
1ad4708f81d4d71c4724900cf077bd3c8a63661b,USE_CLOUD,0,0,0.0,369
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"USE_HTTP, USE_HTTPS, USE_CLOUD",1,0,0.0,370
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient;,1,0,0.0,371
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.solr.client.solrj.impl.HttpSolrClient;,1,0,0.0,372
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return solrServer;,1,0,0.0,373
1ad4708f81d4d71c4724900cf077bd3c8a63661b,@UriParam,1,0,0.0,374
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import java.net.URL;,1,0,0.0,375
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import java.util.Optional;,1,0,0.0,376
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.camel.spi.Metadata;,1,0,0.0,377
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.camel.spi.UriPath;,1,0,0.0,378
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.solr.client.solrj.impl.CloudSolrClient;,1,0,0.0,379
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient;,1,0,0.0,380
1ad4708f81d4d71c4724900cf077bd3c8a63661b,import org.apache.solr.client.solrj.impl.HttpSolrClient;,1,0,0.0,381
1ad4708f81d4d71c4724900cf077bd3c8a63661b,/**,1,0,0.0,382
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return updateSolrServer;,1,0,0.0,383
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"* Set the ZooKeeper host information which the solrCloud could use, such as ""zkhost=localhost:8123"".",1,0,0.0,384
1ad4708f81d4d71c4724900cf077bd3c8a63661b,*/,1,0,0.0,385
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return this.zkHost;,1,0,0.0,386
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return this.collection;,1,0,0.0,387
1ad4708f81d4d71c4724900cf077bd3c8a63661b,rVal.setDefaultCollection(this.getCollection());,1,0,0.0,388
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return rVal;,1,0,0.0,389
1ad4708f81d4d71c4724900cf077bd3c8a63661b,// do we have servers?,1,0,0.0,390
1ad4708f81d4d71c4724900cf077bd3c8a63661b,getComponent().closeSolrClient(producer);,0,0,0.0,391
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrConfiguration.setRequestHandler(requestHandler);,0,0,0.0,392
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return solrConfiguration;,0,0,0.0,393
1ad4708f81d4d71c4724900cf077bd3c8a63661b,this.solrConfiguration.setZkHost(decoded);,0,0,0.0,394
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return cloudSolrServer;,1,0,0.0,395
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return referenceCounter.incrementAndGet();,1,0,0.0,396
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return referenceCounter.decrementAndGet();,1,0,0.0,397
1ad4708f81d4d71c4724900cf077bd3c8a63661b,return servers.get(endpoint);,1,0,0.0,398
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"this.servers.put(endpoint, servers);",1,0,0.0,399
1ad4708f81d4d71c4724900cf077bd3c8a63661b,@Override,1,0,0.0,400
1ad4708f81d4d71c4724900cf077bd3c8a63661b,shutdownServers(server);,1,0,0.0,401
1ad4708f81d4d71c4724900cf077bd3c8a63661b,servers.clear();,1,0,0.0,402
1ad4708f81d4d71c4724900cf077bd3c8a63661b,"shutdownServers(ref, false);",1,0,0.0,403
1ad4708f81d4d71c4724900cf077bd3c8a63661b,server.close();,1,0,0.0,404
1ad4708f81d4d71c4724900cf077bd3c8a63661b,shutdownServer(ref.getSolrServer());,1,0,0.0,405
1ad4708f81d4d71c4724900cf077bd3c8a63661b,shutdownServer(ref.getUpdateSolrServer());,1,0,0.0,406
1ad4708f81d4d71c4724900cf077bd3c8a63661b,break;,1,0,0.0,407
1ad4708f81d4d71c4724900cf077bd3c8a63661b,servers.remove(key);,1,0,0.0,408
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrConfiguration.setSolrEndpoint(this);,0,0,0.0,409
1ad4708f81d4d71c4724900cf077bd3c8a63661b,solrServer.add(doc);,1,0,0.0,410

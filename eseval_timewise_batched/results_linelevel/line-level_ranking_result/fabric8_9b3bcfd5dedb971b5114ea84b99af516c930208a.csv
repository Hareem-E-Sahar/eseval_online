commit_id,line,line_level_label,count,line_score,row
9b3bcfd5dedb971b5114ea84b99af516c930208a,// need to find camel-core so we known the camel version,1,6,1.0,1
9b3bcfd5dedb971b5114ea84b99af516c930208a,// need to find camel-core so we known the camel version,1,6,1.0,2
9b3bcfd5dedb971b5114ea84b99af516c930208a,// need to find camel-core so we known the camel version,1,6,1.0,3
9b3bcfd5dedb971b5114ea84b99af516c930208a,Dependency core = CamelProjectHelper.findCamelCoreDependency(project);,1,3,0.5,4
9b3bcfd5dedb971b5114ea84b99af516c930208a,// find the version of Apache Camel we use,1,3,0.5,5
9b3bcfd5dedb971b5114ea84b99af516c930208a,Dependency core = CamelProjectHelper.findCamelCoreDependency(project);,1,3,0.5,6
9b3bcfd5dedb971b5114ea84b99af516c930208a,// find all available dataformat names,1,3,0.5,7
9b3bcfd5dedb971b5114ea84b99af516c930208a,// find all available language names,1,3,0.5,8
9b3bcfd5dedb971b5114ea84b99af516c930208a,core = CamelProjectHelper.findCamelCoreDependency(project);,1,2,0.3333333333333333,9
9b3bcfd5dedb971b5114ea84b99af516c930208a,".description(""Adds a Camel language to your project dependencies"");",1,2,0.3333333333333333,10
9b3bcfd5dedb971b5114ea84b99af516c930208a,Project project = getSelectedProject(builder);,1,2,0.3333333333333333,11
9b3bcfd5dedb971b5114ea84b99af516c930208a,Project project = getSelectedProject(context);,1,2,0.3333333333333333,12
9b3bcfd5dedb971b5114ea84b99af516c930208a,// does the project already have camel?,1,2,0.3333333333333333,13
9b3bcfd5dedb971b5114ea84b99af516c930208a,Dependency core = findCamelCoreDependency(project);,1,2,0.3333333333333333,14
9b3bcfd5dedb971b5114ea84b99af516c930208a,// we want to use same version as camel-core,1,2,0.3333333333333333,15
9b3bcfd5dedb971b5114ea84b99af516c930208a,private final Project project;,1,2,0.3333333333333333,16
9b3bcfd5dedb971b5114ea84b99af516c930208a,private final Dependency core;,1,2,0.3333333333333333,17
9b3bcfd5dedb971b5114ea84b99af516c930208a,private final Project project;,1,2,0.3333333333333333,18
9b3bcfd5dedb971b5114ea84b99af516c930208a,// filter non matching names first,1,2,0.3333333333333333,19
9b3bcfd5dedb971b5114ea84b99af516c930208a,// filter names which are already on the classpath,1,2,0.3333333333333333,20
9b3bcfd5dedb971b5114ea84b99af516c930208a,private static String findArtifactId(String json) {,1,2,0.3333333333333333,21
9b3bcfd5dedb971b5114ea84b99af516c930208a,// we want to use same version as camel-core,1,2,0.3333333333333333,22
9b3bcfd5dedb971b5114ea84b99af516c930208a,private final Dependency core;,1,2,0.3333333333333333,23
9b3bcfd5dedb971b5114ea84b99af516c930208a,core = CamelProjectHelper.findCamelCoreDependency(project);,1,2,0.3333333333333333,24
9b3bcfd5dedb971b5114ea84b99af516c930208a,// filter names which are already on the classpath,1,2,0.3333333333333333,25
9b3bcfd5dedb971b5114ea84b99af516c930208a,private static String findArtifactId(String json) {,1,2,0.3333333333333333,26
9b3bcfd5dedb971b5114ea84b99af516c930208a,private UISelectOne<LanguageDto> name;,1,2,0.3333333333333333,27
9b3bcfd5dedb971b5114ea84b99af516c930208a,// filter non matching names first,1,2,0.3333333333333333,28
9b3bcfd5dedb971b5114ea84b99af516c930208a,Dependency core = findCamelCoreDependency(project);,1,2,0.3333333333333333,29
9b3bcfd5dedb971b5114ea84b99af516c930208a,// we want to use same version as camel-core,0,2,0.3333333333333333,30
9b3bcfd5dedb971b5114ea84b99af516c930208a,// does the project already have camel?,1,2,0.3333333333333333,31
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<String> names = catalog.findLanguageNames();,0,2,0.3333333333333333,32
9b3bcfd5dedb971b5114ea84b99af516c930208a,private UISelectOne<DataFormatDto> name;,0,2,0.3333333333333333,33
9b3bcfd5dedb971b5114ea84b99af516c930208a,// name -> artifactId,0,2,0.3333333333333333,34
9b3bcfd5dedb971b5114ea84b99af516c930208a,private UISelectOne<String> name;,1,2,0.3333333333333333,35
9b3bcfd5dedb971b5114ea84b99af516c930208a,String dataFormat = event.getNewValue() != null ? event.getNewValue().toString() : null;,1,2,0.3333333333333333,36
9b3bcfd5dedb971b5114ea84b99af516c930208a,"public Iterable<String> getCompletionProposals(UIContext context, InputComponent input, String value) {",1,2,0.3333333333333333,37
9b3bcfd5dedb971b5114ea84b99af516c930208a,private UISelectOne<LanguageDto> name;,0,2,0.3333333333333333,38
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<String> names = catalog.findDataFormatNames();,0,2,0.3333333333333333,39
9b3bcfd5dedb971b5114ea84b99af516c930208a,private UISelectOne<String> name;,1,2,0.3333333333333333,40
9b3bcfd5dedb971b5114ea84b99af516c930208a,// name -> artifactId,1,2,0.3333333333333333,41
9b3bcfd5dedb971b5114ea84b99af516c930208a,"public Iterable<String> getCompletionProposals(UIContext context, InputComponent input, String value) {",1,2,0.3333333333333333,42
9b3bcfd5dedb971b5114ea84b99af516c930208a,private UISelectOne<DataFormatDto> name;,1,2,0.3333333333333333,43
9b3bcfd5dedb971b5114ea84b99af516c930208a,Project project = getSelectedProject(context);,1,2,0.3333333333333333,44
9b3bcfd5dedb971b5114ea84b99af516c930208a,".description(""Adds a Camel dataformat to your project dependencies"");",1,2,0.3333333333333333,45
9b3bcfd5dedb971b5114ea84b99af516c930208a,Project project = getSelectedProject(builder);,1,2,0.3333333333333333,46
9b3bcfd5dedb971b5114ea84b99af516c930208a,String language = event.getNewValue() != null ? event.getNewValue().toString() : null;,1,2,0.3333333333333333,47
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.ArrayList;,1,1,0.16666666666666666,48
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.Map;,1,1,0.16666666666666666,49
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.List;,1,1,0.16666666666666666,50
9b3bcfd5dedb971b5114ea84b99af516c930208a,// install the component,1,1,0.16666666666666666,51
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.fail(""Unknown Camel language"");",1,1,0.16666666666666666,52
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.success(""Added Camel language "" + dto.getName() + "" ("" + dto.getArtifactId() + "") to the project"");",1,1,0.16666666666666666,53
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.dto.DataFormatDto;,1,1,0.16666666666666666,54
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.fail(""The project does not include camel-core"");",1,1,0.16666666666666666,55
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.addon.utils.CamelProjectHelper;,1,1,0.16666666666666666,56
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.16666666666666666,57
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.apache.camel.catalog.CamelCatalog;,1,1,0.16666666666666666,58
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.apache.camel.catalog.JSonSchemaHelper;,1,1,0.16666666666666666,59
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.projects.Project;,1,1,0.16666666666666666,60
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.16666666666666666,61
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.16666666666666666,62
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.UICompleter;,1,1,0.16666666666666666,63
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.addon.utils.CamelProjectHelper.findCamelArtifacts;,1,1,0.16666666666666666,64
9b3bcfd5dedb971b5114ea84b99af516c930208a,"name.setNote(description != null ? description : """");",1,1,0.16666666666666666,65
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createDataFormatDto;,1,1,0.16666666666666666,66
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (core == null) {,1,1,0.16666666666666666,67
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.result.Results;,1,1,0.16666666666666666,68
9b3bcfd5dedb971b5114ea84b99af516c930208a,String description = language.getDescription();,1,1,0.16666666666666666,69
9b3bcfd5dedb971b5114ea84b99af516c930208a,// show note about the chosen language,1,1,0.16666666666666666,70
9b3bcfd5dedb971b5114ea84b99af516c930208a,private final CamelCatalog camelCatalog;,1,1,0.16666666666666666,71
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.16666666666666666,72
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.16666666666666666,73
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.16666666666666666,74
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.16666666666666666,75
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.16666666666666666,76
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.ValueChangeListener;,1,1,0.16666666666666666,77
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.events.ValueChangeEvent;,1,1,0.16666666666666666,78
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.16666666666666666,79
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.16666666666666666,80
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.result.Result;,1,1,0.16666666666666666,81
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.16666666666666666,82
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.16666666666666666,83
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createLanguageDto;,1,1,0.16666666666666666,84
9b3bcfd5dedb971b5114ea84b99af516c930208a,private DependencyInstaller dependencyInstaller;,1,1,0.16666666666666666,85
9b3bcfd5dedb971b5114ea84b99af516c930208a,// use value choices instead of completer as that works better in web console,1,1,0.16666666666666666,86
9b3bcfd5dedb971b5114ea84b99af516c930208a,// include converter from string->dto,1,1,0.16666666666666666,87
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.dataFormatsFromArtifact;,1,1,0.16666666666666666,88
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.16666666666666666,89
9b3bcfd5dedb971b5114ea84b99af516c930208a,"public Iterable<DataFormatDto> getCompletionProposals(UIContext context, InputComponent input, String value) {",1,1,0.16666666666666666,90
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<LanguageDto> answer = new ArrayList<>();,1,1,0.16666666666666666,91
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.dependencies.builder.DependencyBuilder;,1,1,0.16666666666666666,92
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.UICompleter;,1,1,0.16666666666666666,93
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.addon.utils.CamelProjectHelper.findCamelArtifacts;,1,1,0.16666666666666666,94
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createLanguageDto;,1,1,0.16666666666666666,95
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.languagesFromArtifact;,1,1,0.16666666666666666,96
9b3bcfd5dedb971b5114ea84b99af516c930208a,private final CamelCatalog camelCatalog;,1,1,0.16666666666666666,97
9b3bcfd5dedb971b5114ea84b99af516c930208a,"public Iterable<LanguageDto> getCompletionProposals(UIContext context, InputComponent input, String value) {",1,1,0.16666666666666666,98
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (core == null) {,1,1,0.16666666666666666,99
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<String> names = camelCatalog.findLanguageNames();,1,1,0.16666666666666666,100
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (core == null) {,1,1,0.16666666666666666,101
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<String> filtered = new ArrayList<String>();,1,1,0.16666666666666666,102
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (String name : names) {,1,1,0.16666666666666666,103
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (value == null || name.startsWith(value)) {,1,1,0.16666666666666666,104
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (String name : filtered) {,1,1,0.16666666666666666,105
9b3bcfd5dedb971b5114ea84b99af516c930208a,String json = camelCatalog.languageJSonSchema(name);,1,1,0.16666666666666666,106
9b3bcfd5dedb971b5114ea84b99af516c930208a,String artifactId = findArtifactId(json);,1,1,0.16666666666666666,107
9b3bcfd5dedb971b5114ea84b99af516c930208a,// skip if we already have the dependency,1,1,0.16666666666666666,108
9b3bcfd5dedb971b5114ea84b99af516c930208a,// filter out existing languages we already have,1,1,0.16666666666666666,109
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.16666666666666666,110
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.projects.Project;,1,1,0.16666666666666666,111
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.16666666666666666,112
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.apache.camel.catalog.JSonSchemaHelper;,1,1,0.16666666666666666,113
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<DataFormatDto> answer = new ArrayList<>();,1,1,0.16666666666666666,114
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<String> names = camelCatalog.findDataFormatNames();,1,1,0.16666666666666666,115
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<String> filtered = new ArrayList<String>();,1,1,0.16666666666666666,116
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (String name : names) {,1,1,0.16666666666666666,117
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (value == null || name.startsWith(value)) {,1,1,0.16666666666666666,118
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (String name : filtered) {,1,1,0.16666666666666666,119
9b3bcfd5dedb971b5114ea84b99af516c930208a,String json = camelCatalog.dataFormatJSonSchema(name);,1,1,0.16666666666666666,120
9b3bcfd5dedb971b5114ea84b99af516c930208a,String artifactId = findArtifactId(json);,1,1,0.16666666666666666,121
9b3bcfd5dedb971b5114ea84b99af516c930208a,// skip if we already have the dependency,1,1,0.16666666666666666,122
9b3bcfd5dedb971b5114ea84b99af516c930208a,// filter out existing dataformats we already have,1,1,0.16666666666666666,123
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.ArrayList;,1,1,0.16666666666666666,124
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.List;,1,1,0.16666666666666666,125
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.Map;,1,1,0.16666666666666666,126
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.Set;,1,1,0.16666666666666666,127
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.addon.utils.CamelProjectHelper;,1,1,0.16666666666666666,128
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.dto.LanguageDto;,1,1,0.16666666666666666,129
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.apache.camel.catalog.CamelCatalog;,1,1,0.16666666666666666,130
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.projects.Project;,1,1,0.16666666666666666,131
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.Set;,1,1,0.16666666666666666,132
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.16666666666666666,133
9b3bcfd5dedb971b5114ea84b99af516c930208a,String description = language.getDescription();,0,1,0.16666666666666666,134
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createDataFormatDto;,0,1,0.16666666666666666,135
9b3bcfd5dedb971b5114ea84b99af516c930208a,"public Iterable<DataFormatDto> getCompletionProposals(UIContext context, InputComponent input, String value) {",0,1,0.16666666666666666,136
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<DataFormatDto> answer = new ArrayList<>();,0,1,0.16666666666666666,137
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (String name : names) {,0,1,0.16666666666666666,138
9b3bcfd5dedb971b5114ea84b99af516c930208a,String json = camelCatalog.dataFormatJSonSchema(name);,0,1,0.16666666666666666,139
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<String> answer = new ArrayList<String>();,1,1,0.16666666666666666,140
9b3bcfd5dedb971b5114ea84b99af516c930208a,public Iterable<String> getValueChoices() {,1,1,0.16666666666666666,141
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.dto.LanguageDto;,0,1,0.16666666666666666,142
9b3bcfd5dedb971b5114ea84b99af516c930208a,// install the component,0,1,0.16666666666666666,143
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.success(""Added Camel dataformat "" + name.getValue() + "" ("" + artifactId + "") to the project"");",1,1,0.16666666666666666,144
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.success(""Added Camel language "" + dto.getName() + "" ("" + dto.getArtifactId() + "") to the project"");",0,1,0.16666666666666666,145
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.fail(""Unknown Camel language"");",0,1,0.16666666666666666,146
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper;,1,1,0.16666666666666666,147
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.findLanguageArchetype;,1,1,0.16666666666666666,148
9b3bcfd5dedb971b5114ea84b99af516c930208a,String description = CamelCatalogHelper.getLanguageDescription(language);,1,1,0.16666666666666666,149
9b3bcfd5dedb971b5114ea84b99af516c930208a,String artifactId = findLanguageArchetype(name.getValue());,1,1,0.16666666666666666,150
9b3bcfd5dedb971b5114ea84b99af516c930208a,// install the component,1,1,0.16666666666666666,151
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.success(""Added Camel language "" + name.getValue() + "" ("" + artifactId + "") to the project"");",1,1,0.16666666666666666,152
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.dto.DataFormatDto;,0,1,0.16666666666666666,153
9b3bcfd5dedb971b5114ea84b99af516c930208a,// install the component,1,1,0.16666666666666666,154
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createLanguageDto;,0,1,0.16666666666666666,155
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.CamelProjectHelper.findCamelArtifacts;,0,1,0.16666666666666666,156
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.convert.Converter;,1,1,0.16666666666666666,157
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.Set;,0,1,0.16666666666666666,158
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.CamelCatalogHelper.dataFormatsFromArtifact;,0,1,0.16666666666666666,159
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.CamelProjectHelper.findCamelArtifacts;,0,1,0.16666666666666666,160
9b3bcfd5dedb971b5114ea84b99af516c930208a,// filter out existing dataformats we already have,0,1,0.16666666666666666,161
9b3bcfd5dedb971b5114ea84b99af516c930208a,return catalog.findDataFormatNames();,1,1,0.16666666666666666,162
9b3bcfd5dedb971b5114ea84b99af516c930208a,import java.util.Set;,0,1,0.16666666666666666,163
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.CamelCatalogHelper.languagesFromArtifact;,0,1,0.16666666666666666,164
9b3bcfd5dedb971b5114ea84b99af516c930208a,// filter out existing languages we already have,0,1,0.16666666666666666,165
9b3bcfd5dedb971b5114ea84b99af516c930208a,String artifactId = findDataFormatArchetype(name.getValue());,1,1,0.16666666666666666,166
9b3bcfd5dedb971b5114ea84b99af516c930208a,return catalog.findLanguageNames();,1,1,0.16666666666666666,167
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.dto.DataFormatDto;,0,1,0.16666666666666666,168
9b3bcfd5dedb971b5114ea84b99af516c930208a,String description = dataFormat.getDescription();,0,1,0.16666666666666666,169
9b3bcfd5dedb971b5114ea84b99af516c930208a,// install the component,0,1,0.16666666666666666,170
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.success(""Added Camel dataformat "" + name.getValue().getName() + "" ("" + dto.getArtifactId() + "") to the project"");",0,1,0.16666666666666666,171
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.fail(""Unknown Camel dataformat"");",0,1,0.16666666666666666,172
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper;,1,1,0.16666666666666666,173
9b3bcfd5dedb971b5114ea84b99af516c930208a,String description = CamelCatalogHelper.getDataFormatDescription(dataFormat);,1,1,0.16666666666666666,174
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.dto.LanguageDto;,0,1,0.16666666666666666,175
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.findDataFormatArchetype;,1,1,0.16666666666666666,176
9b3bcfd5dedb971b5114ea84b99af516c930208a,"public Iterable<LanguageDto> getCompletionProposals(UIContext context, InputComponent input, String value) {",0,1,0.16666666666666666,177
9b3bcfd5dedb971b5114ea84b99af516c930208a,"name.setNote(description != null ? description : """");",1,1,0.16666666666666666,178
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.result.Results;,1,1,0.16666666666666666,179
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.16666666666666666,180
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.16666666666666666,181
9b3bcfd5dedb971b5114ea84b99af516c930208a,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createDataFormatDto;,1,1,0.16666666666666666,182
9b3bcfd5dedb971b5114ea84b99af516c930208a,private DependencyInstaller dependencyInstaller;,1,1,0.16666666666666666,183
9b3bcfd5dedb971b5114ea84b99af516c930208a,// use value choices instead of completer as that works better in web console,1,1,0.16666666666666666,184
9b3bcfd5dedb971b5114ea84b99af516c930208a,// include converter from string->dto,1,1,0.16666666666666666,185
9b3bcfd5dedb971b5114ea84b99af516c930208a,// show note about the chosen data format,1,1,0.16666666666666666,186
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (core == null) {,1,1,0.16666666666666666,187
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.16666666666666666,188
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.fail(""The project does not include camel-core"");",1,1,0.16666666666666666,189
9b3bcfd5dedb971b5114ea84b99af516c930208a,// install the component,1,1,0.16666666666666666,190
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.success(""Added Camel dataformat "" + dto.getName() + "" ("" + dto.getArtifactId() + "") to the project"");",1,1,0.16666666666666666,191
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.fail(""Unknown Camel dataformat"");",1,1,0.16666666666666666,192
9b3bcfd5dedb971b5114ea84b99af516c930208a,import javax.inject.Inject;,1,1,0.16666666666666666,193
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.completer.CamelLanguagesCompleter;,1,1,0.16666666666666666,194
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<LanguageDto> answer = new ArrayList<>();,0,1,0.16666666666666666,195
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.dto.LanguageDto;,1,1,0.16666666666666666,196
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.result.Result;,1,1,0.16666666666666666,197
9b3bcfd5dedb971b5114ea84b99af516c930208a,String description = dataFormat.getDescription();,1,1,0.16666666666666666,198
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.16666666666666666,199
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.dependencies.builder.DependencyBuilder;,1,1,0.16666666666666666,200
9b3bcfd5dedb971b5114ea84b99af516c930208a,String json = camelCatalog.languageJSonSchema(name);,0,1,0.16666666666666666,201
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.events.ValueChangeEvent;,1,1,0.16666666666666666,202
9b3bcfd5dedb971b5114ea84b99af516c930208a,List<String> answer = new ArrayList<String>();,1,1,0.16666666666666666,203
9b3bcfd5dedb971b5114ea84b99af516c930208a,public Iterable<String> getValueChoices() {,1,1,0.16666666666666666,204
9b3bcfd5dedb971b5114ea84b99af516c930208a,import javax.inject.Inject;,1,1,0.16666666666666666,205
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.completer.CamelDataFormatsCompleter;,1,1,0.16666666666666666,206
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.convert.Converter;,1,1,0.16666666666666666,207
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.16666666666666666,208
9b3bcfd5dedb971b5114ea84b99af516c930208a,import io.fabric8.forge.camel.commands.project.dto.DataFormatDto;,1,1,0.16666666666666666,209
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (String name : names) {,0,1,0.16666666666666666,210
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.16666666666666666,211
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.16666666666666666,212
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.16666666666666666,213
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.16666666666666666,214
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.16666666666666666,215
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.projects.Project;,1,1,0.16666666666666666,216
9b3bcfd5dedb971b5114ea84b99af516c930208a,import org.jboss.forge.addon.ui.input.ValueChangeListener;,1,1,0.16666666666666666,217
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,218
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,219
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,220
9b3bcfd5dedb971b5114ea84b99af516c930208a,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,221
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  with the License.  You may obtain a copy of the License at,1,0,0.0,222
9b3bcfd5dedb971b5114ea84b99af516c930208a,/**,1,0,0.0,223
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,224
9b3bcfd5dedb971b5114ea84b99af516c930208a,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,1,0,0.0,225
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,226
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,227
9b3bcfd5dedb971b5114ea84b99af516c930208a,"dependencyInstaller.install(project, component);",1,0,0.0,228
9b3bcfd5dedb971b5114ea84b99af516c930208a,*,1,0,0.0,229
9b3bcfd5dedb971b5114ea84b99af516c930208a,this.camelCatalog = camelCatalog;,1,0,0.0,230
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  implied.  See the License for the specific language governing,1,0,0.0,231
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  permissions and limitations under the License.,1,0,0.0,232
9b3bcfd5dedb971b5114ea84b99af516c930208a,*/,1,0,0.0,233
9b3bcfd5dedb971b5114ea84b99af516c930208a,package io.fabric8.forge.camel.commands.project.completer;,1,0,0.0,234
9b3bcfd5dedb971b5114ea84b99af516c930208a,public class CamelDataFormatsCompleter implements UICompleter<DataFormatDto> {,1,0,0.0,235
9b3bcfd5dedb971b5114ea84b99af516c930208a,"public CamelDataFormatsCompleter(Project project, CamelCatalog camelCatalog) {",1,0,0.0,236
9b3bcfd5dedb971b5114ea84b99af516c930208a,this.project = project;,1,0,0.0,237
9b3bcfd5dedb971b5114ea84b99af516c930208a,},1,0,0.0,238
9b3bcfd5dedb971b5114ea84b99af516c930208a,@Override,1,0,0.0,239
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (dto != null) {,1,0,0.0,240
9b3bcfd5dedb971b5114ea84b99af516c930208a,filtered.add(name);,1,0,0.0,241
9b3bcfd5dedb971b5114ea84b99af516c930208a,return null;,1,0,0.0,242
9b3bcfd5dedb971b5114ea84b99af516c930208a,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),1,0,0.0,243
9b3bcfd5dedb971b5114ea84b99af516c930208a,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,244
9b3bcfd5dedb971b5114ea84b99af516c930208a,LanguageDto dto = name.getValue();,1,0,0.0,245
9b3bcfd5dedb971b5114ea84b99af516c930208a,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,246
9b3bcfd5dedb971b5114ea84b99af516c930208a,*/,1,0,0.0,247
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (artifactId != null) {,1,0,0.0,248
9b3bcfd5dedb971b5114ea84b99af516c930208a,package io.fabric8.forge.camel.commands.project;,1,0,0.0,249
9b3bcfd5dedb971b5114ea84b99af516c930208a,public class CamelAddLanguageCommand extends AbstractCamelProjectCommand {,1,0,0.0,250
9b3bcfd5dedb971b5114ea84b99af516c930208a,@Inject,1,0,0.0,251
9b3bcfd5dedb971b5114ea84b99af516c930208a,"@WithAttributes(label = ""Name"", required = true, description = ""Name of language to add"")",1,0,0.0,252
9b3bcfd5dedb971b5114ea84b99af516c930208a,@Override,1,0,0.0,253
9b3bcfd5dedb971b5114ea84b99af516c930208a,return Metadata.forCommand(CamelAddLanguageCommand.class).name(,1,0,0.0,254
9b3bcfd5dedb971b5114ea84b99af516c930208a,"""Camel: Add Language"").category(Categories.create(CATEGORY))",1,0,0.0,255
9b3bcfd5dedb971b5114ea84b99af516c930208a,},1,0,0.0,256
9b3bcfd5dedb971b5114ea84b99af516c930208a,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,257
9b3bcfd5dedb971b5114ea84b99af516c930208a,"name.setValueChoices(new CamelLanguagesCompleter(project, getCamelCatalog()).getValueChoices());",1,0,0.0,258
9b3bcfd5dedb971b5114ea84b99af516c930208a,"name.setValueConverter(new Converter<String, LanguageDto>() {",1,0,0.0,259
9b3bcfd5dedb971b5114ea84b99af516c930208a,public LanguageDto convert(String text) {,1,0,0.0,260
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return createLanguageDto(getCamelCatalog(), text);",1,0,0.0,261
9b3bcfd5dedb971b5114ea84b99af516c930208a,});,1,0,0.0,262
9b3bcfd5dedb971b5114ea84b99af516c930208a,name.addValueChangeListener(new ValueChangeListener() {,1,0,0.0,263
9b3bcfd5dedb971b5114ea84b99af516c930208a,public void valueChanged(ValueChangeEvent event) {,1,0,0.0,264
9b3bcfd5dedb971b5114ea84b99af516c930208a,LanguageDto language = (LanguageDto) event.getNewValue();,1,0,0.0,265
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (language != null) {,1,0,0.0,266
9b3bcfd5dedb971b5114ea84b99af516c930208a,} else {,1,0,0.0,267
9b3bcfd5dedb971b5114ea84b99af516c930208a,"name.setNote("""");",1,0,0.0,268
9b3bcfd5dedb971b5114ea84b99af516c930208a,builder.add(name);,1,0,0.0,269
9b3bcfd5dedb971b5114ea84b99af516c930208a,boolean already = false;,1,0,0.0,270
9b3bcfd5dedb971b5114ea84b99af516c930208a,answer.add(dto);,1,0,0.0,271
9b3bcfd5dedb971b5114ea84b99af516c930208a,"already = CamelProjectHelper.hasDependency(project, ""org.apache.camel"", artifactId);",1,0,0.0,272
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (!already) {,1,0,0.0,273
9b3bcfd5dedb971b5114ea84b99af516c930208a,public class CamelLanguagesCompleter implements UICompleter<LanguageDto> {,1,0,0.0,274
9b3bcfd5dedb971b5114ea84b99af516c930208a,"public CamelLanguagesCompleter(Project project, CamelCatalog camelCatalog) {",1,0,0.0,275
9b3bcfd5dedb971b5114ea84b99af516c930208a,this.project = project;,1,0,0.0,276
9b3bcfd5dedb971b5114ea84b99af516c930208a,this.camelCatalog = camelCatalog;,1,0,0.0,277
9b3bcfd5dedb971b5114ea84b99af516c930208a,},1,0,0.0,278
9b3bcfd5dedb971b5114ea84b99af516c930208a,@Override,1,0,0.0,279
9b3bcfd5dedb971b5114ea84b99af516c930208a,return null;,1,0,0.0,280
9b3bcfd5dedb971b5114ea84b99af516c930208a,filtered.add(name);,1,0,0.0,281
9b3bcfd5dedb971b5114ea84b99af516c930208a,boolean already = false;,1,0,0.0,282
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (artifactId != null) {,1,0,0.0,283
9b3bcfd5dedb971b5114ea84b99af516c930208a,"already = CamelProjectHelper.hasDependency(project, ""org.apache.camel"", artifactId);",1,0,0.0,284
9b3bcfd5dedb971b5114ea84b99af516c930208a,"LanguageDto dto = createLanguageDto(camelCatalog, json);",1,0,0.0,285
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (!already) {,1,0,0.0,286
9b3bcfd5dedb971b5114ea84b99af516c930208a,return answer;,1,0,0.0,287
9b3bcfd5dedb971b5114ea84b99af516c930208a,public Iterable<LanguageDto> getValueChoices() {,1,0,0.0,288
9b3bcfd5dedb971b5114ea84b99af516c930208a,Set<Dependency> artifacts = findCamelArtifacts(project);,1,0,0.0,289
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (Dependency dep : artifacts) {,1,0,0.0,290
9b3bcfd5dedb971b5114ea84b99af516c930208a,"Set<String> languages = languagesFromArtifact(camelCatalog, dep.getCoordinate().getArtifactId());",1,0,0.0,291
9b3bcfd5dedb971b5114ea84b99af516c930208a,names.removeAll(languages);,1,0,0.0,292
9b3bcfd5dedb971b5114ea84b99af516c930208a,"LanguageDto dto = createLanguageDto(camelCatalog, name);",1,0,0.0,293
9b3bcfd5dedb971b5114ea84b99af516c930208a,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""language"", json, false);",1,0,0.0,294
9b3bcfd5dedb971b5114ea84b99af516c930208a,"for (Map<String, String> row : data) {",1,0,0.0,295
9b3bcfd5dedb971b5114ea84b99af516c930208a,"if (row.get(""artifactId"") != null) {",1,0,0.0,296
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  implied.  See the License for the specific language governing,1,0,0.0,297
9b3bcfd5dedb971b5114ea84b99af516c930208a,package io.fabric8.forge.camel.commands.project.completer;,1,0,0.0,298
9b3bcfd5dedb971b5114ea84b99af516c930208a,*/,1,0,0.0,299
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  permissions and limitations under the License.,1,0,0.0,300
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  implied.  See the License for the specific language governing,1,0,0.0,301
9b3bcfd5dedb971b5114ea84b99af516c930208a,"DataFormatDto dto = createDataFormatDto(camelCatalog, json);",1,0,0.0,302
9b3bcfd5dedb971b5114ea84b99af516c930208a,answer.add(dto);,1,0,0.0,303
9b3bcfd5dedb971b5114ea84b99af516c930208a,return answer;,1,0,0.0,304
9b3bcfd5dedb971b5114ea84b99af516c930208a,public Iterable<DataFormatDto> getValueChoices() {,1,0,0.0,305
9b3bcfd5dedb971b5114ea84b99af516c930208a,Set<Dependency> artifacts = findCamelArtifacts(project);,1,0,0.0,306
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (Dependency dep : artifacts) {,1,0,0.0,307
9b3bcfd5dedb971b5114ea84b99af516c930208a,"Set<String> languages = dataFormatsFromArtifact(camelCatalog, dep.getCoordinate().getArtifactId());",1,0,0.0,308
9b3bcfd5dedb971b5114ea84b99af516c930208a,names.removeAll(languages);,1,0,0.0,309
9b3bcfd5dedb971b5114ea84b99af516c930208a,"DataFormatDto dto = createDataFormatDto(camelCatalog, name);",1,0,0.0,310
9b3bcfd5dedb971b5114ea84b99af516c930208a,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""dataformat"", json, false);",1,0,0.0,311
9b3bcfd5dedb971b5114ea84b99af516c930208a,"for (Map<String, String> row : data) {",1,0,0.0,312
9b3bcfd5dedb971b5114ea84b99af516c930208a,"if (row.get(""artifactId"") != null) {",1,0,0.0,313
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return row.get(""artifactId"");",1,0,0.0,314
9b3bcfd5dedb971b5114ea84b99af516c930208a,/**,1,0,0.0,315
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,316
9b3bcfd5dedb971b5114ea84b99af516c930208a,*,1,0,0.0,317
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,318
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,319
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  with the License.  You may obtain a copy of the License at,1,0,0.0,320
9b3bcfd5dedb971b5114ea84b99af516c930208a,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,321
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,322
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,323
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,324
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  permissions and limitations under the License.,1,0,0.0,325
9b3bcfd5dedb971b5114ea84b99af516c930208a,Set<Dependency> artifacts = findCamelArtifacts(project);,0,0,0.0,326
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,327
9b3bcfd5dedb971b5114ea84b99af516c930208a,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,0,0,0.0,328
9b3bcfd5dedb971b5114ea84b99af516c930208a,answer.add(dto);,0,0,0.0,329
9b3bcfd5dedb971b5114ea84b99af516c930208a,public Iterable<DataFormatDto> getValueChoices() {,0,0,0.0,330
9b3bcfd5dedb971b5114ea84b99af516c930208a,},0,0,0.0,331
9b3bcfd5dedb971b5114ea84b99af516c930208a,return answer;,0,0,0.0,332
9b3bcfd5dedb971b5114ea84b99af516c930208a,public class CamelDataFormatsCompleter implements UICompleter<String> {,1,0,0.0,333
9b3bcfd5dedb971b5114ea84b99af516c930208a,answer.add(name);,1,0,0.0,334
9b3bcfd5dedb971b5114ea84b99af516c930208a,return names;,1,0,0.0,335
9b3bcfd5dedb971b5114ea84b99af516c930208a,LanguageDto language = (LanguageDto) event.getNewValue();,0,0,0.0,336
9b3bcfd5dedb971b5114ea84b99af516c930208a,LanguageDto dto = name.getValue();,0,0,0.0,337
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (dto != null) {,0,0,0.0,338
9b3bcfd5dedb971b5114ea84b99af516c930208a,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),0,0,0.0,339
9b3bcfd5dedb971b5114ea84b99af516c930208a,"dependencyInstaller.install(project, component);",0,0,0.0,340
9b3bcfd5dedb971b5114ea84b99af516c930208a,},0,0,0.0,341
9b3bcfd5dedb971b5114ea84b99af516c930208a,} else {,0,0,0.0,342
9b3bcfd5dedb971b5114ea84b99af516c930208a,},0,0,0.0,343
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (artifactId == null) {,1,0,0.0,344
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.fail(""Camel language "" + name.getValue() + "" is unknown."");",1,0,0.0,345
9b3bcfd5dedb971b5114ea84b99af516c930208a,},1,0,0.0,346
9b3bcfd5dedb971b5114ea84b99af516c930208a,"DependencyBuilder component = DependencyBuilder.create().setGroupId(""org.apache.camel"")",1,0,0.0,347
9b3bcfd5dedb971b5114ea84b99af516c930208a,.setArtifactId(artifactId).setVersion(core.getCoordinate().getVersion());,1,0,0.0,348
9b3bcfd5dedb971b5114ea84b99af516c930208a,"dependencyInstaller.install(project, component);",1,0,0.0,349
9b3bcfd5dedb971b5114ea84b99af516c930208a,public class CamelLanguagesCompleter implements UICompleter<LanguageDto> {,0,0,0.0,350
9b3bcfd5dedb971b5114ea84b99af516c930208a,"LanguageDto dto = createLanguageDto(camelCatalog, json);",0,0,0.0,351
9b3bcfd5dedb971b5114ea84b99af516c930208a,answer.add(dto);,0,0,0.0,352
9b3bcfd5dedb971b5114ea84b99af516c930208a,"DataFormatDto dto = createDataFormatDto(camelCatalog, json);",0,0,0.0,353
9b3bcfd5dedb971b5114ea84b99af516c930208a,public class CamelDataFormatsCompleter implements UICompleter<DataFormatDto> {,0,0,0.0,354
9b3bcfd5dedb971b5114ea84b99af516c930208a,"dependencyInstaller.install(project, component);",1,0,0.0,355
9b3bcfd5dedb971b5114ea84b99af516c930208a,.setArtifactId(artifactId).setVersion(core.getCoordinate().getVersion());,1,0,0.0,356
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (Dependency dep : artifacts) {,0,0,0.0,357
9b3bcfd5dedb971b5114ea84b99af516c930208a,Set<String> languages = dataFormatsFromArtifact(dep.getCoordinate().getArtifactId());,0,0,0.0,358
9b3bcfd5dedb971b5114ea84b99af516c930208a,names.removeAll(languages);,0,0,0.0,359
9b3bcfd5dedb971b5114ea84b99af516c930208a,},0,0,0.0,360
9b3bcfd5dedb971b5114ea84b99af516c930208a,return names;,0,0,0.0,361
9b3bcfd5dedb971b5114ea84b99af516c930208a,Set<Dependency> artifacts = findCamelArtifacts(project);,0,0,0.0,362
9b3bcfd5dedb971b5114ea84b99af516c930208a,for (Dependency dep : artifacts) {,0,0,0.0,363
9b3bcfd5dedb971b5114ea84b99af516c930208a,Set<String> languages = languagesFromArtifact(dep.getCoordinate().getArtifactId());,0,0,0.0,364
9b3bcfd5dedb971b5114ea84b99af516c930208a,names.removeAll(languages);,0,0,0.0,365
9b3bcfd5dedb971b5114ea84b99af516c930208a,},0,0,0.0,366
9b3bcfd5dedb971b5114ea84b99af516c930208a,return names;,0,0,0.0,367
9b3bcfd5dedb971b5114ea84b99af516c930208a,DataFormatDto dataFormat = (DataFormatDto) event.getNewValue();,0,0,0.0,368
9b3bcfd5dedb971b5114ea84b99af516c930208a,DataFormatDto dto = name.getValue();,0,0,0.0,369
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (dto != null) {,0,0,0.0,370
9b3bcfd5dedb971b5114ea84b99af516c930208a,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),0,0,0.0,371
9b3bcfd5dedb971b5114ea84b99af516c930208a,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,0,0,0.0,372
9b3bcfd5dedb971b5114ea84b99af516c930208a,"dependencyInstaller.install(project, component);",0,0,0.0,373
9b3bcfd5dedb971b5114ea84b99af516c930208a,} else {,0,0,0.0,374
9b3bcfd5dedb971b5114ea84b99af516c930208a,},0,0,0.0,375
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (artifactId == null) {,1,0,0.0,376
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return Results.fail(""Camel dataformat "" + name.getValue() + "" is unknown."");",1,0,0.0,377
9b3bcfd5dedb971b5114ea84b99af516c930208a,},1,0,0.0,378
9b3bcfd5dedb971b5114ea84b99af516c930208a,"DependencyBuilder component = DependencyBuilder.create().setGroupId(""org.apache.camel"")",1,0,0.0,379
9b3bcfd5dedb971b5114ea84b99af516c930208a,public Iterable<LanguageDto> getValueChoices() {,0,0,0.0,380
9b3bcfd5dedb971b5114ea84b99af516c930208a,return answer;,0,0,0.0,381
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,382
9b3bcfd5dedb971b5114ea84b99af516c930208a,DataFormatDto dto = name.getValue();,1,0,0.0,383
9b3bcfd5dedb971b5114ea84b99af516c930208a,public DataFormatDto convert(String text) {,1,0,0.0,384
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return createDataFormatDto(getCamelCatalog(), text);",1,0,0.0,385
9b3bcfd5dedb971b5114ea84b99af516c930208a,});,1,0,0.0,386
9b3bcfd5dedb971b5114ea84b99af516c930208a,name.addValueChangeListener(new ValueChangeListener() {,1,0,0.0,387
9b3bcfd5dedb971b5114ea84b99af516c930208a,public void valueChanged(ValueChangeEvent event) {,1,0,0.0,388
9b3bcfd5dedb971b5114ea84b99af516c930208a,DataFormatDto dataFormat = (DataFormatDto) event.getNewValue();,1,0,0.0,389
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (dataFormat != null) {,1,0,0.0,390
9b3bcfd5dedb971b5114ea84b99af516c930208a,} else {,1,0,0.0,391
9b3bcfd5dedb971b5114ea84b99af516c930208a,"name.setNote("""");",1,0,0.0,392
9b3bcfd5dedb971b5114ea84b99af516c930208a,builder.add(name);,1,0,0.0,393
9b3bcfd5dedb971b5114ea84b99af516c930208a,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,394
9b3bcfd5dedb971b5114ea84b99af516c930208a,if (dto != null) {,1,0,0.0,395
9b3bcfd5dedb971b5114ea84b99af516c930208a,public class CamelLanguagesCompleter implements UICompleter<String> {,1,0,0.0,396
9b3bcfd5dedb971b5114ea84b99af516c930208a,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),1,0,0.0,397
9b3bcfd5dedb971b5114ea84b99af516c930208a,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,1,0,0.0,398
9b3bcfd5dedb971b5114ea84b99af516c930208a,"dependencyInstaller.install(project, component);",1,0,0.0,399
9b3bcfd5dedb971b5114ea84b99af516c930208a,/**,1,0,0.0,400
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,401
9b3bcfd5dedb971b5114ea84b99af516c930208a,*,1,0,0.0,402
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,403
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,404
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  with the License.  You may obtain a copy of the License at,1,0,0.0,405
9b3bcfd5dedb971b5114ea84b99af516c930208a,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,406
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,407
9b3bcfd5dedb971b5114ea84b99af516c930208a,"name.setValueConverter(new Converter<String, DataFormatDto>() {",1,0,0.0,408
9b3bcfd5dedb971b5114ea84b99af516c930208a,"name.setValueChoices(new CamelDataFormatsCompleter(project, getCamelCatalog()).getValueChoices());",1,0,0.0,409
9b3bcfd5dedb971b5114ea84b99af516c930208a,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,410
9b3bcfd5dedb971b5114ea84b99af516c930208a,},1,0,0.0,411
9b3bcfd5dedb971b5114ea84b99af516c930208a,answer.add(name);,1,0,0.0,412
9b3bcfd5dedb971b5114ea84b99af516c930208a,return names;,1,0,0.0,413
9b3bcfd5dedb971b5114ea84b99af516c930208a,/**,1,0,0.0,414
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,415
9b3bcfd5dedb971b5114ea84b99af516c930208a,*,1,0,0.0,416
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,417
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,418
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  with the License.  You may obtain a copy of the License at,1,0,0.0,419
9b3bcfd5dedb971b5114ea84b99af516c930208a,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,420
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,421
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,422
9b3bcfd5dedb971b5114ea84b99af516c930208a,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,423
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  implied.  See the License for the specific language governing,1,0,0.0,424
9b3bcfd5dedb971b5114ea84b99af516c930208a,*  permissions and limitations under the License.,1,0,0.0,425
9b3bcfd5dedb971b5114ea84b99af516c930208a,*/,1,0,0.0,426
9b3bcfd5dedb971b5114ea84b99af516c930208a,package io.fabric8.forge.camel.commands.project;,1,0,0.0,427
9b3bcfd5dedb971b5114ea84b99af516c930208a,public class CamelAddDataFormatCommand extends AbstractCamelProjectCommand {,1,0,0.0,428
9b3bcfd5dedb971b5114ea84b99af516c930208a,@Inject,1,0,0.0,429
9b3bcfd5dedb971b5114ea84b99af516c930208a,"@WithAttributes(label = ""Name"", required = true, description = ""Name of dataformat to add"")",1,0,0.0,430
9b3bcfd5dedb971b5114ea84b99af516c930208a,@Override,1,0,0.0,431
9b3bcfd5dedb971b5114ea84b99af516c930208a,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,432
9b3bcfd5dedb971b5114ea84b99af516c930208a,return Metadata.forCommand(CamelAddDataFormatCommand.class).name(,1,0,0.0,433
9b3bcfd5dedb971b5114ea84b99af516c930208a,"""Camel: Add DataFormat"").category(Categories.create(CATEGORY))",1,0,0.0,434
9b3bcfd5dedb971b5114ea84b99af516c930208a,"return row.get(""artifactId"");",1,0,0.0,435

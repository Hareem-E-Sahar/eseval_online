commit_id,line,line_level_label,count,line_score,row
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (resultFile != null && originalFileFromHeader == null && payload instanceof File) {,0,10,1.0,1
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (state != null && ((isString && state.stream != null) || (!isString && state.writer != null))) {,1,9,0.9,2
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (originalFileFromHeader == null && payload instanceof File) {,1,7,0.7000000000000001,3
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (this.deleteSourceFiles && originalFile != null && !originalFile.delete()) {,0,6,0.6000000000000001,4
6da3307943ddf8c41f30f95473cfee4f22bdbe14,&& ((isString && state.stream != null) || (!isString && state.writer != null))) {,0,6,0.6000000000000001,5
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (state == null || FileWritingMessageHandler.this.flushTask == null) {,0,5,0.5,6
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (state == null || this.flushTask == null) {,0,5,0.5,7
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (state == null || FileWritingMessageHandler.this.flushTask == null) {,1,5,0.5,8
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else if (payload instanceof InputStream) {,1,4,0.4,9
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (this.deleteSourceFiles && originalFile != null) {,1,4,0.4,10
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else if (payload instanceof String) {,1,4,0.4,11
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else if (payload instanceof byte[]) {,1,4,0.4,12
6da3307943ddf8c41f30f95473cfee4f22bdbe14,* representing the bits that were set in the chmod value.,1,4,0.4,13
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else if (payload instanceof String) {,0,4,0.4,14
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else if (payload instanceof byte[]) {,0,4,0.4,15
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else if (payload instanceof InputStream) {,0,4,0.4,16
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (state != null // NOSONAR,0,3,0.30000000000000004,17
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (writer != null) {,1,3,0.30000000000000004,18
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (bos != null) {,1,3,0.30000000000000004,19
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (resultFile != null) {,1,3,0.30000000000000004,20
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (timestamp instanceof Number) {,1,3,0.30000000000000004,21
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (payload instanceof File) {,1,3,0.30000000000000004,22
6da3307943ddf8c41f30f95473cfee4f22bdbe14,* We use that stream with a switch to create the set of PosixFilePermissions,1,3,0.30000000000000004,23
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"throw new IllegalStateException(""Could not delete original file: "" + originalFile);",0,3,0.30000000000000004,24
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (bos != null) {,0,3,0.30000000000000004,25
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else if (this.logger.isWarnEnabled()) {,0,3,0.30000000000000004,26
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (timestamp instanceof Number) {,0,3,0.30000000000000004,27
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (payload instanceof File) {,0,3,0.30000000000000004,28
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"private File writeMessageToFile(Message<?> requestMessage, File originalFileFromHeader, File tempFile,",0,3,0.30000000000000004,29
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (writer != null) {,0,3,0.30000000000000004,30
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"private void writeStringToFile(File fileToWriteTo, boolean append, String content) throws IOException {",0,2,0.2,31
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (this.preserveTimestamp) {,1,2,0.2,32
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"* Since we are interested in 9 bits, we construct an array with the low-order byte",1,2,0.2,33
6da3307943ddf8c41f30f95473cfee4f22bdbe14,* (bits 0-7) followed by the second order byte (bit 8).,1,2,0.2,34
6da3307943ddf8c41f30f95473cfee4f22bdbe14,while (n++ < 10 && this.fileStates.size() > 0) {,1,2,0.2,35
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else {,1,2,0.2,36
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"""unsupported Message payload type ["" + payload.getClass().getName() + ""]"");",1,2,0.2,37
6da3307943ddf8c41f30f95473cfee4f22bdbe14,while ((bytesRead = sourceFileInputStream.read(buffer)) != -1) {,1,2,0.2,38
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (this.logger.isWarnEnabled()) {,1,2,0.2,39
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"+ "" must be a Number, not "" + (timestamp == null ? ""null"" : timestamp.getClass()));",1,2,0.2,40
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"bos = state != null ? state.stream : createOutputStream(fileToWriteTo, true);",1,2,0.2,41
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (FileWritingMessageHandler.this.appendNewLine) {,1,2,0.2,42
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"bos = state != null ? state.stream : createOutputStream(fileToWriteTo, append);",1,2,0.2,43
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"writer = state != null ? state.writer : createWriter(fileToWriteTo, append);",1,2,0.2,44
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"writer = state != null ? state.writer : createWriter(fileToWriteTo, append);",0,2,0.2,45
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"bos = state != null ? state.stream : createOutputStream(fileToWriteTo, true);",0,2,0.2,46
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (this.appendNewLine) {,0,2,0.2,47
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (!fileToReturn.setLastModified(((Number) timestamp).longValue())) {,0,2,0.2,48
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"bos = state != null ? state.stream : createOutputStream(fileToWriteTo, append);",0,2,0.2,49
6da3307943ddf8c41f30f95473cfee4f22bdbe14,* @param taskScheduler the {@link TaskScheduler} to use.,0,2,0.2,50
6da3307943ddf8c41f30f95473cfee4f22bdbe14,while (n++ < 10 && this.fileStates.size() > 0) { // NOSONAR,0,2,0.2,51
6da3307943ddf8c41f30f95473cfee4f22bdbe14,else {,0,2,0.2,52
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"""Unsupported Message payload type ["" + payload.getClass().getName() + ""]"");",0,2,0.2,53
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (this.preserveTimestamp) {,0,2,0.2,54
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"File resultFile, Object timestamp) throws IOException {",0,2,0.2,55
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"throw new IllegalStateException(""Could not set last modified '"" + timestamp",0,2,0.2,56
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"+ "" must be a Number, not "" + (timestamp == null ? ""null"" : timestamp.getClass()));",0,2,0.2,57
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"new BufferedOutputStream(new FileOutputStream(tempFile), this.bufferSize)) {",0,2,0.2,58
6da3307943ddf8c41f30f95473cfee4f22bdbe14,while ((bytesRead = inputStream.read(buffer)) != -1) {,0,2,0.2,59
6da3307943ddf8c41f30f95473cfee4f22bdbe14,if (FileWritingMessageHandler.this.appendNewLine) {,0,2,0.2,60
6da3307943ddf8c41f30f95473cfee4f22bdbe14,},1,1,0.1,61
6da3307943ddf8c41f30f95473cfee4f22bdbe14,import org.apache.commons.logging.LogFactory;,1,1,0.1,62
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"private final Map<String, FileState> fileStates = new HashMap<String, FileState>();",1,1,0.1,63
6da3307943ddf8c41f30f95473cfee4f22bdbe14,public void setTaskScheduler(TaskScheduler taskScheduler) {,1,1,0.1,64
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"Assert.isTrue(chmod >= 0 && chmod <= 0777, ""'chmod' must be between 0 and 0777 (octal)"");",1,1,0.1,65
6da3307943ddf8c41f30f95473cfee4f22bdbe14,* Bitset.valueOf(byte[]) takes a little-endian array of bytes to create a BitSet.,1,1,0.1,66
6da3307943ddf8c41f30f95473cfee4f22bdbe14,* BitSet.stream() returns a stream of ints representing those bits that are set.,1,1,0.1,67
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"BitSet bits = BitSet.valueOf(new byte[] { (byte) chmod, (byte) (chmod >> 8) });",1,1,0.1,68
6da3307943ddf8c41f30f95473cfee4f22bdbe14,final Set<PosixFilePermission> posixPermissions = new HashSet<>();,1,1,0.1,69
6da3307943ddf8c41f30f95473cfee4f22bdbe14,bits.stream().forEach(b -> {,1,1,0.1,70
6da3307943ddf8c41f30f95473cfee4f22bdbe14,switch (b) {,1,1,0.1,71
6da3307943ddf8c41f30f95473cfee4f22bdbe14,byte[] buffer = new byte[StreamUtils.BUFFER_SIZE];,1,1,0.1,72
6da3307943ddf8c41f30f95473cfee4f22bdbe14,@Override,1,1,0.1,73
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"Assert.notNull(payload, ""message payload must not be null"");",1,1,0.1,74
6da3307943ddf8c41f30f95473cfee4f22bdbe14,final File destinationDirectoryToUse = evaluateDestinationDirectoryExpression(requestMessage);,1,1,0.1,75
6da3307943ddf8c41f30f95473cfee4f22bdbe14,throw new IllegalArgumentException(,1,1,0.1,76
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"this.logger.warn(""Could not set lastModified, header "" + FileHeaders.SET_MODIFIED",1,1,0.1,77
6da3307943ddf8c41f30f95473cfee4f22bdbe14,try {,1,1,0.1,78
6da3307943ddf8c41f30f95473cfee4f22bdbe14,finally {,1,1,0.1,79
6da3307943ddf8c41f30f95473cfee4f22bdbe14,catch (IOException ex) {,1,1,0.1,80
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"bos = new BufferedOutputStream(new FileOutputStream(tempFile), this.bufferSize);",1,1,0.1,81
6da3307943ddf8c41f30f95473cfee4f22bdbe14,import java.util.HashSet;,1,1,0.1,82
6da3307943ddf8c41f30f95473cfee4f22bdbe14,import org.apache.commons.logging.Log;,1,1,0.1,83
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"private void writeBytesToFile(File fileToWriteTo, boolean append, byte[] bytes) throws IOException {",0,1,0.1,84
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"private final Map<String, FileState> fileStates = new HashMap<>();",0,1,0.1,85
6da3307943ddf8c41f30f95473cfee4f22bdbe14,File destinationDirectoryToUse = evaluateDestinationDirectoryExpression(requestMessage);,0,1,0.1,86
6da3307943ddf8c41f30f95473cfee4f22bdbe14,catch (IOException ex) {,0,1,0.1,87
6da3307943ddf8c41f30f95473cfee4f22bdbe14,import java.util.stream.Collectors;,0,1,0.1,88
6da3307943ddf8c41f30f95473cfee4f22bdbe14,private static final PosixFilePermission[] POSIX_FILE_PERMISSIONS =,0,1,0.1,89
6da3307943ddf8c41f30f95473cfee4f22bdbe14,{,0,1,0.1,90
6da3307943ddf8c41f30f95473cfee4f22bdbe14,* Configure a {@link TaskScheduler} for flush operations.,0,1,0.1,91
6da3307943ddf8c41f30f95473cfee4f22bdbe14,public void setTaskScheduler(TaskScheduler taskScheduler) { // NOSONAR,0,1,0.1,92
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"Assert.isTrue(chmod >= 0 && chmod <= 0777, // NOSONAR permissions octal",0,1,0.1,93
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"BitSet bits = BitSet.valueOf(new byte[] { (byte) chmod, (byte) (chmod >> 8) }); // NOSONAR",0,1,0.1,94
6da3307943ddf8c41f30f95473cfee4f22bdbe14,import java.io.OutputStream;,0,1,0.1,95
6da3307943ddf8c41f30f95473cfee4f22bdbe14,@Override // NOSONAR,0,1,0.1,96
6da3307943ddf8c41f30f95473cfee4f22bdbe14,File fileToReturn = null;,0,1,0.1,97
6da3307943ddf8c41f30f95473cfee4f22bdbe14,Object payload = requestMessage.getPayload();,0,1,0.1,98
6da3307943ddf8c41f30f95473cfee4f22bdbe14,},0,1,0.1,99
6da3307943ddf8c41f30f95473cfee4f22bdbe14,throw new IllegalArgumentException(,0,1,0.1,100
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"this.logger.warn(""Could not set lastModified, header "" + FileHeaders.SET_MODIFIED",0,1,0.1,101
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"private void appendStreamToFile(File fileToWriteTo, InputStream sourceFileInputStream) throws IOException {",0,1,0.1,102
6da3307943ddf8c41f30f95473cfee4f22bdbe14,try (InputStream inputStream = sourceFileInputStream) {,0,1,0.1,103
6da3307943ddf8c41f30f95473cfee4f22bdbe14,byte[] buffer = new byte[StreamUtils.BUFFER_SIZE];,0,1,0.1,104
6da3307943ddf8c41f30f95473cfee4f22bdbe14,finally {,0,1,0.1,105
6da3307943ddf8c41f30f95473cfee4f22bdbe14,try {,0,1,0.1,106
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.GROUP_READ);,1,0,0.0,107
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 6:,1,0,0.0,108
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.OWNER_EXECUTE);,1,0,0.0,109
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 7:,1,0,0.0,110
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.OWNER_WRITE);,1,0,0.0,111
6da3307943ddf8c41f30f95473cfee4f22bdbe14,writer.close();,0,0,0.0,112
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 8:,1,0,0.0,113
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.OWNER_READ);,1,0,0.0,114
6da3307943ddf8c41f30f95473cfee4f22bdbe14,});,1,0,0.0,115
6da3307943ddf8c41f30f95473cfee4f22bdbe14,this.permissions = posixPermissions;,1,0,0.0,116
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"this.evaluationContext, null, ""destinationDirectoryExpression"");",1,0,0.0,117
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"this.flushTask = taskScheduler.scheduleAtFixedRate(new Flusher(), this.flushInterval / 3);",1,0,0.0,118
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.GROUP_WRITE);,1,0,0.0,119
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 5:,1,0,0.0,120
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 0:,1,0,0.0,121
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 4:,1,0,0.0,122
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.GROUP_EXECUTE);,1,0,0.0,123
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 3:,1,0,0.0,124
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.OTHERS_READ);,1,0,0.0,125
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 2:,1,0,0.0,126
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.OTHERS_WRITE);,1,0,0.0,127
6da3307943ddf8c41f30f95473cfee4f22bdbe14,case 1:,1,0,0.0,128
6da3307943ddf8c41f30f95473cfee4f22bdbe14,break;,1,0,0.0,129
6da3307943ddf8c41f30f95473cfee4f22bdbe14,posixPermissions.add(PosixFilePermission.OTHERS_EXECUTE);,1,0,0.0,130
6da3307943ddf8c41f30f95473cfee4f22bdbe14,boolean ignore = (FileExistsMode.IGNORE.equals(this.fileExistsMode),1,0,0.0,131
6da3307943ddf8c41f30f95473cfee4f22bdbe14,*/,1,0,0.0,132
6da3307943ddf8c41f30f95473cfee4f22bdbe14,/*,1,0,0.0,133
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"setChmod(Integer.parseInt(chmod, 8));",1,0,0.0,134
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"Assert.notNull(requestMessage, ""message must not be null"");",1,0,0.0,135
6da3307943ddf8c41f30f95473cfee4f22bdbe14,BufferedOutputStream bos = null;,1,0,0.0,136
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"resultFile = handleFileMessage((File) payload, tempFile, resultFile, requestMessage);",1,0,0.0,137
6da3307943ddf8c41f30f95473cfee4f22bdbe14,bos.close();,1,0,0.0,138
6da3307943ddf8c41f30f95473cfee4f22bdbe14,writer.close();,1,0,0.0,139
6da3307943ddf8c41f30f95473cfee4f22bdbe14,writer.newLine();,1,0,0.0,140
6da3307943ddf8c41f30f95473cfee4f22bdbe14,writer.write(content);,1,0,0.0,141
6da3307943ddf8c41f30f95473cfee4f22bdbe14,BufferedWriter writer = null;,1,0,0.0,142
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"FileState state = getFileState(fileToWriteTo, true);",1,0,0.0,143
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"this.cleanUpAfterCopy(fileToWriteTo, resultFile, originalFile);",1,0,0.0,144
6da3307943ddf8c41f30f95473cfee4f22bdbe14,bos.write(bytes);,1,0,0.0,145
6da3307943ddf8c41f30f95473cfee4f22bdbe14,return resultFile;,1,0,0.0,146
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"cleanUpAfterCopy(tempFile, resultFile, originalFile);",1,0,0.0,147
6da3307943ddf8c41f30f95473cfee4f22bdbe14,bos.flush();,1,0,0.0,148
6da3307943ddf8c41f30f95473cfee4f22bdbe14,state.lastWrite = System.currentTimeMillis();,1,0,0.0,149
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"clearState(fileToWriteTo, state);",1,0,0.0,150
6da3307943ddf8c41f30f95473cfee4f22bdbe14,sourceFileInputStream.close();,1,0,0.0,151
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"resultFile = handleInputStreamMessage((InputStream) payload, originalFileFromHeader, tempFile,",1,0,0.0,152
6da3307943ddf8c41f30f95473cfee4f22bdbe14,bos.write(System.lineSeparator().getBytes());,1,0,0.0,153
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"bos.write(buffer, 0, bytesRead);",1,0,0.0,154
6da3307943ddf8c41f30f95473cfee4f22bdbe14,int bytesRead = -1;,1,0,0.0,155
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"FileState state = getFileState(fileToWriteTo, false);",1,0,0.0,156
6da3307943ddf8c41f30f95473cfee4f22bdbe14,".setHeader(FileHeaders.ORIGINAL_FILE, payload);",1,0,0.0,157
6da3307943ddf8c41f30f95473cfee4f22bdbe14,return this.getMessageBuilderFactory().withPayload(resultFile),1,0,0.0,158
6da3307943ddf8c41f30f95473cfee4f22bdbe14,resultFile.setLastModified(((Number) timestamp).longValue());,1,0,0.0,159
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"(String) payload, originalFileFromHeader, tempFile, resultFile, requestMessage);",1,0,0.0,160
6da3307943ddf8c41f30f95473cfee4f22bdbe14,resultFile = this.handleStringMessage(,1,0,0.0,161
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"(byte[]) payload, originalFileFromHeader, tempFile, resultFile, requestMessage);",1,0,0.0,162
6da3307943ddf8c41f30f95473cfee4f22bdbe14,resultFile = this.handleByteArrayMessage(,1,0,0.0,163
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"resultFile, requestMessage);",1,0,0.0,164
6da3307943ddf8c41f30f95473cfee4f22bdbe14,private final Log logger = LogFactory.getLog(this.getClass());,1,0,0.0,165
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"PosixFilePermission.OWNER_EXECUTE,",0,0,0.0,166
6da3307943ddf8c41f30f95473cfee4f22bdbe14,writer.newLine();,0,0,0.0,167
6da3307943ddf8c41f30f95473cfee4f22bdbe14,this.permissions = bits.stream(),0,0,0.0,168
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"fileToReturn = handleFileMessage((File) payload, tempFile, resultFile, requestMessage);",0,0,0.0,169
6da3307943ddf8c41f30f95473cfee4f22bdbe14,".setHeader(FileHeaders.ORIGINAL_FILE, payload);",0,0,0.0,170
6da3307943ddf8c41f30f95473cfee4f22bdbe14,.withPayload(resultFile),0,0,0.0,171
6da3307943ddf8c41f30f95473cfee4f22bdbe14,return getMessageBuilderFactory(),0,0,0.0,172
6da3307943ddf8c41f30f95473cfee4f22bdbe14,timestamp);,0,0,0.0,173
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"resultFile = writeMessageToFile(requestMessage, originalFileFromHeader, tempFile, resultFile,",0,0,0.0,174
6da3307943ddf8c41f30f95473cfee4f22bdbe14,boolean ignore = (FileExistsMode.IGNORE.equals(this.fileExistsMode) // NOSONAR,0,0,0.0,175
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"this.flushTask = taskScheduler.scheduleAtFixedRate(new Flusher(), this.flushInterval / 3); // NOSONAR",0,0,0.0,176
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"this.evaluationContext, null, ""destinationDirectoryExpression"");",0,0,0.0,177
6da3307943ddf8c41f30f95473cfee4f22bdbe14,.collect(Collectors.toSet());,0,0,0.0,178
6da3307943ddf8c41f30f95473cfee4f22bdbe14,.map((b) -> POSIX_FILE_PERMISSIONS[b]),0,0,0.0,179
6da3307943ddf8c41f30f95473cfee4f22bdbe14,.boxed(),0,0,0.0,180
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"""'chmod' must be between 0 and 0777 (octal)"");",0,0,0.0,181
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"resultFile, requestMessage);",0,0,0.0,182
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"setChmod(Integer.parseInt(chmod, 8)); // NOSONAR 8-bit",0,0,0.0,183
6da3307943ddf8c41f30f95473cfee4f22bdbe14,*/,0,0,0.0,184
6da3307943ddf8c41f30f95473cfee4f22bdbe14,/**,0,0,0.0,185
6da3307943ddf8c41f30f95473cfee4f22bdbe14,};,0,0,0.0,186
6da3307943ddf8c41f30f95473cfee4f22bdbe14,PosixFilePermission.OWNER_READ,0,0,0.0,187
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"PosixFilePermission.OWNER_WRITE,",0,0,0.0,188
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"PosixFilePermission.GROUP_READ,",0,0,0.0,189
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"PosixFilePermission.GROUP_WRITE,",0,0,0.0,190
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"PosixFilePermission.GROUP_EXECUTE,",0,0,0.0,191
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"PosixFilePermission.OTHERS_READ,",0,0,0.0,192
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"PosixFilePermission.OTHERS_WRITE,",0,0,0.0,193
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"PosixFilePermission.OTHERS_EXECUTE,",0,0,0.0,194
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"fileToReturn = handleInputStreamMessage((InputStream) payload, originalFileFromHeader, tempFile,",0,0,0.0,195
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"fileToReturn = handleByteArrayMessage((byte[]) payload, originalFileFromHeader, tempFile, resultFile,",0,0,0.0,196
6da3307943ddf8c41f30f95473cfee4f22bdbe14,writer.write(content);,0,0,0.0,197
6da3307943ddf8c41f30f95473cfee4f22bdbe14,BufferedOutputStream bos = null;,0,0,0.0,198
6da3307943ddf8c41f30f95473cfee4f22bdbe14,BufferedWriter writer = null;,0,0,0.0,199
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"FileState state = getFileState(fileToWriteTo, true);",0,0,0.0,200
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"writeStringToFile(fileToWriteTo, append, content);",0,0,0.0,201
6da3307943ddf8c41f30f95473cfee4f22bdbe14,bos.close();,0,0,0.0,202
6da3307943ddf8c41f30f95473cfee4f22bdbe14,bos.write(bytes);,0,0,0.0,203
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"cleanUpAfterCopy(fileToWriteTo, resultFile, originalFile);",0,0,0.0,204
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"writeBytesToFile(fileToWriteTo, append, bytes);",0,0,0.0,205
6da3307943ddf8c41f30f95473cfee4f22bdbe14,state.lastWrite = System.currentTimeMillis();,0,0,0.0,206
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"clearState(fileToWriteTo, state);",0,0,0.0,207
6da3307943ddf8c41f30f95473cfee4f22bdbe14,bos.write(System.lineSeparator().getBytes());,0,0,0.0,208
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"bos.write(buffer, 0, bytesRead);",0,0,0.0,209
6da3307943ddf8c41f30f95473cfee4f22bdbe14,int bytesRead = -1;,0,0,0.0,210
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"FileState state = getFileState(fileToWriteTo, false);",0,0,0.0,211
6da3307943ddf8c41f30f95473cfee4f22bdbe14,requestMessage);,0,0,0.0,212
6da3307943ddf8c41f30f95473cfee4f22bdbe14,return resultFile;,0,0,0.0,213
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"cleanUpAfterCopy(tempFile, resultFile, originalFile);",0,0,0.0,214
6da3307943ddf8c41f30f95473cfee4f22bdbe14,outputStream.flush();,0,0,0.0,215
6da3307943ddf8c41f30f95473cfee4f22bdbe14,outputStream.write(System.lineSeparator().getBytes());,0,0,0.0,216
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"outputStream.write(buffer, 0, bytesRead);",0,0,0.0,217
6da3307943ddf8c41f30f95473cfee4f22bdbe14,int bytesRead;,0,0,0.0,218
6da3307943ddf8c41f30f95473cfee4f22bdbe14,OutputStream outputStream =,0,0,0.0,219
6da3307943ddf8c41f30f95473cfee4f22bdbe14,try (InputStream inputStream = sourceFileInputStream;,0,0,0.0,220
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"appendStreamToFile(fileToWriteTo, sourceFileInputStream);",0,0,0.0,221
6da3307943ddf8c41f30f95473cfee4f22bdbe14,return fileToReturn;,0,0,0.0,222
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"+ ""' timestamp on file: "" + fileToReturn);",0,0,0.0,223
6da3307943ddf8c41f30f95473cfee4f22bdbe14,"fileToReturn = handleStringMessage((String) payload, originalFileFromHeader, tempFile, resultFile,",0,0,0.0,224
6da3307943ddf8c41f30f95473cfee4f22bdbe14,originalFile.delete();,1,0,0.0,225

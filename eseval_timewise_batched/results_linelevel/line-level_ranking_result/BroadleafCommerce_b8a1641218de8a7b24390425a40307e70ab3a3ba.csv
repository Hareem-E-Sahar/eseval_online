commit_id,line,line_level_label,count,line_score,row
b8a1641218de8a7b24390425a40307e70ab3a3ba,"* distributed under the License is distributed on an ""AS IS"" BASIS,",1,8,1.0,1
b8a1641218de8a7b24390425a40307e70ab3a3ba,* This is a re-worked version from Hibernate tools,1,8,1.0,2
b8a1641218de8a7b24390425a40307e70ab3a3ba,"* Unless required by applicable law or agreed to in writing, software",1,6,0.75,3
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""Ensure that the classpath contains the classes needed for Hibernate and your code are in the classpath.\n"";",1,6,0.75,4
b8a1641218de8a7b24390425a40307e70ab3a3ba,* you may not use this file except in compliance with the License.,1,5,0.625,5
b8a1641218de8a7b24390425a40307e70ab3a3ba,* You may obtain a copy of the License at,1,5,0.625,6
b8a1641218de8a7b24390425a40307e70ab3a3ba,* limitations under the License.,1,5,0.625,7
b8a1641218de8a7b24390425a40307e70ab3a3ba,// launch the service merge application context to get the entity configuration for the entire framework,1,5,0.625,8
b8a1641218de8a7b24390425a40307e70ab3a3ba,"return ""You are most likely running the ant task with a JRE that is older than the JRE required to use the classes.\n"" +",1,5,0.625,9
b8a1641218de8a7b24390425a40307e70ab3a3ba,"* Licensed under the Apache License, Version 2.0 (the ""License"");",1,4,0.5,10
b8a1641218de8a7b24390425a40307e70ab3a3ba,* See the License for the specific language governing permissions and,1,4,0.5,11
b8a1641218de8a7b24390425a40307e70ab3a3ba,* Adds a path to the classpath.,1,3,0.375,12
b8a1641218de8a7b24390425a40307e70ab3a3ba,"return ""A class were not found in the classpath of the Ant task.\n"" +",1,3,0.375,13
b8a1641218de8a7b24390425a40307e70ab3a3ba,"* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.",1,3,0.375,14
b8a1641218de8a7b24390425a40307e70ab3a3ba,* Set the classpath to be used when running the Java class,1,3,0.375,15
b8a1641218de8a7b24390425a40307e70ab3a3ba,* @author jfischer,1,3,0.375,16
b8a1641218de8a7b24390425a40307e70ab3a3ba,for (String starter : starters) {,1,2,0.25,17
b8a1641218de8a7b24390425a40307e70ab3a3ba,"public boolean accept(File dir, String name) {",1,2,0.25,18
b8a1641218de8a7b24390425a40307e70ab3a3ba,public File getDestdir() {,1,2,0.25,19
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""e.g. running with JRE 1.3 or 1.4 when using JDK 1.5 annotations is not possible.\n"" +",1,2,0.25,20
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(re instanceof ClassNotFoundException || re instanceof NoClassDefFoundError) {,1,2,0.25,21
b8a1641218de8a7b24390425a40307e70ab3a3ba,private String getProbableSolutionOrCause(Throwable re) {,1,2,0.25,22
b8a1641218de8a7b24390425a40307e70ab3a3ba,"log(""To get the full stack trace run ant with -verbose"", Project.MSG_ERR);",1,2,0.25,23
b8a1641218de8a7b24390425a40307e70ab3a3ba,String ex = new String();,1,2,0.25,24
b8a1641218de8a7b24390425a40307e70ab3a3ba,String filename = file.getName();,1,2,0.25,25
b8a1641218de8a7b24390425a40307e70ab3a3ba,"log(""Executing Hibernate Tool with a "" + configurationTask.getDescription());",1,2,0.25,26
b8a1641218de8a7b24390425a40307e70ab3a3ba,"mergeContext = new MergeFileSystemAndClassPathXMLApplicationContext(locations, null);",1,2,0.25,27
b8a1641218de8a7b24390425a40307e70ab3a3ba,for (String context : contexts) {,1,2,0.25,28
b8a1641218de8a7b24390425a40307e70ab3a3ba,String[] contexts = StandardConfigLocations.retrieveAll(StandardConfigLocations.TESTCONTEXTTYPE);,1,2,0.25,29
b8a1641218de8a7b24390425a40307e70ab3a3ba,* @param s an Ant Path object containing the classpath.,1,2,0.25,30
b8a1641218de8a7b24390425a40307e70ab3a3ba,* Copyright (C) 2009 - 2013 Broadleaf Commerce,1,2,0.25,31
b8a1641218de8a7b24390425a40307e70ab3a3ba,"writer = new BufferedWriter(new FileWriter(startFile, true));",1,1,0.125,32
b8a1641218de8a7b24390425a40307e70ab3a3ba,"private void reportException(Throwable re, int count, ExporterTask generatorTask) {",1,1,0.125,33
b8a1641218de8a7b24390425a40307e70ab3a3ba,if (reader != null) {,1,1,0.125,34
b8a1641218de8a7b24390425a40307e70ab3a3ba,if (writer != null) {,1,1,0.125,35
b8a1641218de8a7b24390425a40307e70ab3a3ba,} else {,1,1,0.125,36
b8a1641218de8a7b24390425a40307e70ab3a3ba,if (temp == null) {,1,1,0.125,37
b8a1641218de8a7b24390425a40307e70ab3a3ba,while (!eof) {,1,1,0.125,38
b8a1641218de8a7b24390425a40307e70ab3a3ba,String temp = null;,1,1,0.125,39
b8a1641218de8a7b24390425a40307e70ab3a3ba,reader = new BufferedReader(new FileReader(nextFile));,1,1,0.125,40
b8a1641218de8a7b24390425a40307e70ab3a3ba,File startFile = itr.next();,1,1,0.125,41
b8a1641218de8a7b24390425a40307e70ab3a3ba,File nextFile = itr.next();,1,1,0.125,42
b8a1641218de8a7b24390425a40307e70ab3a3ba,while(itr.hasNext()) {,1,1,0.125,43
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(cause==cause.getCause()) {,1,1,0.125,44
b8a1641218de8a7b24390425a40307e70ab3a3ba,private void combineFiles(ArrayList<File> combine) throws Exception {,1,1,0.125,45
b8a1641218de8a7b24390425a40307e70ab3a3ba,"String newFileName = filename.substring(starter.length(), filename.length());",1,1,0.125,46
b8a1641218de8a7b24390425a40307e70ab3a3ba,if (filename.startsWith(starter)) {,1,1,0.125,47
b8a1641218de8a7b24390425a40307e70ab3a3ba,"String[] starters = {""org.hibernate.dialect."", ""org.broadleafcommerce.profile.util.sql.""};",1,1,0.125,48
b8a1641218de8a7b24390425a40307e70ab3a3ba,if (refineFileNames) {,1,1,0.125,49
b8a1641218de8a7b24390425a40307e70ab3a3ba,for (File file : sqlFiles) {,1,1,0.125,50
b8a1641218de8a7b24390425a40307e70ab3a3ba,while(cause!=null) {,1,1,0.125,51
b8a1641218de8a7b24390425a40307e70ab3a3ba,public void setDestdir(File destDir) {,1,1,0.125,52
b8a1641218de8a7b24390425a40307e70ab3a3ba,break; // we reached the top.,1,1,0.125,53
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(StringUtils.isNotEmpty(ex)) {,1,1,0.125,54
b8a1641218de8a7b24390425a40307e70ab3a3ba,private class SqlFileFilter implements FilenameFilter {,1,1,0.125,55
b8a1641218de8a7b24390425a40307e70ab3a3ba,public void setRefineFileNames(boolean refineFileNames) {,1,1,0.125,56
b8a1641218de8a7b24390425a40307e70ab3a3ba,public boolean isRefineFileNames() {,1,1,0.125,57
b8a1641218de8a7b24390425a40307e70ab3a3ba,public void setCombinePersistenceUnits(boolean combinePersistenceUnits) {,1,1,0.125,58
b8a1641218de8a7b24390425a40307e70ab3a3ba,public boolean isCombinePersistenceUnits() {,1,1,0.125,59
b8a1641218de8a7b24390425a40307e70ab3a3ba,if (combinePersistenceUnits) {,1,1,0.125,60
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(re.getCause()!=re) {,1,1,0.125,61
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(re instanceof UnsupportedClassVersionError) {,1,1,0.125,62
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""2) Is "" + mnf.getPath() + "" available via the classpath ?\n"" +",1,1,0.125,63
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""1) Is the spelling/casing correct ?\n"" +",1,1,0.125,64
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""Check the following:\n"" +",1,1,0.125,65
b8a1641218de8a7b24390425a40307e70ab3a3ba,"if(""resource"".equals(mnf.getType())) {",1,1,0.125,66
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(re instanceof MappingNotFoundException) {,1,1,0.125,67
b8a1641218de8a7b24390425a40307e70ab3a3ba,"throw new BuildException(re, getLocation());",1,1,0.125,68
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(re instanceof BuildException) {,1,1,0.125,69
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(newbieMessage!=null) {,1,1,0.125,70
b8a1641218de8a7b24390425a40307e70ab3a3ba,String newbieMessage = getProbableSolutionOrCause(re);,1,1,0.125,71
b8a1641218de8a7b24390425a40307e70ab3a3ba,ArrayList<File> combine = new ArrayList<File>();,1,1,0.125,72
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""Ensure that you are using a correct JRE."";",1,1,0.125,73
b8a1641218de8a7b24390425a40307e70ab3a3ba,} catch (RuntimeException re) {,1,1,0.125,74
b8a1641218de8a7b24390425a40307e70ab3a3ba,public class HibernateToolTask extends Task {,1,1,0.125,75
b8a1641218de8a7b24390425a40307e70ab3a3ba,ClassPathApplicationContextTask task = new ClassPathApplicationContextTask();,1,1,0.125,76
b8a1641218de8a7b24390425a40307e70ab3a3ba,public ClassPathApplicationContextTask createClassPathApplicationContext() {,1,1,0.125,77
b8a1641218de8a7b24390425a40307e70ab3a3ba,ExporterTask generator = new Hbm2DDLExporterTask(this);,1,1,0.125,78
b8a1641218de8a7b24390425a40307e70ab3a3ba,public ExporterTask createHbm2DDL() {,1,1,0.125,79
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected List<Task> appContexts = new ArrayList<Task>();,1,1,0.125,80
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected List generators = new ArrayList();,1,1,0.125,81
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected File destDir;,1,1,0.125,82
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected List configurationTasks = new ArrayList();,1,1,0.125,83
b8a1641218de8a7b24390425a40307e70ab3a3ba,/**,1,1,0.125,84
b8a1641218de8a7b24390425a40307e70ab3a3ba,FileSystemApplicationContextTask task = new FileSystemApplicationContextTask();,1,1,0.125,85
b8a1641218de8a7b24390425a40307e70ab3a3ba,*/,1,1,0.125,86
b8a1641218de8a7b24390425a40307e70ab3a3ba,* #L%,1,1,0.125,87
b8a1641218de8a7b24390425a40307e70ab3a3ba,*       http://www.apache.org/licenses/LICENSE-2.0,1,1,0.125,88
b8a1641218de8a7b24390425a40307e70ab3a3ba,*,1,1,0.125,89
b8a1641218de8a7b24390425a40307e70ab3a3ba,* %%,1,1,0.125,90
b8a1641218de8a7b24390425a40307e70ab3a3ba,* BroadleafCommerce Common Libraries,1,1,0.125,91
b8a1641218de8a7b24390425a40307e70ab3a3ba,* #%L,1,1,0.125,92
b8a1641218de8a7b24390425a40307e70ab3a3ba,while (iterator.hasNext()) {,1,1,0.125,93
b8a1641218de8a7b24390425a40307e70ab3a3ba,public FileSystemApplicationContextTask createFileSystemApplicationContext() {,1,1,0.125,94
b8a1641218de8a7b24390425a40307e70ab3a3ba,public HibernateToolTask() {,1,1,0.125,95
b8a1641218de8a7b24390425a40307e70ab3a3ba,public JPAConfigurationTask createJPAConfiguration() {,1,1,0.125,96
b8a1641218de8a7b24390425a40307e70ab3a3ba,try {,1,1,0.125,97
b8a1641218de8a7b24390425a40307e70ab3a3ba,for (Object configuration : configurationTasks) {,1,1,0.125,98
b8a1641218de8a7b24390425a40307e70ab3a3ba,JPAConfigurationTask task = new JPAConfigurationTask();,1,1,0.125,99
b8a1641218de8a7b24390425a40307e70ab3a3ba,} finally {,1,1,0.125,100
b8a1641218de8a7b24390425a40307e70ab3a3ba,"throw new BuildException(e, getLocation());",1,1,0.125,101
b8a1641218de8a7b24390425a40307e70ab3a3ba,} catch (Exception e) {,1,1,0.125,102
b8a1641218de8a7b24390425a40307e70ab3a3ba,} else if (task instanceof FileSystemApplicationContextTask) {,1,1,0.125,103
b8a1641218de8a7b24390425a40307e70ab3a3ba,for (Task task : appContexts) {,1,1,0.125,104
b8a1641218de8a7b24390425a40307e70ab3a3ba,"LinkedHashMap<String, MergeFileSystemAndClassPathXMLApplicationContext.ResourceType> locations = new LinkedHashMap<String, MergeFileSystemAndClassPathXMLApplicationContext.ResourceType>();",1,1,0.125,105
b8a1641218de8a7b24390425a40307e70ab3a3ba,ConfigurationOnlyState state = new ConfigurationOnlyState();,1,1,0.125,106
b8a1641218de8a7b24390425a40307e70ab3a3ba,if (task instanceof ClassPathApplicationContextTask) {,1,1,0.125,107
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected boolean addConfiguration(ConfigurationTask config) {,1,1,0.125,108
b8a1641218de8a7b24390425a40307e70ab3a3ba,classPath = new Path(getProject() );,1,1,0.125,109
b8a1641218de8a7b24390425a40307e70ab3a3ba,public Path createClasspath() {,1,1,0.125,110
b8a1641218de8a7b24390425a40307e70ab3a3ba,* @return created classpath,1,1,0.125,111
b8a1641218de8a7b24390425a40307e70ab3a3ba,public void setClasspath(Path s) {,1,1,0.125,112
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected boolean addGenerator(ExporterTask generator) {,1,1,0.125,113
b8a1641218de8a7b24390425a40307e70ab3a3ba,public void execute() {,1,1,0.125,114
b8a1641218de8a7b24390425a40307e70ab3a3ba,"@SuppressWarnings(""unchecked"")",1,1,0.125,115
b8a1641218de8a7b24390425a40307e70ab3a3ba,boolean eof = false;,1,0,0.0,116
b8a1641218de8a7b24390425a40307e70ab3a3ba,BufferedWriter writer = null;,1,0,0.0,117
b8a1641218de8a7b24390425a40307e70ab3a3ba,BufferedReader reader = null;,1,0,0.0,118
b8a1641218de8a7b24390425a40307e70ab3a3ba,try{,1,0,0.0,119
b8a1641218de8a7b24390425a40307e70ab3a3ba,"writer.write(""\n"");",1,0,0.0,120
b8a1641218de8a7b24390425a40307e70ab3a3ba,temp = reader.readLine();,1,0,0.0,121
b8a1641218de8a7b24390425a40307e70ab3a3ba,eof = true;,1,0,0.0,122
b8a1641218de8a7b24390425a40307e70ab3a3ba,writer.write(temp);,1,0,0.0,123
b8a1641218de8a7b24390425a40307e70ab3a3ba,"file.renameTo(new File(destDir, newFileName));",1,0,0.0,124
b8a1641218de8a7b24390425a40307e70ab3a3ba,Iterator<File> itr = combine.iterator();,1,0,0.0,125
b8a1641218de8a7b24390425a40307e70ab3a3ba,"generatorTask.setOutputFileName(configurationTask.getDialect() + ""_"" + configurationTask.getPersistenceUnit() + "".sql"");",1,0,0.0,126
b8a1641218de8a7b24390425a40307e70ab3a3ba,combine.clear();,1,0,0.0,127
b8a1641218de8a7b24390425a40307e70ab3a3ba,combineFiles(combine);,1,0,0.0,128
b8a1641218de8a7b24390425a40307e70ab3a3ba,combine.add(file);,1,0,0.0,129
b8a1641218de8a7b24390425a40307e70ab3a3ba,if (file.getName().startsWith(configurationTask.getDialect())){,1,0,0.0,130
b8a1641218de8a7b24390425a40307e70ab3a3ba,File[] sqlFiles = destDir.listFiles(new SqlFileFilter());,1,0,0.0,131
b8a1641218de8a7b24390425a40307e70ab3a3ba,"reportException(re, count, generatorTask);",1,0,0.0,132
b8a1641218de8a7b24390425a40307e70ab3a3ba,generatorTask.execute();,1,0,0.0,133
b8a1641218de8a7b24390425a40307e70ab3a3ba,generatorTask.setConfiguration(configurationTask.createConfiguration(mergeContext));,1,0,0.0,134
b8a1641218de8a7b24390425a40307e70ab3a3ba,generatorTask.setDestdir(destDir);,1,0,0.0,135
b8a1641218de8a7b24390425a40307e70ab3a3ba,"log(count++ + "". task: "" + generatorTask.getName());",1,0,0.0,136
b8a1641218de8a7b24390425a40307e70ab3a3ba,try{ reader.close(); } catch (Throwable e) {};,1,0,0.0,137
b8a1641218de8a7b24390425a40307e70ab3a3ba,try{ writer.close(); } catch (Throwable e) {};,1,0,0.0,138
b8a1641218de8a7b24390425a40307e70ab3a3ba,return combinePersistenceUnits;,1,0,0.0,139
b8a1641218de8a7b24390425a40307e70ab3a3ba,nextFile.delete();,1,0,0.0,140
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""\n"" +",1,0,0.0,141
b8a1641218de8a7b24390425a40307e70ab3a3ba,this.refineFileNames = refineFileNames;,1,0,0.0,142
b8a1641218de8a7b24390425a40307e70ab3a3ba,return refineFileNames;,1,0,0.0,143
b8a1641218de8a7b24390425a40307e70ab3a3ba,this.combinePersistenceUnits = combinePersistenceUnits;,1,0,0.0,144
b8a1641218de8a7b24390425a40307e70ab3a3ba,Iterator iterator = generators.iterator();,1,0,0.0,145
b8a1641218de8a7b24390425a40307e70ab3a3ba,this.destDir = destDir;,1,0,0.0,146
b8a1641218de8a7b24390425a40307e70ab3a3ba,return destDir;,1,0,0.0,147
b8a1641218de8a7b24390425a40307e70ab3a3ba,return null;,1,0,0.0,148
b8a1641218de8a7b24390425a40307e70ab3a3ba,return getProbableSolutionOrCause( re.getCause() );,1,0,0.0,149
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""2) Do you permission to access "" + mnf.getPath() + "" ?\n"" +",1,0,0.0,150
b8a1641218de8a7b24390425a40307e70ab3a3ba,"""3) Does it actually exist ?\n"";",1,0,0.0,151
b8a1641218de8a7b24390425a40307e70ab3a3ba,"return ""A "" + mnf.getType() + "" located at "" + mnf.getPath() + "" was not found.\n"" +",1,0,0.0,152
b8a1641218de8a7b24390425a40307e70ab3a3ba,} catch (Throwable e) {},1,0,0.0,153
b8a1641218de8a7b24390425a40307e70ab3a3ba,MappingNotFoundException mnf = (MappingNotFoundException)re;,1,0,0.0,154
b8a1641218de8a7b24390425a40307e70ab3a3ba,if(re==null) return null;,1,0,0.0,155
b8a1641218de8a7b24390425a40307e70ab3a3ba,throw (BuildException)re;,1,0,0.0,156
b8a1641218de8a7b24390425a40307e70ab3a3ba,log(newbieMessage);,1,0,0.0,157
b8a1641218de8a7b24390425a40307e70ab3a3ba,"log(ex, Project.MSG_ERR);",1,0,0.0,158
b8a1641218de8a7b24390425a40307e70ab3a3ba,cause=cause.getCause();,1,0,0.0,159
b8a1641218de8a7b24390425a40307e70ab3a3ba,"ex += cause.toString() + ""\n"";",1,0,0.0,160
b8a1641218de8a7b24390425a40307e70ab3a3ba,Throwable cause = re.getCause();,1,0,0.0,161
b8a1641218de8a7b24390425a40307e70ab3a3ba,"log(re.toString(), Project.MSG_ERR);",1,0,0.0,162
b8a1641218de8a7b24390425a40307e70ab3a3ba,"log(""An exception occurred while running exporter #"" + count + "":"" + generatorTask.getName(), Project.MSG_ERR);",1,0,0.0,163
b8a1641218de8a7b24390425a40307e70ab3a3ba,generatorTask = (ExporterTask) iterator.next();,1,0,0.0,164
b8a1641218de8a7b24390425a40307e70ab3a3ba,addGenerator( generator );,1,0,0.0,165
b8a1641218de8a7b24390425a40307e70ab3a3ba,JPAConfigurationTask configurationTask = (JPAConfigurationTask) configuration;,1,0,0.0,166
b8a1641218de8a7b24390425a40307e70ab3a3ba,super();,1,0,0.0,167
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.util.LinkedHashMap;,1,0,0.0,168
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.util.Iterator;,1,0,0.0,169
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.util.ArrayList;,1,0,0.0,170
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.io.FilenameFilter;,1,0,0.0,171
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.io.FileWriter;,1,0,0.0,172
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.io.FileReader;,1,0,0.0,173
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.io.File;,1,0,0.0,174
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.io.BufferedWriter;,1,0,0.0,175
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.io.BufferedReader;,1,0,0.0,176
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.hibernate.tool.ant.ConfigurationTask;,1,0,0.0,177
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.hibernate.MappingNotFoundException;,1,0,0.0,178
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.broadleafcommerce.common.extensibility.jpa.ConfigurationOnlyState;,1,0,0.0,179
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.broadleafcommerce.common.extensibility.context.StandardConfigLocations;,1,0,0.0,180
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.broadleafcommerce.common.extensibility.context.MergeFileSystemAndClassPathXMLApplicationContext;,1,0,0.0,181
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.apache.tools.ant.types.Path;,1,0,0.0,182
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.apache.tools.ant.Task;,1,0,0.0,183
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.apache.tools.ant.Project;,1,0,0.0,184
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.apache.tools.ant.BuildException;,1,0,0.0,185
b8a1641218de8a7b24390425a40307e70ab3a3ba,import org.apache.commons.lang.StringUtils;,1,0,0.0,186
b8a1641218de8a7b24390425a40307e70ab3a3ba,package org.broadleafcommerce.common.util.sql;,1,0,0.0,187
b8a1641218de8a7b24390425a40307e70ab3a3ba,/*,1,0,0.0,188
b8a1641218de8a7b24390425a40307e70ab3a3ba,import java.util.List;,1,0,0.0,189
b8a1641218de8a7b24390425a40307e70ab3a3ba,},1,0,0.0,190
b8a1641218de8a7b24390425a40307e70ab3a3ba,ExporterTask generatorTask = null;,1,0,0.0,191
b8a1641218de8a7b24390425a40307e70ab3a3ba,"@SuppressWarnings(""rawtypes"")",1,0,0.0,192
b8a1641218de8a7b24390425a40307e70ab3a3ba,int count = 1;,1,0,0.0,193
b8a1641218de8a7b24390425a40307e70ab3a3ba,ConfigurationOnlyState.setState(null);,1,0,0.0,194
b8a1641218de8a7b24390425a40307e70ab3a3ba,"locations.put(((FileSystemApplicationContextTask) task).getPath(), MergeFileSystemAndClassPathXMLApplicationContext.ResourceType.FILESYSTEM);",1,0,0.0,195
b8a1641218de8a7b24390425a40307e70ab3a3ba,"locations.put(((ClassPathApplicationContextTask) task).getPath(), MergeFileSystemAndClassPathXMLApplicationContext.ResourceType.CLASSPATH);",1,0,0.0,196
b8a1641218de8a7b24390425a40307e70ab3a3ba,"locations.put(context, MergeFileSystemAndClassPathXMLApplicationContext.ResourceType.CLASSPATH);",1,0,0.0,197
b8a1641218de8a7b24390425a40307e70ab3a3ba,Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());,1,0,0.0,198
b8a1641218de8a7b24390425a40307e70ab3a3ba,ConfigurationOnlyState.setState(state);,1,0,0.0,199
b8a1641218de8a7b24390425a40307e70ab3a3ba,state.setConfigurationOnly(true);,1,0,0.0,200
b8a1641218de8a7b24390425a40307e70ab3a3ba,MergeFileSystemAndClassPathXMLApplicationContext mergeContext;,1,0,0.0,201
b8a1641218de8a7b24390425a40307e70ab3a3ba,@Override,1,0,0.0,202
b8a1641218de8a7b24390425a40307e70ab3a3ba,return classPath;,1,0,0.0,203
b8a1641218de8a7b24390425a40307e70ab3a3ba,classPath = s;,1,0,0.0,204
b8a1641218de8a7b24390425a40307e70ab3a3ba,return generators.add(generator);,1,0,0.0,205
b8a1641218de8a7b24390425a40307e70ab3a3ba,return configurationTasks.add(config);,1,0,0.0,206
b8a1641218de8a7b24390425a40307e70ab3a3ba,addConfiguration(task);,1,0,0.0,207
b8a1641218de8a7b24390425a40307e70ab3a3ba,return task;,1,0,0.0,208
b8a1641218de8a7b24390425a40307e70ab3a3ba,appContexts.add(task);,1,0,0.0,209
b8a1641218de8a7b24390425a40307e70ab3a3ba,return generator;,1,0,0.0,210
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected boolean refineFileNames = true;,1,0,0.0,211
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected boolean combinePersistenceUnits = true;,1,0,0.0,212
b8a1641218de8a7b24390425a40307e70ab3a3ba,protected Path classPath;,1,0,0.0,213
b8a1641218de8a7b24390425a40307e70ab3a3ba,"return name.endsWith("".sql"");",1,0,0.0,214

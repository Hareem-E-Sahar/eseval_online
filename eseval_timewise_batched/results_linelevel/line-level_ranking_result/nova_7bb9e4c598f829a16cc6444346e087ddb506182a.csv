commit_id,line,line_level_label,count,line_score,row
7bb9e4c598f829a16cc6444346e087ddb506182a,session = session if session else get_session(),1,6,1.0,1
7bb9e4c598f829a16cc6444346e087ddb506182a,session = kwargs.get('session') or get_session(),0,3,0.5,2
7bb9e4c598f829a16cc6444346e087ddb506182a,if not result:,0,3,0.5,3
7bb9e4c598f829a16cc6444346e087ddb506182a,if not session:,0,3,0.5,4
7bb9e4c598f829a16cc6444346e087ddb506182a,session = get_session(),0,3,0.5,5
7bb9e4c598f829a16cc6444346e087ddb506182a,if not session:,1,3,0.5,6
7bb9e4c598f829a16cc6444346e087ddb506182a,session = get_session(),1,3,0.5,7
7bb9e4c598f829a16cc6444346e087ddb506182a,if not result:,1,3,0.5,8
7bb9e4c598f829a16cc6444346e087ddb506182a,":param session: if present, the session to use",0,3,0.5,9
7bb9e4c598f829a16cc6444346e087ddb506182a,result = partial.filter_by(id=instance_id),1,2,0.3333333333333333,10
7bb9e4c598f829a16cc6444346e087ddb506182a,if not rv:,1,2,0.3333333333333333,11
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = session.query(func.count(models.Instance.id),",1,2,0.3333333333333333,12
7bb9e4c598f829a16cc6444346e087ddb506182a,result = partial.filter_by(uuid=uuid),1,2,0.3333333333333333,13
7bb9e4c598f829a16cc6444346e087ddb506182a,result = result.first(),1,2,0.3333333333333333,14
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Quota).\,1,2,0.3333333333333333,15
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.KeyPair).\,1,2,0.3333333333333333,16
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Network).\,1,2,0.3333333333333333,17
7bb9e4c598f829a16cc6444346e087ddb506182a,if session is None:,1,2,0.3333333333333333,18
7bb9e4c598f829a16cc6444346e087ddb506182a,if not tk:,1,2,0.3333333333333333,19
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.FloatingIp).\,1,2,0.3333333333333333,20
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.FixedIp).\,1,2,0.3333333333333333,21
7bb9e4c598f829a16cc6444346e087ddb506182a,if not context:,1,2,0.3333333333333333,22
7bb9e4c598f829a16cc6444346e087ddb506182a,result = None,1,2,0.3333333333333333,23
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Certificate).\,1,2,0.3333333333333333,24
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.ComputeNode).\,1,2,0.3333333333333333,25
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Service).\,1,2,0.3333333333333333,26
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = session.query(func.count(models.Volume.id),",1,2,0.3333333333333333,27
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _sm_volume_get_query(context, volume_id).first()",0,2,0.3333333333333333,28
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _sm_volume_get_query(context, volume_id, session=None):",0,2,0.3333333333333333,29
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _sm_flavor_get_query(context, sm_flavor_label).first()",0,2,0.3333333333333333,30
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _sm_flavor_get_query(context, sm_flavor_label, session=None):",0,2,0.3333333333333333,31
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.SMBackendConf, read_deleted=""yes"").\",0,2,0.3333333333333333,32
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.S3Image, read_deleted=""yes"").\",0,2,0.3333333333333333,33
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _vsa_get_query(context, session=session, project_only=True).\",0,2,0.3333333333333333,34
7bb9e4c598f829a16cc6444346e087ddb506182a,result = {'project_id': project_id},1,2,0.3333333333333333,35
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.BlockDeviceMapping).\,1,2,0.3333333333333333,36
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Volume).\,1,2,0.3333333333333333,37
7bb9e4c598f829a16cc6444346e087ddb506182a,if not zone:,1,2,0.3333333333333333,38
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.SMVolume).filter_by(id=volume_id).first(),1,2,0.3333333333333333,39
7bb9e4c598f829a16cc6444346e087ddb506182a,if not sm_volume:,1,2,0.3333333333333333,40
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.SMFlavors).filter_by(label=sm_flavor),1,2,0.3333333333333333,41
7bb9e4c598f829a16cc6444346e087ddb506182a,if not sm_flavor:,1,2,0.3333333333333333,42
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.SMBackendConf).filter_by(sr_uuid=sr_uuid),1,2,0.3333333333333333,43
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.SMBackendConf).\,1,2,0.3333333333333333,44
7bb9e4c598f829a16cc6444346e087ddb506182a,if not res:,1,2,0.3333333333333333,45
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.VirtualStorageArray).\,1,2,0.3333333333333333,46
7bb9e4c598f829a16cc6444346e087ddb506182a,if not vol_type:,1,2,0.3333333333333333,47
7bb9e4c598f829a16cc6444346e087ddb506182a,if not spec_result:,1,2,0.3333333333333333,48
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Zone).filter_by(id=zone_id).first(),1,2,0.3333333333333333,49
7bb9e4c598f829a16cc6444346e087ddb506182a,if not inst_type:,1,2,0.3333333333333333,50
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.IscsiTarget).\,1,2,0.3333333333333333,51
7bb9e4c598f829a16cc6444346e087ddb506182a,if not inactive:,1,2,0.3333333333333333,52
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Console).\,1,2,0.3333333333333333,53
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.ConsolePool).\,1,2,0.3333333333333333,54
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Migration).\,1,2,0.3333333333333333,55
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Project).\,1,2,0.3333333333333333,56
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.User).\,1,2,0.3333333333333333,57
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.SecurityGroupIngressRule).\,1,2,0.3333333333333333,58
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.SecurityGroup).\,1,2,0.3333333333333333,59
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _volume_type_extra_specs_query(context, volume_type_id, session=None):",0,2,0.3333333333333333,60
7bb9e4c598f829a16cc6444346e087ddb506182a,result = session.query(models.Snapshot).\,1,2,0.3333333333333333,61
7bb9e4c598f829a16cc6444346e087ddb506182a,if not meta_result:,1,2,0.3333333333333333,62
7bb9e4c598f829a16cc6444346e087ddb506182a,result = _volume_type_extra_specs_query(,0,2,0.3333333333333333,63
7bb9e4c598f829a16cc6444346e087ddb506182a,result = query.options(joinedload('pool')).first(),1,2,0.3333333333333333,64
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.VolumeTypes, read_deleted=""yes"").\",0,2,0.3333333333333333,65
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Volume, read_deleted=""no"").\",0,2,0.3333333333333333,66
7bb9e4c598f829a16cc6444346e087ddb506182a,result = {'project_id': project_id},0,2,0.3333333333333333,67
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Quota, session=session,",0,2,0.3333333333333333,68
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.AuthToken, session=session).\",0,2,0.3333333333333333,69
7bb9e4c598f829a16cc6444346e087ddb506182a,result = _network_get_query(context).\,0,2,0.3333333333333333,70
7bb9e4c598f829a16cc6444346e087ddb506182a,result = _network_get_query(context).filter_by(uuid=uuid).first(),0,2,0.3333333333333333,71
7bb9e4c598f829a16cc6444346e087ddb506182a,result = _network_get_query(context).filter_by(bridge=bridge).first(),0,2,0.3333333333333333,72
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _network_get_query(context, session=None):",0,2,0.3333333333333333,73
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Network, read_deleted=""no"").\",0,2,0.3333333333333333,74
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Network, read_deleted=""no"").all()",0,2,0.3333333333333333,75
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Network, session=session,",0,2,0.3333333333333333,76
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.KeyPair, session=session).\",0,2,0.3333333333333333,77
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _build_instance_get(context, session=session).\",0,2,0.3333333333333333,78
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context,",0,2,0.3333333333333333,79
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _virtual_interface_query(context, session=None):",0,2,0.3333333333333333,80
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.FixedIp, read_deleted=""no"").\",0,2,0.3333333333333333,81
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.FixedIp, read_deleted=""yes"").\",0,2,0.3333333333333333,82
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.FixedIp, session=session).\",0,2,0.3333333333333333,83
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.FixedIp, session=session,",0,2,0.3333333333333333,84
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.FloatingIp, project_only=True).\",0,2,0.3333333333333333,85
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Certificate, session=session).\",0,2,0.3333333333333333,86
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.ComputeNode, session=session).\",0,2,0.3333333333333333,87
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Service).\",0,2,0.3333333333333333,88
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Service, read_deleted=""no"").\",0,2,0.3333333333333333,89
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Service, session=session).\",0,2,0.3333333333333333,90
7bb9e4c598f829a16cc6444346e087ddb506182a,result = _instance_type_extra_specs_get_query(,0,2,0.3333333333333333,91
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _volume_get_query(context, session=session, project_only=True).\",0,2,0.3333333333333333,92
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.FloatingIp, session=session).\",0,2,0.3333333333333333,93
7bb9e4c598f829a16cc6444346e087ddb506182a,result = _volume_get_query(context).filter_by(id=volume_id).first(),0,2,0.3333333333333333,94
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Project, session=session,",0,2,0.3333333333333333,95
7bb9e4c598f829a16cc6444346e087ddb506182a,result = _instance_metadata_get_query(,0,2,0.3333333333333333,96
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.IscsiTarget, read_deleted=""yes"").\",0,2,0.3333333333333333,97
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _instance_metadata_get_query(context, instance_id, session=None):",0,2,0.3333333333333333,98
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _zone_get_by_id_query(context, zone_id).first()",0,2,0.3333333333333333,99
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _zone_get_by_id_query(context, zone_id, session=None):",0,2,0.3333333333333333,100
7bb9e4c598f829a16cc6444346e087ddb506182a,"read_deleted = ""yes"" if inactive else ""no""",0,2,0.3333333333333333,101
7bb9e4c598f829a16cc6444346e087ddb506182a,result = query.first(),0,2,0.3333333333333333,102
7bb9e4c598f829a16cc6444346e087ddb506182a,if instance_id is not None:,0,2,0.3333333333333333,103
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Console, read_deleted=""yes"").\",0,2,0.3333333333333333,104
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.ConsolePool, read_deleted=""no"").\",0,2,0.3333333333333333,105
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Migration, read_deleted=""yes"").\",0,2,0.3333333333333333,106
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Migration, session=session,",0,2,0.3333333333333333,107
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _instance_type_get_query(context, read_deleted=""yes"").\",0,2,0.3333333333333333,108
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.User, session=session).\",0,2,0.3333333333333333,109
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _block_device_mapping_get_query(context, session=session).\",0,2,0.3333333333333333,110
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _security_group_rule_get_query(context, session=session).\",0,2,0.3333333333333333,111
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _volume_metadata_get_query(context, volume_id, session=session).\",0,2,0.3333333333333333,112
7bb9e4c598f829a16cc6444346e087ddb506182a,result = {},0,2,0.3333333333333333,113
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _block_device_mapping_get_query(context, session=None):",0,2,0.3333333333333333,114
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _volume_metadata_get_query(context, volume_id, session=None):",0,2,0.3333333333333333,115
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = model_query(context, models.Snapshot, session=session,",0,2,0.3333333333333333,116
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _security_group_get_query(context, session=session,",0,2,0.3333333333333333,117
7bb9e4c598f829a16cc6444346e087ddb506182a,"result = _security_group_get_query(context, read_deleted=""no"").\",0,2,0.3333333333333333,118
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _security_group_rule_get_query(context, session=None):",0,2,0.3333333333333333,119
7bb9e4c598f829a16cc6444346e087ddb506182a,"def network_get_all_by_instance(_context, instance_id):",1,1,0.16666666666666666,120
7bb9e4c598f829a16cc6444346e087ddb506182a,#             or that have a fixed ip with host set,1,1,0.16666666666666666,121
7bb9e4c598f829a16cc6444346e087ddb506182a,"host_filter = or_(models.Network.host == host,",1,1,0.16666666666666666,122
7bb9e4c598f829a16cc6444346e087ddb506182a,network_ref = session.query(models.Network).\,1,1,0.16666666666666666,123
7bb9e4c598f829a16cc6444346e087ddb506182a,"def queue_get_for(_context, topic, physical_node_id):",1,1,0.16666666666666666,124
7bb9e4c598f829a16cc6444346e087ddb506182a,rv = session.query(models.Network).\,1,1,0.16666666666666666,125
7bb9e4c598f829a16cc6444346e087ddb506182a,tk = session.query(models.AuthToken).\,1,1,0.16666666666666666,126
7bb9e4c598f829a16cc6444346e087ddb506182a,"def auth_token_create(_context, token):",1,1,0.16666666666666666,127
7bb9e4c598f829a16cc6444346e087ddb506182a,quotas = session.query(models.Quota).\,1,1,0.16666666666666666,128
7bb9e4c598f829a16cc6444346e087ddb506182a,meta_dict[i['key']] = i['value'],1,1,0.16666666666666666,129
7bb9e4c598f829a16cc6444346e087ddb506182a,iscsi_target_ref = session.query(models.IscsiTarget).\,1,1,0.16666666666666666,130
7bb9e4c598f829a16cc6444346e087ddb506182a,meta_results = session.query(models.VolumeMetadata).\,1,1,0.16666666666666666,131
7bb9e4c598f829a16cc6444346e087ddb506182a,meta_dict = {},1,1,0.16666666666666666,132
7bb9e4c598f829a16cc6444346e087ddb506182a,meta_result = session.query(models.VolumeMetadata).\,1,1,0.16666666666666666,133
7bb9e4c598f829a16cc6444346e087ddb506182a,return result,1,1,0.16666666666666666,134
7bb9e4c598f829a16cc6444346e087ddb506182a,"raise exception.SecurityGroupNotFoundForProject(project_id=project_id,",1,1,0.16666666666666666,135
7bb9e4c598f829a16cc6444346e087ddb506182a,"def user_create(_context, values):",1,1,0.16666666666666666,136
7bb9e4c598f829a16cc6444346e087ddb506182a,"network_ref = network_get(context, network_id=network_id, \",1,1,0.16666666666666666,137
7bb9e4c598f829a16cc6444346e087ddb506182a,"def project_create(_context, values):",1,1,0.16666666666666666,138
7bb9e4c598f829a16cc6444346e087ddb506182a,user = session.query(models.User).\,1,1,0.16666666666666666,139
7bb9e4c598f829a16cc6444346e087ddb506182a,"def network_get_by_instance(_context, instance_id):",1,1,0.16666666666666666,140
7bb9e4c598f829a16cc6444346e087ddb506182a,"def fixed_ip_disassociate_all_by_timeout(_context, host, time):",1,1,0.16666666666666666,141
7bb9e4c598f829a16cc6444346e087ddb506182a,query = session.query(models.Instance).\,1,1,0.16666666666666666,142
7bb9e4c598f829a16cc6444346e087ddb506182a,read_deleted = can_read_deleted(context),1,1,0.16666666666666666,143
7bb9e4c598f829a16cc6444346e087ddb506182a,"subq = session.query(models.Network.host,",1,1,0.16666666666666666,144
7bb9e4c598f829a16cc6444346e087ddb506182a,"raise exception.ConsolePoolNotFoundForHostType(host=host,",1,1,0.16666666666666666,145
7bb9e4c598f829a16cc6444346e087ddb506182a,"subq = session.query(models.Volume.host,",1,1,0.16666666666666666,146
7bb9e4c598f829a16cc6444346e087ddb506182a,"def certificate_get_all_by_user_and_project(_context, user_id, project_id):",1,1,0.16666666666666666,147
7bb9e4c598f829a16cc6444346e087ddb506182a,if is_admin_context(context):,1,1,0.16666666666666666,148
7bb9e4c598f829a16cc6444346e087ddb506182a,floating_ip_ref = session.query(models.FloatingIp).\,1,1,0.16666666666666666,149
7bb9e4c598f829a16cc6444346e087ddb506182a,floating_ip_refs = session.query(models.FloatingIp).\,1,1,0.16666666666666666,150
7bb9e4c598f829a16cc6444346e087ddb506182a,fixed_ip_ref = session.query(models.FixedIp).\,1,1,0.16666666666666666,151
7bb9e4c598f829a16cc6444346e087ddb506182a,"def fixed_ip_create(_context, values):",1,1,0.16666666666666666,152
7bb9e4c598f829a16cc6444346e087ddb506182a,"def fixed_ip_bulk_create(_context, ips):",1,1,0.16666666666666666,153
7bb9e4c598f829a16cc6444346e087ddb506182a,inner_q = session.query(models.Network.id).\,1,1,0.16666666666666666,154
7bb9e4c598f829a16cc6444346e087ddb506182a,rv = session.query(models.FixedIp).\,1,1,0.16666666666666666,155
7bb9e4c598f829a16cc6444346e087ddb506182a,vif_ref = session.query(models.VirtualInterface).\,1,1,0.16666666666666666,156
7bb9e4c598f829a16cc6444346e087ddb506182a,vif_refs = session.query(models.VirtualInterface).\,1,1,0.16666666666666666,157
7bb9e4c598f829a16cc6444346e087ddb506182a,"partial = _build_instance_get(context, session=session)",1,1,0.16666666666666666,158
7bb9e4c598f829a16cc6444346e087ddb506182a,partial = session.query(models.Instance).\,1,1,0.16666666666666666,159
7bb9e4c598f829a16cc6444346e087ddb506182a,partial = partial.filter_by(deleted=can_read_deleted(context)),1,1,0.16666666666666666,160
7bb9e4c598f829a16cc6444346e087ddb506182a,partial = partial.filter_by(project_id=context.project_id).\,1,1,0.16666666666666666,161
7bb9e4c598f829a16cc6444346e087ddb506182a,"def instance_get_all_by_user(context, user_id):",1,1,0.16666666666666666,162
7bb9e4c598f829a16cc6444346e087ddb506182a,results = session.query(models.Migration).\,1,1,0.16666666666666666,163
7bb9e4c598f829a16cc6444346e087ddb506182a,vol_dict = {},1,1,0.16666666666666666,164
7bb9e4c598f829a16cc6444346e087ddb506182a,"raise exception.ConsoleNotFoundInPoolForInstance(pool_id=pool_id,",1,1,0.16666666666666666,165
7bb9e4c598f829a16cc6444346e087ddb506182a,"def volume_type_create(_context, values):",1,1,0.16666666666666666,166
7bb9e4c598f829a16cc6444346e087ddb506182a,if inactive:,1,1,0.16666666666666666,167
7bb9e4c598f829a16cc6444346e087ddb506182a,vol_types = session.query(models.VolumeTypes).\,1,1,0.16666666666666666,168
7bb9e4c598f829a16cc6444346e087ddb506182a,if vol_types:,1,1,0.16666666666666666,169
7bb9e4c598f829a16cc6444346e087ddb506182a,vol_dict[i['name']] = _dict_with_extra_specs(i),1,1,0.16666666666666666,170
7bb9e4c598f829a16cc6444346e087ddb506182a,vol_type = session.query(models.VolumeTypes).\,1,1,0.16666666666666666,171
7bb9e4c598f829a16cc6444346e087ddb506182a,volume_type_ref = session.query(models.VolumeTypes).\,1,1,0.16666666666666666,172
7bb9e4c598f829a16cc6444346e087ddb506182a,spec_results = session.query(models.VolumeTypeExtraSpecs).\,1,1,0.16666666666666666,173
7bb9e4c598f829a16cc6444346e087ddb506182a,session=None):,1,1,0.16666666666666666,174
7bb9e4c598f829a16cc6444346e087ddb506182a,spec_result = session.query(models.VolumeTypeExtraSpecs).\,1,1,0.16666666666666666,175
7bb9e4c598f829a16cc6444346e087ddb506182a,res = session.query(models.S3Image)\,1,1,0.16666666666666666,176
7bb9e4c598f829a16cc6444346e087ddb506182a,backend_conf = session.query(models.SMBackendConf).\,1,1,0.16666666666666666,177
7bb9e4c598f829a16cc6444346e087ddb506182a,"raise exception.NotFound(_(""No backend config with id ""\",1,1,0.16666666666666666,178
7bb9e4c598f829a16cc6444346e087ddb506182a,sm_flavor = session.query(models.SMFlavors).\,1,1,0.16666666666666666,179
7bb9e4c598f829a16cc6444346e087ddb506182a,"raise exception.NotFound(_(""No sm_flavor with id ""\",1,1,0.16666666666666666,180
7bb9e4c598f829a16cc6444346e087ddb506182a,"def sm_flavor_get(context, sm_flavor):",1,1,0.16666666666666666,181
7bb9e4c598f829a16cc6444346e087ddb506182a,"raise exception.NotFound(_(""No sm_flavor called %(sm_flavor)s"") \",1,1,0.16666666666666666,182
7bb9e4c598f829a16cc6444346e087ddb506182a,sm_volume = session.query(models.SMVolume).filter_by(id=volume_id).first(),1,1,0.16666666666666666,183
7bb9e4c598f829a16cc6444346e087ddb506182a,"raise exception.NotFound(_(""No sm_volume with id %(volume_id)s"") \",1,1,0.16666666666666666,184
7bb9e4c598f829a16cc6444346e087ddb506182a,topic = 'compute',1,1,0.16666666666666666,185
7bb9e4c598f829a16cc6444346e087ddb506182a,"def volume_type_get_all(context, inactive=False, filters={}):",1,1,0.16666666666666666,186
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.\,1,1,0.16666666666666666,187
7bb9e4c598f829a16cc6444346e087ddb506182a,results = session.query(models.Console).\,1,1,0.16666666666666666,188
7bb9e4c598f829a16cc6444346e087ddb506182a,spec_result = session.query(models.InstanceTypeExtraSpecs).\,1,1,0.16666666666666666,189
7bb9e4c598f829a16cc6444346e087ddb506182a,query = session.query(models.Console).\,1,1,0.16666666666666666,190
7bb9e4c598f829a16cc6444346e087ddb506182a,if instance_id:,1,1,0.16666666666666666,191
7bb9e4c598f829a16cc6444346e087ddb506182a,"raise exception.ConsoleNotFoundForInstance(console_id=console_id,",1,1,0.16666666666666666,192
7bb9e4c598f829a16cc6444346e087ddb506182a,"def instance_type_create(_context, values):",1,1,0.16666666666666666,193
7bb9e4c598f829a16cc6444346e087ddb506182a,partial = session.query(models.InstanceTypes)\,1,1,0.16666666666666666,194
7bb9e4c598f829a16cc6444346e087ddb506182a,partial = partial.filter_by(deleted=False),1,1,0.16666666666666666,195
7bb9e4c598f829a16cc6444346e087ddb506182a,partial = partial.filter(,1,1,0.16666666666666666,196
7bb9e4c598f829a16cc6444346e087ddb506182a,"inst_types = partial.order_by(""name"").all()",1,1,0.16666666666666666,197
7bb9e4c598f829a16cc6444346e087ddb506182a,inst_type = session.query(models.InstanceTypes).\,1,1,0.16666666666666666,198
7bb9e4c598f829a16cc6444346e087ddb506182a,instance_type_ref = session.query(models.InstanceTypes).\,1,1,0.16666666666666666,199
7bb9e4c598f829a16cc6444346e087ddb506182a,zone = session.query(models.Zone).filter_by(id=zone_id).first(),1,1,0.16666666666666666,200
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.ZoneNotFound(zone_id=zone_id),1,1,0.16666666666666666,201
7bb9e4c598f829a16cc6444346e087ddb506182a,meta_results = session.query(models.InstanceMetadata).\,1,1,0.16666666666666666,202
7bb9e4c598f829a16cc6444346e087ddb506182a,meta_result = session.query(models.InstanceMetadata).\,1,1,0.16666666666666666,203
7bb9e4c598f829a16cc6444346e087ddb506182a,agent_build_ref = session.query(models.AgentBuild).\,1,1,0.16666666666666666,204
7bb9e4c598f829a16cc6444346e087ddb506182a,bwusage = session.query(models.BandwidthUsage).\,1,1,0.16666666666666666,205
7bb9e4c598f829a16cc6444346e087ddb506182a,spec_results = session.query(models.InstanceTypeExtraSpecs).\,1,1,0.16666666666666666,206
7bb9e4c598f829a16cc6444346e087ddb506182a,spec_dict = {},1,1,0.16666666666666666,207
7bb9e4c598f829a16cc6444346e087ddb506182a,spec_dict[i['key']] = i['value'],1,1,0.16666666666666666,208
7bb9e4c598f829a16cc6444346e087ddb506182a,"subq = session.query(models.Instance.host,",1,1,0.16666666666666666,209
7bb9e4c598f829a16cc6444346e087ddb506182a,rows = session.query(models.Quota).\,1,1,0.16666666666666666,210
7bb9e4c598f829a16cc6444346e087ddb506182a,query = session.query(models.Service).\,1,1,0.16666666666666666,211
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _instance_get_all_query(context, project_only=False):",0,1,0.16666666666666666,212
7bb9e4c598f829a16cc6444346e087ddb506182a,"fixed_ip_ref = model_query(context, models.FixedIp, session=session,",0,1,0.16666666666666666,213
7bb9e4c598f829a16cc6444346e087ddb506182a,"def fixed_ip_bulk_create(context, ips):",0,1,0.16666666666666666,214
7bb9e4c598f829a16cc6444346e087ddb506182a,"def fixed_ip_disassociate_all_by_timeout(context, host, time):",0,1,0.16666666666666666,215
7bb9e4c598f829a16cc6444346e087ddb506182a,"inner_q = model_query(context, models.Network.id, session=session,",0,1,0.16666666666666666,216
7bb9e4c598f829a16cc6444346e087ddb506182a,return result,0,1,0.16666666666666666,217
7bb9e4c598f829a16cc6444346e087ddb506182a,"vif_ref = _virtual_interface_query(context, session=session).\",0,1,0.16666666666666666,218
7bb9e4c598f829a16cc6444346e087ddb506182a,vif_ref = _virtual_interface_query(context).\,0,1,0.16666666666666666,219
7bb9e4c598f829a16cc6444346e087ddb506182a,vif_refs = _virtual_interface_query(context).\,0,1,0.16666666666666666,220
7bb9e4c598f829a16cc6444346e087ddb506182a,vif_refs = _virtual_interface_query(context).all(),0,1,0.16666666666666666,221
7bb9e4c598f829a16cc6444346e087ddb506182a,"def instance_get_all_by_user(context, user_id):",0,1,0.16666666666666666,222
7bb9e4c598f829a16cc6444346e087ddb506182a,"quotas = model_query(context, models.Quota, session=session,",0,1,0.16666666666666666,223
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _network_ips_query(context, network_id):",0,1,0.16666666666666666,224
7bb9e4c598f829a16cc6444346e087ddb506182a,"network_ref = network_get(context, network_id=network_id,",0,1,0.16666666666666666,225
7bb9e4c598f829a16cc6444346e087ddb506182a,"def network_get_by_instance(context, instance_id):",0,1,0.16666666666666666,226
7bb9e4c598f829a16cc6444346e087ddb506182a,"def network_get_all_by_instance(context, instance_id):",0,1,0.16666666666666666,227
7bb9e4c598f829a16cc6444346e087ddb506182a,#             or that have a fixed ip with host set,0,1,0.16666666666666666,228
7bb9e4c598f829a16cc6444346e087ddb506182a,"host_filter = or_(models.Network.host == host,",0,1,0.16666666666666666,229
7bb9e4c598f829a16cc6444346e087ddb506182a,"network_ref = _network_get_query(context, session=session).\",0,1,0.16666666666666666,230
7bb9e4c598f829a16cc6444346e087ddb506182a,"def queue_get_for(context, topic, physical_node_id):",0,1,0.16666666666666666,231
7bb9e4c598f829a16cc6444346e087ddb506182a,"def auth_token_create(context, token):",0,1,0.16666666666666666,232
7bb9e4c598f829a16cc6444346e087ddb506182a,floating_ip_refs = _floating_ip_get_all(context).\,0,1,0.16666666666666666,233
7bb9e4c598f829a16cc6444346e087ddb506182a,floating_ip_refs = _floating_ip_get_all(context).all(),0,1,0.16666666666666666,234
7bb9e4c598f829a16cc6444346e087ddb506182a,def _floating_ip_get_all(context):,0,1,0.16666666666666666,235
7bb9e4c598f829a16cc6444346e087ddb506182a,@require_admin_context,0,1,0.16666666666666666,236
7bb9e4c598f829a16cc6444346e087ddb506182a,"""""""Indicates if the context has access to deleted objects.""""""",1,1,0.16666666666666666,237
7bb9e4c598f829a16cc6444346e087ddb506182a,"def model_query(context, *args, **kwargs):",0,1,0.16666666666666666,238
7bb9e4c598f829a16cc6444346e087ddb506182a,":param read_deleted: if present, overrides context's read_deleted field.",0,1,0.16666666666666666,239
7bb9e4c598f829a16cc6444346e087ddb506182a,":param project_only: if present and context is user-type, then restrict",0,1,0.16666666666666666,240
7bb9e4c598f829a16cc6444346e087ddb506182a,read_deleted = kwargs.get('read_deleted') or context.read_deleted,0,1,0.16666666666666666,241
7bb9e4c598f829a16cc6444346e087ddb506182a,project_only = kwargs.get('project_only'),0,1,0.16666666666666666,242
7bb9e4c598f829a16cc6444346e087ddb506182a,query = session.query(*args),0,1,0.16666666666666666,243
7bb9e4c598f829a16cc6444346e087ddb506182a,if read_deleted == 'no':,0,1,0.16666666666666666,244
7bb9e4c598f829a16cc6444346e087ddb506182a,query = query.filter_by(deleted=False),0,1,0.16666666666666666,245
7bb9e4c598f829a16cc6444346e087ddb506182a,query = query.filter_by(deleted=True),0,1,0.16666666666666666,246
7bb9e4c598f829a16cc6444346e087ddb506182a,raise Exception(,0,1,0.16666666666666666,247
7bb9e4c598f829a16cc6444346e087ddb506182a,if project_only and is_user_context(context):,0,1,0.16666666666666666,248
7bb9e4c598f829a16cc6444346e087ddb506182a,query = query.filter_by(project_id=context.project_id),0,1,0.16666666666666666,249
7bb9e4c598f829a16cc6444346e087ddb506182a,"query = model_query(context, models.Service)",0,1,0.16666666666666666,250
7bb9e4c598f829a16cc6444346e087ddb506182a,"subq = model_query(context, models.Instance.host,",0,1,0.16666666666666666,251
7bb9e4c598f829a16cc6444346e087ddb506182a,"subq = model_query(context, models.Network.host,",0,1,0.16666666666666666,252
7bb9e4c598f829a16cc6444346e087ddb506182a,"subq = model_query(context, models.Volume.host,",0,1,0.16666666666666666,253
7bb9e4c598f829a16cc6444346e087ddb506182a,"def certificate_get_all_by_user_and_project(context, user_id, project_id):",0,1,0.16666666666666666,254
7bb9e4c598f829a16cc6444346e087ddb506182a,"floating_ip_ref = model_query(context, models.FloatingIp,",0,1,0.16666666666666666,255
7bb9e4c598f829a16cc6444346e087ddb506182a,"rows = model_query(context, models.Quota, read_deleted=""no"").\",0,1,0.16666666666666666,256
7bb9e4c598f829a16cc6444346e087ddb506182a,"def fixed_ip_create(context, values):",0,1,0.16666666666666666,257
7bb9e4c598f829a16cc6444346e087ddb506182a,"iscsi_target_ref = model_query(context, models.IscsiTarget,",0,1,0.16666666666666666,258
7bb9e4c598f829a16cc6444346e087ddb506182a,"agent_build_ref = model_query(context, models.AgentBuild,",0,1,0.16666666666666666,259
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _instance_type_extra_specs_get_query(context, instance_type_id,",0,1,0.16666666666666666,260
7bb9e4c598f829a16cc6444346e087ddb506182a,session=None):,0,1,0.16666666666666666,261
7bb9e4c598f829a16cc6444346e087ddb506182a,rows = _instance_type_extra_specs_get_query(,0,1,0.16666666666666666,262
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.InstanceTypeExtraSpecsNotFound(,0,1,0.16666666666666666,263
7bb9e4c598f829a16cc6444346e087ddb506182a,"def volume_type_create(context, values):",0,1,0.16666666666666666,264
7bb9e4c598f829a16cc6444346e087ddb506182a,"def volume_type_get_all(context, inactive=False, filters=None):",0,1,0.16666666666666666,265
7bb9e4c598f829a16cc6444346e087ddb506182a,"rows = model_query(context, models.VolumeTypes,",0,1,0.16666666666666666,266
7bb9e4c598f829a16cc6444346e087ddb506182a,# TODO(sirp): this patern of converting rows to a result with extra_specs,0,1,0.16666666666666666,267
7bb9e4c598f829a16cc6444346e087ddb506182a,result[row['name']] = _dict_with_extra_specs(row),0,1,0.16666666666666666,268
7bb9e4c598f829a16cc6444346e087ddb506182a,"volume_type_ref = model_query(context, models.VolumeTypes,",0,1,0.16666666666666666,269
7bb9e4c598f829a16cc6444346e087ddb506182a,"rows = _volume_type_extra_specs_query(context, volume_type_id).\",0,1,0.16666666666666666,270
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.VolumeTypeExtraSpecsNotFound(,0,1,0.16666666666666666,271
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _vsa_get_query(context, session=None, project_only=False):",0,1,0.16666666666666666,272
7bb9e4c598f829a16cc6444346e087ddb506182a,"backend_conf = model_query(context, models.SMBackendConf,",0,1,0.16666666666666666,273
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.NotFound(,0,1,0.16666666666666666,274
7bb9e4c598f829a16cc6444346e087ddb506182a,"sm_flavor = sm_flavor_get(context, sm_flavor_label)",0,1,0.16666666666666666,275
7bb9e4c598f829a16cc6444346e087ddb506182a,"def sm_flavor_get(context, sm_flavor_label):",0,1,0.16666666666666666,276
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _volume_get_query(context, session=None, project_only=False):",0,1,0.16666666666666666,277
7bb9e4c598f829a16cc6444346e087ddb506182a,"sm_volume = sm_volume_get(context, volume_id)",0,1,0.16666666666666666,278
7bb9e4c598f829a16cc6444346e087ddb506182a,"bwusage = model_query(context, models.BandwidthUsage,",0,1,0.16666666666666666,279
7bb9e4c598f829a16cc6444346e087ddb506182a,filters = filters or {},0,1,0.16666666666666666,280
7bb9e4c598f829a16cc6444346e087ddb506182a,"rows = _instance_metadata_get_query(context, instance_id).all()",0,1,0.16666666666666666,281
7bb9e4c598f829a16cc6444346e087ddb506182a,"query = model_query(context, models.Console, read_deleted=""yes"").\",0,1,0.16666666666666666,282
7bb9e4c598f829a16cc6444346e087ddb506182a,"rows = _volume_metadata_get_query(context, volume_id).all()",0,1,0.16666666666666666,283
7bb9e4c598f829a16cc6444346e087ddb506182a,"zone = zone_get(context, zone_id)",0,1,0.16666666666666666,284
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _security_group_get_query(context, session=None, read_deleted=None,",0,1,0.16666666666666666,285
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.SecurityGroupNotFoundForProject(,0,1,0.16666666666666666,286
7bb9e4c598f829a16cc6444346e087ddb506182a,"def user_create(context, values):",0,1,0.16666666666666666,287
7bb9e4c598f829a16cc6444346e087ddb506182a,"def project_create(context, values):",0,1,0.16666666666666666,288
7bb9e4c598f829a16cc6444346e087ddb506182a,"user = model_query(context, models.User).\",0,1,0.16666666666666666,289
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.ConsolePoolNotFoundForHostType(,0,1,0.16666666666666666,290
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.ConsoleNotFoundInPoolForInstance(,0,1,0.16666666666666666,291
7bb9e4c598f829a16cc6444346e087ddb506182a,result[row['key']] = row['value'],0,1,0.16666666666666666,292
7bb9e4c598f829a16cc6444346e087ddb506182a,raise exception.ConsoleNotFoundForInstance(,0,1,0.16666666666666666,293
7bb9e4c598f829a16cc6444346e087ddb506182a,"query = _instance_type_get_query(context, read_deleted=read_deleted)",0,1,0.16666666666666666,294
7bb9e4c598f829a16cc6444346e087ddb506182a,def can_read_deleted(context):,1,1,0.16666666666666666,295
7bb9e4c598f829a16cc6444346e087ddb506182a,"inst_types = query.order_by(""name"").all()",0,1,0.16666666666666666,296
7bb9e4c598f829a16cc6444346e087ddb506182a,query = query.filter(,0,1,0.16666666666666666,297
7bb9e4c598f829a16cc6444346e087ddb506182a,"instance_type_ref = model_query(context, models.InstanceTypes,",0,1,0.16666666666666666,298
7bb9e4c598f829a16cc6444346e087ddb506182a,"def _instance_type_get_query(context, session=None, read_deleted=None):",0,1,0.16666666666666666,299
7bb9e4c598f829a16cc6444346e087ddb506182a,"def instance_type_create(context, values):",0,1,0.16666666666666666,300
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.FixedIp).\,1,0,0.0,301
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(deleted=read_deleted).\,1,0,0.0,302
7bb9e4c598f829a16cc6444346e087ddb506182a,count(),1,0,0.0,303
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.Network).\,1,0,0.0,304
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.KeyPair).\,1,0,0.0,305
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(instance_id=instance_id).\,1,0,0.0,306
7bb9e4c598f829a16cc6444346e087ddb506182a,return query.\,1,0,0.0,307
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('instance_type')),1,0,0.0,308
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(project_id=project_id).\,1,0,0.0,309
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('security_groups')).\,1,0,0.0,310
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('metadata')).\,1,0,0.0,311
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('fixed_ips.network')).\,1,0,0.0,312
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(deleted=False),1,0,0.0,313
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('fixed_ips.floating_ips')).\,1,0,0.0,314
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(user_id=user_id).\,1,0,0.0,315
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('instance_type')).\,1,0,0.0,316
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.Instance).\,1,0,0.0,317
7bb9e4c598f829a16cc6444346e087ddb506182a,return partial,1,0,0.0,318
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(allocated=True).\,1,0,0.0,319
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(network_id=network_id).\,1,0,0.0,320
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('volume_metadata')).\,1,0,0.0,321
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(allocated=False).\,1,0,0.0,322
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(uuid=uuid).\,1,0,0.0,323
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('volume_type')).\,1,0,0.0,324
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.sum(models.Instance.vcpus),",1,0,0.0,325
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('instance')).\,1,0,0.0,326
7bb9e4c598f829a16cc6444346e087ddb506182a,func.sum(models.Volume.size)).\,1,0,0.0,327
7bb9e4c598f829a16cc6444346e087ddb506182a,return tk,1,0,0.0,328
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.IscsiTarget).\,1,0,0.0,329
7bb9e4c598f829a16cc6444346e087ddb506182a,models.FixedIp.host == host),1,0,0.0,330
7bb9e4c598f829a16cc6444346e087ddb506182a,# NOTE(vish): return networks that have host set,1,0,0.0,331
7bb9e4c598f829a16cc6444346e087ddb506182a,with session.begin():,1,0,0.0,332
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(bridge=bridge).\,1,0,0.0,333
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(reserved=False).\,1,0,0.0,334
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(models.FixedIp.virtual_interface_id != None).\,1,0,0.0,335
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(models.FixedIp.instance_id != None).\,1,0,0.0,336
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('instance')).\,1,0,0.0,337
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(project_or_none).\,1,0,0.0,338
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(models.Network.uuid.in_(network_uuids)).\,1,0,0.0,339
7bb9e4c598f829a16cc6444346e087ddb506182a,models.Network.project_id == None),1,0,0.0,340
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(deleted=False).all(),1,0,0.0,341
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=network_id).\,1,0,0.0,342
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(reserved=True).\,1,0,0.0,343
7bb9e4c598f829a16cc6444346e087ddb506182a,func.sum(models.Instance.memory_mb)).\,1,0,0.0,344
7bb9e4c598f829a16cc6444346e087ddb506182a,"# FIXME(sirp): for consistency, shouldn't this just mark as deleted with",0,0,0.0,345
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('fixed_ips')).\,1,0,0.0,346
7bb9e4c598f829a16cc6444346e087ddb506182a,"_(""No sm_flavor called %(sm_flavor)s"") % locals())",0,0,0.0,347
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(deleted=can_read_deleted(context)).\,1,0,0.0,348
7bb9e4c598f829a16cc6444346e087ddb506182a,return context.read_deleted,1,0,0.0,349
7bb9e4c598f829a16cc6444346e087ddb506182a,return False,1,0,0.0,350
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.SMVolume, read_deleted=""yes"").all()",0,0,0.0,351
7bb9e4c598f829a16cc6444346e087ddb506182a,"_(""No sm_volume with id %(volume_id)s"") % locals())",0,0,0.0,352
7bb9e4c598f829a16cc6444346e087ddb506182a,"_sm_volume_get_query(context, volume_id, session=session).delete()",0,0,0.0,353
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=volume_id),0,0,0.0,354
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.SMVolume, session=session,",0,0,0.0,355
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.SMFlavors, read_deleted=""yes"").all()",0,0,0.0,356
7bb9e4c598f829a16cc6444346e087ddb506182a,"_sm_flavor_get_query(context, sm_flavor_label).delete()",0,0,0.0,357
7bb9e4c598f829a16cc6444346e087ddb506182a,return rv,1,0,0.0,358
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(label=sm_flavor_label),0,0,0.0,359
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.SMFlavors, session=session,",0,0,0.0,360
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(sr_uuid=sr_uuid),0,0,0.0,361
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.SMBackendConf, read_deleted=""yes"").\",0,0,0.0,362
7bb9e4c598f829a16cc6444346e087ddb506182a,# FIXME(sirp): shouldn't this have a `first()` qualifier attached?,0,0,0.0,363
7bb9e4c598f829a16cc6444346e087ddb506182a,"model_query(context, models.SMBackendConf, session=session,",0,0,0.0,364
7bb9e4c598f829a16cc6444346e087ddb506182a,# `purge` actually deleting the record?,0,0,0.0,365
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.Volume).\,1,0,0.0,366
7bb9e4c598f829a16cc6444346e087ddb506182a,"_(""No backend config with id %(sm_backend_id)s"") % locals())",0,0,0.0,367
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(deleted=can_read_deleted(context)),1,0,0.0,368
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.Service).\,1,0,0.0,369
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(deleted=False).\,1,0,0.0,370
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(disabled=False).\,1,0,0.0,371
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.FloatingIp).\,1,0,0.0,372
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(project_id=context.project_id).\,1,0,0.0,373
7bb9e4c598f829a16cc6444346e087ddb506182a,elif is_user_context(context):,1,0,0.0,374
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=id).\,1,0,0.0,375
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('fixed_ip.instance')).\,1,0,0.0,376
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('fixed_ip')).\,1,0,0.0,377
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.Certificate).\,1,0,0.0,378
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.ComputeNode).\,1,0,0.0,379
7bb9e4c598f829a16cc6444346e087ddb506182a,func.sum(models.Volume.size).label(label)).\,1,0,0.0,380
7bb9e4c598f829a16cc6444346e087ddb506182a,func.count(models.Network.id).label(label)).\,1,0,0.0,381
7bb9e4c598f829a16cc6444346e087ddb506182a,func.sum(models.Instance.vcpus).label(label)).\,1,0,0.0,382
7bb9e4c598f829a16cc6444346e087ddb506182a,order_by(sort_value).\,1,0,0.0,383
7bb9e4c598f829a16cc6444346e087ddb506182a,"outerjoin((subq, models.Service.host == subq.c.host)).\",1,0,0.0,384
7bb9e4c598f829a16cc6444346e087ddb506182a,"return session.query(models.Service, func.coalesce(sort_value, 0)).\",1,0,0.0,385
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('compute_node')).\,1,0,0.0,386
7bb9e4c598f829a16cc6444346e087ddb506182a,first(),1,0,0.0,387
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(host=host).\,1,0,0.0,388
7bb9e4c598f829a16cc6444346e087ddb506182a,all(),1,0,0.0,389
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(topic=topic).\,1,0,0.0,390
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=volume_id).\,1,0,0.0,391
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('extra_specs')).\,1,0,0.0,392
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(volume_id=volume_id).\,1,0,0.0,393
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.InstanceTypeExtraSpecs).\,1,0,0.0,394
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.VolumeTypeExtraSpecs).\,1,0,0.0,395
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(volume_type_id=volume_type_id).\,1,0,0.0,396
7bb9e4c598f829a16cc6444346e087ddb506182a,return _dict_with_extra_specs(vol_type),1,0,0.0,397
7bb9e4c598f829a16cc6444346e087ddb506182a,return vol_dict,1,0,0.0,398
7bb9e4c598f829a16cc6444346e087ddb506182a,for i in vol_types:,1,0,0.0,399
7bb9e4c598f829a16cc6444346e087ddb506182a,"order_by(""name"").\",1,0,0.0,400
7bb9e4c598f829a16cc6444346e087ddb506182a,return spec_result,1,0,0.0,401
7bb9e4c598f829a16cc6444346e087ddb506182a,instance_type_id=instance_type_id),1,0,0.0,402
7bb9e4c598f829a16cc6444346e087ddb506182a,"InstanceTypeExtraSpecsNotFound(extra_specs_key=key,",1,0,0.0,403
7bb9e4c598f829a16cc6444346e087ddb506182a,return spec_dict,1,0,0.0,404
7bb9e4c598f829a16cc6444346e087ddb506182a,for i in meta_results:,1,0,0.0,405
7bb9e4c598f829a16cc6444346e087ddb506182a,for i in spec_results:,1,0,0.0,406
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(instance_type_id=instance_type_id).\,1,0,0.0,407
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.BandwidthUsage).\,1,0,0.0,408
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=agent_build_id). \,1,0,0.0,409
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.AgentBuild).\,1,0,0.0,410
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.AgentBuild).\,1,0,0.0,411
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.InstanceMetadata).\,1,0,0.0,412
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.Zone).all(),1,0,0.0,413
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=zone_id).\,1,0,0.0,414
7bb9e4c598f829a16cc6444346e087ddb506182a,"VolumeTypeExtraSpecsNotFound(extra_specs_key=key,",1,0,0.0,415
7bb9e4c598f829a16cc6444346e087ddb506182a,volume_type_id=volume_type_id),1,0,0.0,416
7bb9e4c598f829a16cc6444346e087ddb506182a,####################,1,0,0.0,417
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('vsa_instance_type')).\,1,0,0.0,418
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(uuid=image_uuid).\,0,0,0.0,419
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.SMVolume).\,1,0,0.0,420
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.SMFlavors).all(),1,0,0.0,421
7bb9e4c598f829a16cc6444346e087ddb506182a,% locals()),1,0,0.0,422
7bb9e4c598f829a16cc6444346e087ddb506182a,delete(),1,0,0.0,423
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(label=sm_flavor_label).\,1,0,0.0,424
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.SMFlavors).\,1,0,0.0,425
7bb9e4c598f829a16cc6444346e087ddb506182a,"""%(sm_flavor_id)s"") % locals())",1,0,0.0,426
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(label=sm_flavor_label),1,0,0.0,427
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.SMBackendConf).all(),1,0,0.0,428
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.SMBackendConf).\,1,0,0.0,429
7bb9e4c598f829a16cc6444346e087ddb506182a,"""%(sm_backend_id)s"") % locals())",1,0,0.0,430
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=sm_backend_id).first(),1,0,0.0,431
7bb9e4c598f829a16cc6444346e087ddb506182a,.filter_by(uuid=image_uuid)\,1,0,0.0,432
7bb9e4c598f829a16cc6444346e087ddb506182a,return res,1,0,0.0,433
7bb9e4c598f829a16cc6444346e087ddb506182a,.first(),1,0,0.0,434
7bb9e4c598f829a16cc6444346e087ddb506182a,.filter_by(id=image_id)\,1,0,0.0,435
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.VirtualStorageArray).\,1,0,0.0,436
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=vsa_id).\,1,0,0.0,437
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.Zone).\,1,0,0.0,438
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(name=name),1,0,0.0,439
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(flavorid=flavor_id).\,1,0,0.0,440
7bb9e4c598f829a16cc6444346e087ddb506182a,security_group_id=group_name),1,0,0.0,441
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('instances')).\,1,0,0.0,442
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=security_group_id).\,1,0,0.0,443
7bb9e4c598f829a16cc6444346e087ddb506182a,"filter_by(deleted=can_read_deleted(context),).\",1,0,0.0,444
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('rules')).\,1,0,0.0,445
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.SecurityGroup).\,1,0,0.0,446
7bb9e4c598f829a16cc6444346e087ddb506182a,return [],1,0,0.0,447
7bb9e4c598f829a16cc6444346e087ddb506182a,'updated_at': literal_column('updated_at')}),1,0,0.0,448
7bb9e4c598f829a16cc6444346e087ddb506182a,"'deleted_at': utils.utcnow(),",1,0,0.0,449
7bb9e4c598f829a16cc6444346e087ddb506182a,"update({'deleted': True,",1,0,0.0,450
7bb9e4c598f829a16cc6444346e087ddb506182a,values['device_name']).\,1,0,0.0,451
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(models.BlockDeviceMapping.device_name !=,1,0,0.0,452
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(virtual_name=virtual_name).\,1,0,0.0,453
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(instance_id=values['instance_id']).\,1,0,0.0,454
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.BlockDeviceMapping).\,1,0,0.0,455
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.Snapshot).\,1,0,0.0,456
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=snapshot_id).\,1,0,0.0,457
7bb9e4c598f829a16cc6444346e087ddb506182a,return meta_result,1,0,0.0,458
7bb9e4c598f829a16cc6444346e087ddb506182a,session.query(models.VolumeMetadata).\,1,0,0.0,459
7bb9e4c598f829a16cc6444346e087ddb506182a,return meta_dict,1,0,0.0,460
7bb9e4c598f829a16cc6444346e087ddb506182a,else:,1,0,0.0,461
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=security_group_rule_id).\,1,0,0.0,462
7bb9e4c598f829a16cc6444346e087ddb506182a,return _dict_with_extra_specs(inst_type),1,0,0.0,463
7bb9e4c598f829a16cc6444346e087ddb506182a,# TODO(vish): Join to group and check for project_id,1,0,0.0,464
7bb9e4c598f829a16cc6444346e087ddb506182a,.options(joinedload('extra_specs')),1,0,0.0,465
7bb9e4c598f829a16cc6444346e087ddb506182a,##################,1,0,0.0,466
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=console_id),1,0,0.0,467
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('pool')).\,1,0,0.0,468
7bb9e4c598f829a16cc6444346e087ddb506182a,instance_id=instance_id),1,0,0.0,469
7bb9e4c598f829a16cc6444346e087ddb506182a,# consoles are meant to be transient. (mdragon),1,0,0.0,470
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.ConsolePool).\,1,0,0.0,471
7bb9e4c598f829a16cc6444346e087ddb506182a,compute_host=compute_host),1,0,0.0,472
7bb9e4c598f829a16cc6444346e087ddb506182a,"console_type=console_type,",1,0,0.0,473
7bb9e4c598f829a16cc6444346e087ddb506182a,return results,1,0,0.0,474
7bb9e4c598f829a16cc6444346e087ddb506182a,"filter_by(status=""FINISHED"").all()",1,0,0.0,475
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(status=status).first(),1,0,0.0,476
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=id).first(),1,0,0.0,477
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.Project).\,1,0,0.0,478
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.User).\,1,0,0.0,479
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.ProviderFirewallRule).\,1,0,0.0,480
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(group_id=security_group_id).\,1,0,0.0,481
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('grantee_group.instances')).\,1,0,0.0,482
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(parent_group_id=security_group_id).\,1,0,0.0,483
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=sm_backend_id).\,0,0,0.0,484
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.FloatingIp, session=session).\",0,0,0.0,485
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=image_id).\,0,0,0.0,486
7bb9e4c598f829a16cc6444346e087ddb506182a,"return _instance_get_all_query(context, project_only=True).\",0,0,0.0,487
7bb9e4c598f829a16cc6444346e087ddb506182a,count(),0,0,0.0,488
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(allocated=True).\,0,0,0.0,489
7bb9e4c598f829a16cc6444346e087ddb506182a,"return _network_ips_query(context, network_id).\",0,0,0.0,490
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(network_id=network_id),0,0,0.0,491
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.FixedIp, read_deleted=""no"").\",0,0,0.0,492
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Network).count()",0,0,0.0,493
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Network, session=session,",0,0,0.0,494
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.KeyPair, read_deleted=""no"").\",0,0,0.0,495
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(instance_id=instance_id).\,0,0,0.0,496
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(project_id=project_id).\,0,0,0.0,497
7bb9e4c598f829a16cc6444346e087ddb506182a,return _vsa_get_query(context).filter_by(project_id=project_id).all(),0,0,0.0,498
7bb9e4c598f829a16cc6444346e087ddb506182a,return _instance_get_all_query(context).\,0,0,0.0,499
7bb9e4c598f829a16cc6444346e087ddb506182a,return _instance_get_all_query(context).filter_by(host=host).all(),0,0,0.0,500
7bb9e4c598f829a16cc6444346e087ddb506182a,return _instance_get_all_query(context).filter_by(user_id=user_id).all(),0,0,0.0,501
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('instance_type')),0,0,0.0,502
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Instance, project_only=project_only).\",0,0,0.0,503
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Instance).\",0,0,0.0,504
7bb9e4c598f829a16cc6444346e087ddb506182a,project_only=True).\,0,0,0.0,505
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Instance, session=session,",0,0,0.0,506
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=instance_id).\,0,0,0.0,507
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(allocated=False).\,0,0,0.0,508
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(reserved=False).\,0,0,0.0,509
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(reserved=True).\,0,0,0.0,510
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=network_id).\,0,0,0.0,511
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('instance')).\,0,0,0.0,512
7bb9e4c598f829a16cc6444346e087ddb506182a,project_only=project_only).\,0,0,0.0,513
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Volume, session=session,",0,0,0.0,514
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.sum(models.Volume.size),",0,0,0.0,515
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.count(models.Volume.id),",0,0,0.0,516
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.IscsiTarget).\",0,0,0.0,517
7bb9e4c598f829a16cc6444346e087ddb506182a,return _network_get_query(context).\,0,0,0.0,518
7bb9e4c598f829a16cc6444346e087ddb506182a,models.FixedIp.host == host),0,0,0.0,519
7bb9e4c598f829a16cc6444346e087ddb506182a,# NOTE(vish): return networks that have host set,0,0,0.0,520
7bb9e4c598f829a16cc6444346e087ddb506182a,"read_deleted=""no"")",0,0,0.0,521
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(models.FixedIp.virtual_interface_id != None).\,0,0,0.0,522
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(models.FixedIp.instance_id != None).\,0,0,0.0,523
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(network_id=network_id).\,0,0,0.0,524
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('instance')).\,0,0,0.0,525
7bb9e4c598f829a16cc6444346e087ddb506182a,# fixed_ip_get_all_by_network.,0,0,0.0,526
7bb9e4c598f829a16cc6444346e087ddb506182a,"# FIXME(sirp): since this returns fixed_ips, this would be better named",0,0,0.0,527
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(project_or_none).\,0,0,0.0,528
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(models.Network.uuid.in_(network_uuids)).\,0,0,0.0,529
7bb9e4c598f829a16cc6444346e087ddb506182a,models.Network.project_id == None),0,0,0.0,530
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(uuid=uuid).\,0,0,0.0,531
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.sum(models.Instance.memory_mb),",0,0,0.0,532
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.sum(models.Instance.vcpus),",0,0,0.0,533
7bb9e4c598f829a16cc6444346e087ddb506182a,"session=session, read_deleted=""no"").\",0,0,0.0,534
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Service,",0,0,0.0,535
7bb9e4c598f829a16cc6444346e087ddb506182a,"filter_by(topic=""compute"").\",0,0,0.0,536
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('compute_node')).\,0,0,0.0,537
7bb9e4c598f829a16cc6444346e087ddb506182a,first(),0,0,0.0,538
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(host=host).\,0,0,0.0,539
7bb9e4c598f829a16cc6444346e087ddb506182a,all(),0,0,0.0,540
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(topic=topic).\,0,0,0.0,541
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(disabled=False).\,0,0,0.0,542
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Service, read_deleted=""no"").\",0,0,0.0,543
7bb9e4c598f829a16cc6444346e087ddb506182a,return query,0,0,0.0,544
7bb9e4c598f829a16cc6444346e087ddb506182a,"_(""Unrecognized read_deleted value '%s'"") % read_deleted)",0,0,0.0,545
7bb9e4c598f829a16cc6444346e087ddb506182a,else:,0,0,0.0,546
7bb9e4c598f829a16cc6444346e087ddb506182a,elif read_deleted == 'only':,0,0,0.0,547
7bb9e4c598f829a16cc6444346e087ddb506182a,pass  # omit the filter to include deleted and active,0,0,0.0,548
7bb9e4c598f829a16cc6444346e087ddb506182a,elif read_deleted == 'yes':,0,0,0.0,549
7bb9e4c598f829a16cc6444346e087ddb506182a,"""""""",0,0,0.0,550
7bb9e4c598f829a16cc6444346e087ddb506182a,query to match the context's project_id.,0,0,0.0,551
7bb9e4c598f829a16cc6444346e087ddb506182a,:param context: context to query under,0,0,0.0,552
7bb9e4c598f829a16cc6444346e087ddb506182a,"""""""Query helper that accounts for context's `read_deleted` field.",0,0,0.0,553
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.coalesce(sort_value, 0),",0,0,0.0,554
7bb9e4c598f829a16cc6444346e087ddb506182a,"outerjoin((subq, models.Service.host == subq.c.host)).\",0,0,0.0,555
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.count(models.Instance.id),",0,0,0.0,556
7bb9e4c598f829a16cc6444346e087ddb506182a,order_by(sort_value).\,0,0,0.0,557
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('fixed_ips')),0,0,0.0,558
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.VirtualInterface, session=session,",0,0,0.0,559
7bb9e4c598f829a16cc6444346e087ddb506182a,@require_context,0,0,0.0,560
7bb9e4c598f829a16cc6444346e087ddb506182a,# NOTE(sirp): shouldn't we just use project_only here to restrict the,0,0,0.0,561
7bb9e4c598f829a16cc6444346e087ddb506182a,# results?,0,0,0.0,562
7bb9e4c598f829a16cc6444346e087ddb506182a,# FIXME(sirp): shouldn't we just use project_only here to restrict the,0,0,0.0,563
7bb9e4c598f829a16cc6444346e087ddb506182a,"read_deleted=""yes"").\",0,0,0.0,564
7bb9e4c598f829a16cc6444346e087ddb506182a,"read_deleted=""no"").\",0,0,0.0,565
7bb9e4c598f829a16cc6444346e087ddb506182a,return _floating_ip_get_all(context).\,0,0,0.0,566
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('fixed_ip.instance')),0,0,0.0,567
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.FloatingIp, read_deleted=""no"").\",0,0,0.0,568
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=id).\,0,0,0.0,569
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('fixed_ip.instance')).\,0,0,0.0,570
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('fixed_ip')).\,0,0,0.0,571
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Certificate, read_deleted=""no"").\",0,0,0.0,572
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.ComputeNode, session=session).\",0,0,0.0,573
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.sum(models.Volume.size).label(label),",0,0,0.0,574
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.count(models.Network.id).label(label),",0,0,0.0,575
7bb9e4c598f829a16cc6444346e087ddb506182a,"func.sum(models.Instance.vcpus).label(label),",0,0,0.0,576
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('volume_metadata')).\,0,0,0.0,577
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('volume_type')),0,0,0.0,578
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=volume_id).\,0,0,0.0,579
7bb9e4c598f829a16cc6444346e087ddb506182a,"model_query(context, models.AgentBuild, session=session,",0,0,0.0,580
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.AgentBuild, session=session,",0,0,0.0,581
7bb9e4c598f829a16cc6444346e087ddb506182a,"context, instance_id, session=session).\",0,0,0.0,582
7bb9e4c598f829a16cc6444346e087ddb506182a,"_instance_metadata_get_query(context, instance_id).\",0,0,0.0,583
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(instance_id=instance_id),0,0,0.0,584
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.InstanceMetadata, session=session,",0,0,0.0,585
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Zone, read_deleted=""yes"").all()",0,0,0.0,586
7bb9e4c598f829a16cc6444346e087ddb506182a,"_zone_get_by_id_query(context, zone_id, session=session).\",0,0,0.0,587
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=zone_id),0,0,0.0,588
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Zone, session=session).\",0,0,0.0,589
7bb9e4c598f829a16cc6444346e087ddb506182a,# FIXME(sirp): this should update deleted_at and updated_at as well,0,0,0.0,590
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(name=name),0,0,0.0,591
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(flavorid=flavor_id).\,0,0,0.0,592
7bb9e4c598f829a16cc6444346e087ddb506182a,return _dict_with_extra_specs(result),0,0,0.0,593
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('extra_specs')),0,0,0.0,594
7bb9e4c598f829a16cc6444346e087ddb506182a,read_deleted=read_deleted).\,0,0,0.0,595
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.InstanceTypes, session=session,",0,0,0.0,596
7bb9e4c598f829a16cc6444346e087ddb506182a,##################,0,0,0.0,597
7bb9e4c598f829a16cc6444346e087ddb506182a,"console_id=console_id, instance_id=instance_id)",0,0,0.0,598
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('pool')),0,0,0.0,599
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.AgentBuild, read_deleted=""no"").\",0,0,0.0,600
7bb9e4c598f829a16cc6444346e087ddb506182a,"session=session, read_deleted=""yes"").\",0,0,0.0,601
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Console, read_deleted=""yes"").\",0,0,0.0,602
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=agent_build_id).\,0,0,0.0,603
7bb9e4c598f829a16cc6444346e087ddb506182a,return _vsa_get_query(context).all(),0,0,0.0,604
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=vsa_id).\,0,0,0.0,605
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload('vsa_instance_type')),0,0,0.0,606
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.VirtualStorageArray, session=session,",0,0,0.0,607
7bb9e4c598f829a16cc6444346e087ddb506182a,####################,0,0,0.0,608
7bb9e4c598f829a16cc6444346e087ddb506182a,"extra_specs_key=key, volume_type_id=volume_type_id)",0,0,0.0,609
7bb9e4c598f829a16cc6444346e087ddb506182a,"context, volume_type_id, session=session).\",0,0,0.0,610
7bb9e4c598f829a16cc6444346e087ddb506182a,"_volume_type_extra_specs_query(context, volume_type_id).\",0,0,0.0,611
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(volume_type_id=volume_type_id),0,0,0.0,612
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.VolumeTypeExtraSpecs, session=session,",0,0,0.0,613
7bb9e4c598f829a16cc6444346e087ddb506182a,# FIXME(sirp): we should be setting deleted_at and updated_at here,0,0,0.0,614
7bb9e4c598f829a16cc6444346e087ddb506182a,"# is repeated quite a bit, might be worth creating a method for it",0,0,0.0,615
7bb9e4c598f829a16cc6444346e087ddb506182a,"extra_specs_key=key, instance_type_id=instance_type_id)",0,0,0.0,616
7bb9e4c598f829a16cc6444346e087ddb506182a,"context, instance_type_id, session=session).\",0,0,0.0,617
7bb9e4c598f829a16cc6444346e087ddb506182a,_instance_type_extra_specs_get_query(,0,0,0.0,618
7bb9e4c598f829a16cc6444346e087ddb506182a,"context, instance_type_id).\",0,0,0.0,619
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(instance_type_id=instance_type_id),0,0,0.0,620
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.InstanceTypeExtraSpecs,",0,0,0.0,621
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.BandwidthUsage, read_deleted=""yes"").\",0,0,0.0,622
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=console_id).\,0,0,0.0,623
7bb9e4c598f829a16cc6444346e087ddb506182a,"pool_id=pool_id, instance_id=instance_id)",0,0,0.0,624
7bb9e4c598f829a16cc6444346e087ddb506182a,return _volume_get_query(context).all(),0,0,0.0,625
7bb9e4c598f829a16cc6444346e087ddb506182a,project_only=False):,0,0,0.0,626
7bb9e4c598f829a16cc6444346e087ddb506182a,return _block_device_mapping_get_query(context).\,0,0,0.0,627
7bb9e4c598f829a16cc6444346e087ddb506182a,'updated_at': literal_column('updated_at')}),0,0,0.0,628
7bb9e4c598f829a16cc6444346e087ddb506182a,"'deleted_at': utils.utcnow(),",0,0,0.0,629
7bb9e4c598f829a16cc6444346e087ddb506182a,"update({'deleted': True,",0,0,0.0,630
7bb9e4c598f829a16cc6444346e087ddb506182a,values['device_name']).\,0,0,0.0,631
7bb9e4c598f829a16cc6444346e087ddb506182a,filter(models.BlockDeviceMapping.device_name !=,0,0,0.0,632
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(virtual_name=virtual_name).\,0,0,0.0,633
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(instance_id=values['instance_id']).\,0,0,0.0,634
7bb9e4c598f829a16cc6444346e087ddb506182a,"_block_device_mapping_get_query(context, session=session).\",0,0,0.0,635
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.BlockDeviceMapping, session=session,",0,0,0.0,636
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Snapshot).\",0,0,0.0,637
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Snapshot).all()",0,0,0.0,638
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=snapshot_id).\,0,0,0.0,639
7bb9e4c598f829a16cc6444346e087ddb506182a,"_volume_metadata_get_query(context, volume_id).\",0,0,0.0,640
7bb9e4c598f829a16cc6444346e087ddb506182a,for row in rows:,0,0,0.0,641
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(volume_id=volume_id),0,0,0.0,642
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.VolumeMetadata,",0,0,0.0,643
7bb9e4c598f829a16cc6444346e087ddb506182a,return _volume_get_query(context).filter_by(project_id=project_id).all(),0,0,0.0,644
7bb9e4c598f829a16cc6444346e087ddb506182a,return _volume_get_query(context).filter_by(host=host).all(),0,0,0.0,645
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(volume_id=volume_id).\,0,0,0.0,646
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.SecurityGroup, session=session,",0,0,0.0,647
7bb9e4c598f829a16cc6444346e087ddb506182a,# NOTE(mdragon): consoles are meant to be transient.,0,0,0.0,648
7bb9e4c598f829a16cc6444346e087ddb506182a,"read_deleted=read_deleted, project_only=project_only).\",0,0,0.0,649
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.ConsolePool, read_deleted=""no"").\",0,0,0.0,650
7bb9e4c598f829a16cc6444346e087ddb506182a,compute_host=compute_host),0,0,0.0,651
7bb9e4c598f829a16cc6444346e087ddb506182a,"host=host, console_type=console_type,",0,0,0.0,652
7bb9e4c598f829a16cc6444346e087ddb506182a,"filter_by(status=""FINISHED"").\",0,0,0.0,653
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Migration, session=session,",0,0,0.0,654
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(status=status).\,0,0,0.0,655
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.Project).\",0,0,0.0,656
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.User).all()",0,0,0.0,657
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.ProviderFirewallRule).\",0,0,0.0,658
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.ProviderFirewallRule).all()",0,0,0.0,659
7bb9e4c598f829a16cc6444346e087ddb506182a,"return _security_group_rule_get_query(context, session=session).\",0,0,0.0,660
7bb9e4c598f829a16cc6444346e087ddb506182a,session=session),0,0,0.0,661
7bb9e4c598f829a16cc6444346e087ddb506182a,"return model_query(context, models.SecurityGroupIngressRule,",0,0,0.0,662
7bb9e4c598f829a16cc6444346e087ddb506182a,"return _security_group_get_query(context, read_deleted=""no"").\",0,0,0.0,663
7bb9e4c598f829a16cc6444346e087ddb506182a,"project_id=project_id, security_group_id=group_name)",0,0,0.0,664
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('instances')).\,0,0,0.0,665
7bb9e4c598f829a16cc6444346e087ddb506182a,filter_by(id=security_group_id).\,0,0,0.0,666
7bb9e4c598f829a16cc6444346e087ddb506182a,return _security_group_get_query(context).all(),0,0,0.0,667
7bb9e4c598f829a16cc6444346e087ddb506182a,options(joinedload_all('rules')),0,0,0.0,668
7bb9e4c598f829a16cc6444346e087ddb506182a,return session.query(models.SMVolume).all(),1,0,0.0,669

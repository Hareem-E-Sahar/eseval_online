commit_id,line,line_level_label,count,line_score,row
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.FixedIp).\,1,3,1.0,1
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = _instance_metadata_get_query(,0,2,0.6666666666666666,2
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.KeyPair).\,1,2,0.6666666666666666,3
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = partial.filter_by(id=instance_id),1,2,0.6666666666666666,4
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = result.first(),1,2,0.6666666666666666,5
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = partial.filter_by(uuid=uuid),1,2,0.6666666666666666,6
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = session.query(func.count(models.Instance.id),",1,2,0.6666666666666666,7
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,rv = session.query(models.FixedIp).\,1,2,0.6666666666666666,8
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,fixed_ip_ref = session.query(models.FixedIp).\,1,2,0.6666666666666666,9
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.FloatingIp).\,1,2,0.6666666666666666,10
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = None,1,2,0.6666666666666666,11
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Certificate).\,1,2,0.6666666666666666,12
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.ComputeNode).\,1,2,0.6666666666666666,13
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Service).\,1,2,0.6666666666666666,14
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _sm_volume_get_query(context, volume_id).first()",0,2,0.6666666666666666,15
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _sm_flavor_get_query(context, sm_flavor_label).first()",0,2,0.6666666666666666,16
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.SMBackendConf, read_deleted=""yes"").\",0,2,0.6666666666666666,17
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.S3Image, read_deleted=""yes"").\",0,2,0.6666666666666666,18
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _vsa_get_query(context, session=session, project_only=True).\",0,2,0.6666666666666666,19
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = _volume_type_extra_specs_query(,0,2,0.6666666666666666,20
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.VolumeTypes, read_deleted=""yes"").\",0,2,0.6666666666666666,21
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Network).\,1,2,0.6666666666666666,22
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Quota).\,1,2,0.6666666666666666,23
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = {'project_id': project_id},1,2,0.6666666666666666,24
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Console).\,1,2,0.6666666666666666,25
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Service, session=session).\",0,2,0.6666666666666666,26
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.SMVolume).filter_by(id=volume_id).first(),1,2,0.6666666666666666,27
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.SMFlavors).filter_by(label=sm_flavor),1,2,0.6666666666666666,28
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.SMBackendConf).filter_by(sr_uuid=sr_uuid),1,2,0.6666666666666666,29
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.SMBackendConf).\,1,2,0.6666666666666666,30
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.VirtualStorageArray).\,1,2,0.6666666666666666,31
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Zone).filter_by(id=zone_id).first(),1,2,0.6666666666666666,32
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = query.options(joinedload('pool')).first(),1,2,0.6666666666666666,33
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.ConsolePool).\,1,2,0.6666666666666666,34
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = session.query(func.count(models.Volume.id),",1,2,0.6666666666666666,35
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Migration).\,1,2,0.6666666666666666,36
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Project).\,1,2,0.6666666666666666,37
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.User).\,1,2,0.6666666666666666,38
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.SecurityGroupIngressRule).\,1,2,0.6666666666666666,39
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.SecurityGroup).\,1,2,0.6666666666666666,40
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Snapshot).\,1,2,0.6666666666666666,41
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.IscsiTarget).\,1,2,0.6666666666666666,42
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.Volume).\,1,2,0.6666666666666666,43
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = _instance_type_extra_specs_get_query(,0,2,0.6666666666666666,44
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = session.query(models.BlockDeviceMapping).\,1,2,0.6666666666666666,45
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _zone_get_by_id_query(context, zone_id).first()",0,2,0.6666666666666666,46
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.FixedIp, read_deleted=""no"").\",0,2,0.6666666666666666,47
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = _network_get_query(context).filter_by(uuid=uuid).first(),0,2,0.6666666666666666,48
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = _network_get_query(context).filter_by(bridge=bridge).first(),0,2,0.6666666666666666,49
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Network, read_deleted=""no"").\",0,2,0.6666666666666666,50
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Network, read_deleted=""no"").all()",0,2,0.6666666666666666,51
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Network, session=session,",0,2,0.6666666666666666,52
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.KeyPair, session=session).\",0,2,0.6666666666666666,53
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _build_instance_get(context, session=session).\",0,2,0.6666666666666666,54
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context,",0,2,0.6666666666666666,55
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.FixedIp, read_deleted=""yes"").\",0,2,0.6666666666666666,56
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.AuthToken, session=session).\",0,2,0.6666666666666666,57
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.FixedIp, session=session,",0,2,0.6666666666666666,58
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.FloatingIp, session=session).\",0,2,0.6666666666666666,59
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.FloatingIp, project_only=True).\",0,2,0.6666666666666666,60
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Certificate, session=session).\",0,2,0.6666666666666666,61
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.ComputeNode, session=session).\",0,2,0.6666666666666666,62
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Service).\",0,2,0.6666666666666666,63
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Service, read_deleted=""no"").\",0,2,0.6666666666666666,64
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _instance_type_get_query(context, read_deleted=""yes"").\",0,2,0.6666666666666666,65
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = _network_get_query(context).\,0,2,0.6666666666666666,66
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.FixedIp, session=session).\",0,2,0.6666666666666666,67
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Quota, session=session,",0,2,0.6666666666666666,68
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _security_group_get_query(context, session=session,",0,2,0.6666666666666666,69
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = query.first(),0,2,0.6666666666666666,70
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = {'project_id': project_id},0,2,0.6666666666666666,71
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Console, read_deleted=""yes"").\",0,2,0.6666666666666666,72
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.ConsolePool, read_deleted=""no"").\",0,2,0.6666666666666666,73
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Migration, read_deleted=""yes"").\",0,2,0.6666666666666666,74
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Migration, session=session,",0,2,0.6666666666666666,75
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.User, session=session).\",0,2,0.6666666666666666,76
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _security_group_rule_get_query(context, session=session).\",0,2,0.6666666666666666,77
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _security_group_get_query(context, read_deleted=""no"").\",0,2,0.6666666666666666,78
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Project, session=session,",0,2,0.6666666666666666,79
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _block_device_mapping_get_query(context, session=session).\",0,2,0.6666666666666666,80
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Snapshot, session=session,",0,2,0.6666666666666666,81
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _volume_metadata_get_query(context, volume_id, session=session).\",0,2,0.6666666666666666,82
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = {},0,2,0.6666666666666666,83
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.IscsiTarget, read_deleted=""yes"").\",0,2,0.6666666666666666,84
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result = _volume_get_query(context).filter_by(id=volume_id).first(),0,2,0.6666666666666666,85
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = _volume_get_query(context, session=session, project_only=True).\",0,2,0.6666666666666666,86
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"result = model_query(context, models.Volume, read_deleted=""no"").\",0,2,0.6666666666666666,87
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,iscsi_target_ref = session.query(models.IscsiTarget).\,1,1,0.3333333333333333,88
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,network_ref = session.query(models.Network).\,1,1,0.3333333333333333,89
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,tk = session.query(models.AuthToken).\,1,1,0.3333333333333333,90
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,rows = session.query(models.Quota).\,1,1,0.3333333333333333,91
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,quotas = session.query(models.Quota).\,1,1,0.3333333333333333,92
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,meta_dict[i['key']] = i['value'],1,1,0.3333333333333333,93
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,meta_results = session.query(models.VolumeMetadata).\,1,1,0.3333333333333333,94
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,meta_dict = {},1,1,0.3333333333333333,95
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return result,1,1,0.3333333333333333,96
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,meta_result = session.query(models.VolumeMetadata).\,1,1,0.3333333333333333,97
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,user = session.query(models.User).\,1,1,0.3333333333333333,98
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,rv = session.query(models.Network).\,1,1,0.3333333333333333,99
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"host_filter = or_(models.Network.host == host,",1,1,0.3333333333333333,100
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vif_ref = session.query(models.VirtualInterface).\,1,1,0.3333333333333333,101
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"network_ref = network_get(context, network_id=network_id, \",1,1,0.3333333333333333,102
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query = session.query(models.Instance).\,1,1,0.3333333333333333,103
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,read_deleted = can_read_deleted(context),1,1,0.3333333333333333,104
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,partial = partial.filter_by(project_id=context.project_id).\,1,1,0.3333333333333333,105
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,partial = partial.filter_by(deleted=can_read_deleted(context)),1,1,0.3333333333333333,106
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,partial = session.query(models.Instance).\,1,1,0.3333333333333333,107
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"partial = _build_instance_get(context, session=session)",1,1,0.3333333333333333,108
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vif_refs = session.query(models.VirtualInterface).\,1,1,0.3333333333333333,109
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,inner_q = session.query(models.Network.id).\,1,1,0.3333333333333333,110
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,floating_ip_refs = session.query(models.FloatingIp).\,1,1,0.3333333333333333,111
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,floating_ip_ref = session.query(models.FloatingIp).\,1,1,0.3333333333333333,112
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,results = session.query(models.Console).\,1,1,0.3333333333333333,113
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"subq = session.query(models.Volume.host,",1,1,0.3333333333333333,114
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,results = session.query(models.Migration).\,1,1,0.3333333333333333,115
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vol_type = session.query(models.VolumeTypes).\,1,1,0.3333333333333333,116
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query = session.query(models.Console).\,1,1,0.3333333333333333,117
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,spec_dict[i['key']] = i['value'],1,1,0.3333333333333333,118
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"subq = session.query(models.Instance.host,",1,1,0.3333333333333333,119
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,sm_volume = session.query(models.SMVolume).filter_by(id=volume_id).first(),1,1,0.3333333333333333,120
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,sm_flavor = session.query(models.SMFlavors).\,1,1,0.3333333333333333,121
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,backend_conf = session.query(models.SMBackendConf).\,1,1,0.3333333333333333,122
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,res = session.query(models.S3Image)\,1,1,0.3333333333333333,123
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,spec_result = session.query(models.VolumeTypeExtraSpecs).\,1,1,0.3333333333333333,124
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,spec_results = session.query(models.VolumeTypeExtraSpecs).\,1,1,0.3333333333333333,125
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,volume_type_ref = session.query(models.VolumeTypes).\,1,1,0.3333333333333333,126
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vol_dict[i['name']] = _dict_with_extra_specs(i),1,1,0.3333333333333333,127
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vol_dict = {},1,1,0.3333333333333333,128
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vol_types = session.query(models.VolumeTypes).\,1,1,0.3333333333333333,129
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,spec_result = session.query(models.InstanceTypeExtraSpecs).\,1,1,0.3333333333333333,130
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,spec_dict = {},1,1,0.3333333333333333,131
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,partial = session.query(models.InstanceTypes)\,1,1,0.3333333333333333,132
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,spec_results = session.query(models.InstanceTypeExtraSpecs).\,1,1,0.3333333333333333,133
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,bwusage = session.query(models.BandwidthUsage).\,1,1,0.3333333333333333,134
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session = session if session else get_session(),1,1,0.3333333333333333,135
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,agent_build_ref = session.query(models.AgentBuild).\,1,1,0.3333333333333333,136
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,meta_result = session.query(models.InstanceMetadata).\,1,1,0.3333333333333333,137
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,meta_results = session.query(models.InstanceMetadata).\,1,1,0.3333333333333333,138
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,zone = session.query(models.Zone).filter_by(id=zone_id).first(),1,1,0.3333333333333333,139
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,instance_type_ref = session.query(models.InstanceTypes).\,1,1,0.3333333333333333,140
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,inst_type = session.query(models.InstanceTypes).\,1,1,0.3333333333333333,141
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"inst_types = partial.order_by(""name"").all()",1,1,0.3333333333333333,142
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,partial = partial.filter(,1,1,0.3333333333333333,143
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,partial = partial.filter_by(deleted=False),1,1,0.3333333333333333,144
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"subq = session.query(models.Network.host,",1,1,0.3333333333333333,145
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.FixedIp).\,1,1,0.3333333333333333,146
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,topic = 'compute',1,1,0.3333333333333333,147
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"iscsi_target_ref = model_query(context, models.IscsiTarget,",0,1,0.3333333333333333,148
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"rows = model_query(context, models.Quota, read_deleted=""no"").\",0,1,0.3333333333333333,149
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"network_ref = _network_get_query(context, session=session).\",0,1,0.3333333333333333,150
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"host_filter = or_(models.Network.host == host,",0,1,0.3333333333333333,151
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"network_ref = network_get(context, network_id=network_id,",0,1,0.3333333333333333,152
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vif_refs = _virtual_interface_query(context).all(),0,1,0.3333333333333333,153
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vif_refs = _virtual_interface_query(context).\,0,1,0.3333333333333333,154
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,vif_ref = _virtual_interface_query(context).\,0,1,0.3333333333333333,155
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"vif_ref = _virtual_interface_query(context, session=session).\",0,1,0.3333333333333333,156
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return result,0,1,0.3333333333333333,157
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"inner_q = model_query(context, models.Network.id, session=session,",0,1,0.3333333333333333,158
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"fixed_ip_ref = model_query(context, models.FixedIp, session=session,",0,1,0.3333333333333333,159
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,floating_ip_refs = _floating_ip_get_all(context).\,0,1,0.3333333333333333,160
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,floating_ip_refs = _floating_ip_get_all(context).all(),0,1,0.3333333333333333,161
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"floating_ip_ref = model_query(context, models.FloatingIp,",0,1,0.3333333333333333,162
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"subq = model_query(context, models.Volume.host,",0,1,0.3333333333333333,163
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"subq = model_query(context, models.Network.host,",0,1,0.3333333333333333,164
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"subq = model_query(context, models.Instance.host,",0,1,0.3333333333333333,165
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(host=host).\,0,1,0.3333333333333333,166
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,all(),0,1,0.3333333333333333,167
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"query = model_query(context, models.Service)",0,1,0.3333333333333333,168
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query = query.filter_by(project_id=context.project_id),0,1,0.3333333333333333,169
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query = query.filter_by(deleted=True),0,1,0.3333333333333333,170
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query = query.filter_by(deleted=False),0,1,0.3333333333333333,171
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query = session.query(*args),0,1,0.3333333333333333,172
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,project_only = kwargs.get('project_only'),0,1,0.3333333333333333,173
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session = kwargs.get('session') or get_session(),0,1,0.3333333333333333,174
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(host=host).\,1,1,0.3333333333333333,175
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"quotas = model_query(context, models.Quota, session=session,",0,1,0.3333333333333333,176
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,read_deleted = kwargs.get('read_deleted') or context.read_deleted,0,1,0.3333333333333333,177
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"rows = _volume_metadata_get_query(context, volume_id).all()",0,1,0.3333333333333333,178
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,rows = _instance_type_extra_specs_get_query(,0,1,0.3333333333333333,179
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result[row['key']] = row['value'],0,1,0.3333333333333333,180
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query = session.query(models.Service).\,1,1,0.3333333333333333,181
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session = get_session(),1,1,0.3333333333333333,182
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"sm_volume = sm_volume_get(context, volume_id)",0,1,0.3333333333333333,183
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"sm_flavor = sm_flavor_get(context, sm_flavor_label)",0,1,0.3333333333333333,184
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"backend_conf = model_query(context, models.SMBackendConf,",0,1,0.3333333333333333,185
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"rows = _volume_type_extra_specs_query(context, volume_type_id).\",0,1,0.3333333333333333,186
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"volume_type_ref = model_query(context, models.VolumeTypes,",0,1,0.3333333333333333,187
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,result[row['name']] = _dict_with_extra_specs(row),0,1,0.3333333333333333,188
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# TODO(sirp): this patern of converting rows to a result with extra_specs,0,1,0.3333333333333333,189
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"rows = model_query(context, models.VolumeTypes,",0,1,0.3333333333333333,190
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filters = filters or {},0,1,0.3333333333333333,191
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,all(),1,1,0.3333333333333333,192
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"bwusage = model_query(context, models.BandwidthUsage,",0,1,0.3333333333333333,193
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"inst_types = query.order_by(""name"").all()",0,1,0.3333333333333333,194
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"query = model_query(context, models.Console, read_deleted=""yes"").\",0,1,0.3333333333333333,195
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"user = model_query(context, models.User).\",0,1,0.3333333333333333,196
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"read_deleted = ""yes"" if inactive else ""no""",0,1,0.3333333333333333,197
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"query = _instance_type_get_query(context, read_deleted=read_deleted)",0,1,0.3333333333333333,198
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query = query.filter(,0,1,0.3333333333333333,199
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"instance_type_ref = model_query(context, models.InstanceTypes,",0,1,0.3333333333333333,200
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"zone = zone_get(context, zone_id)",0,1,0.3333333333333333,201
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"rows = _instance_metadata_get_query(context, instance_id).all()",0,1,0.3333333333333333,202
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"agent_build_ref = model_query(context, models.AgentBuild,",0,1,0.3333333333333333,203
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session = get_session(),0,1,0.3333333333333333,204
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(allocated=False).\,1,0,0.0,205
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.Network).\,1,0,0.0,206
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,count(),1,0,0.0,207
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(network_id=network_id).\,1,0,0.0,208
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(allocated=True).\,1,0,0.0,209
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,models.Network.project_id == None),1,0,0.0,210
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(reserved=False).\,1,0,0.0,211
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(reserved=True).\,1,0,0.0,212
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=network_id).\,1,0,0.0,213
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(deleted=False).all(),1,0,0.0,214
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(models.Network.uuid.in_(network_uuids)).\,1,0,0.0,215
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.KeyPair).\,1,0,0.0,216
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(deleted=read_deleted).\,1,0,0.0,217
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(instance_id=instance_id).\,1,0,0.0,218
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return query.\,1,0,0.0,219
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('instance_type')),1,0,0.0,220
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(project_id=project_id).\,1,0,0.0,221
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return partial,1,0,0.0,222
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('metadata')).\,1,0,0.0,223
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('fixed_ips.network')).\,1,0,0.0,224
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('security_groups')).\,1,0,0.0,225
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('fixed_ips.floating_ips')).\,1,0,0.0,226
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(user_id=user_id).\,1,0,0.0,227
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('instance_type')).\,1,0,0.0,228
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(project_or_none).\,1,0,0.0,229
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.Instance).\,1,0,0.0,230
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def instance_get_all_by_user(context, user_id):",1,0,0.0,231
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.IscsiTarget).\,1,0,0.0,232
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('instance')).\,1,0,0.0,233
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(models.FixedIp.instance_id != None).\,1,0,0.0,234
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.VolumeMetadata).\,1,0,0.0,235
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,func.sum(models.Instance.memory_mb)).\,1,0,0.0,236
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return meta_dict,1,0,0.0,237
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,for i in meta_results:,1,0,0.0,238
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(volume_id=volume_id).\,1,0,0.0,239
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.Volume).\,1,0,0.0,240
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=volume_id).\,1,0,0.0,241
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('volume_type')).\,1,0,0.0,242
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('volume_metadata')).\,1,0,0.0,243
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('instance')).\,1,0,0.0,244
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,func.sum(models.Volume.size)).\,1,0,0.0,245
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def auth_token_create(_context, token):",1,0,0.0,246
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return tk,1,0,0.0,247
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not tk:,1,0,0.0,248
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if session is None:,1,0,0.0,249
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def queue_get_for(_context, topic, physical_node_id):",1,0,0.0,250
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,models.FixedIp.host == host),1,0,0.0,251
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,#             or that have a fixed ip with host set,1,0,0.0,252
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# NOTE(vish): return networks that have host set,1,0,0.0,253
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,with session.begin():,1,0,0.0,254
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def network_get_all_by_instance(_context, instance_id):",1,0,0.0,255
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def network_get_by_instance(_context, instance_id):",1,0,0.0,256
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(uuid=uuid).\,1,0,0.0,257
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(bridge=bridge).\,1,0,0.0,258
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(models.FixedIp.virtual_interface_id != None).\,1,0,0.0,259
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(deleted=False),1,0,0.0,260
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.Service).\,1,0,0.0,261
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.sum(models.Instance.vcpus),",1,0,0.0,262
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_(""No sm_flavor called %(sm_flavor)s"") % locals())",0,0,0.0,263
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return context.read_deleted,1,0,0.0,264
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return False,1,0,0.0,265
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not context:,1,0,0.0,266
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"""""""Indicates if the context has access to deleted objects.""""""",1,0,0.0,267
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,def can_read_deleted(context):,1,0,0.0,268
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.SMVolume, read_deleted=""yes"").all()",0,0,0.0,269
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_(""No sm_volume with id %(volume_id)s"") % locals())",0,0,0.0,270
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_sm_volume_get_query(context, volume_id, session=session).delete()",0,0,0.0,271
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=volume_id),0,0,0.0,272
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.SMVolume, session=session,",0,0,0.0,273
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _sm_volume_get_query(context, volume_id, session=None):",0,0,0.0,274
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.SMFlavors, read_deleted=""yes"").all()",0,0,0.0,275
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def sm_flavor_get(context, sm_flavor_label):",0,0,0.0,276
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('fixed_ips')).\,1,0,0.0,277
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_sm_flavor_get_query(context, sm_flavor_label).delete()",0,0,0.0,278
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(label=sm_flavor_label),0,0,0.0,279
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.SMFlavors, session=session,",0,0,0.0,280
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _sm_flavor_get_query(context, sm_flavor_label, session=None):",0,0,0.0,281
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(sr_uuid=sr_uuid),0,0,0.0,282
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.SMBackendConf, read_deleted=""yes"").\",0,0,0.0,283
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# FIXME(sirp): shouldn't this have a `first()` qualifier attached?,0,0,0.0,284
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"model_query(context, models.SMBackendConf, session=session,",0,0,0.0,285
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# `purge` actually deleting the record?,0,0,0.0,286
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"# FIXME(sirp): for consistency, shouldn't this just mark as deleted with",0,0,0.0,287
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_(""No backend config with id %(sm_backend_id)s"") % locals())",0,0,0.0,288
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return meta_result,1,0,0.0,289
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not session:,1,0,0.0,290
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(deleted=can_read_deleted(context)).\,1,0,0.0,291
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(deleted=can_read_deleted(context)),1,0,0.0,292
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(deleted=False).\,1,0,0.0,293
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return rv,1,0,0.0,294
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not rv:,1,0,0.0,295
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def fixed_ip_disassociate_all_by_timeout(_context, host, time):",1,0,0.0,296
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def fixed_ip_bulk_create(_context, ips):",1,0,0.0,297
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def fixed_ip_create(_context, values):",1,0,0.0,298
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.FloatingIp).\,1,0,0.0,299
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(project_id=context.project_id).\,1,0,0.0,300
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,elif is_user_context(context):,1,0,0.0,301
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=id).\,1,0,0.0,302
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('fixed_ip.instance')).\,1,0,0.0,303
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('fixed_ip')).\,1,0,0.0,304
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if is_admin_context(context):,1,0,0.0,305
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def certificate_get_all_by_user_and_project(_context, user_id, project_id):",1,0,0.0,306
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.Certificate).\,1,0,0.0,307
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.ComputeNode).\,1,0,0.0,308
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,func.sum(models.Volume.size).label(label)).\,1,0,0.0,309
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,func.count(models.Network.id).label(label)).\,1,0,0.0,310
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,func.sum(models.Instance.vcpus).label(label)).\,1,0,0.0,311
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,order_by(sort_value).\,1,0,0.0,312
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"outerjoin((subq, models.Service.host == subq.c.host)).\",1,0,0.0,313
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return session.query(models.Service, func.coalesce(sort_value, 0)).\",1,0,0.0,314
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('compute_node')).\,1,0,0.0,315
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,first(),1,0,0.0,316
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(topic=topic).\,1,0,0.0,317
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(disabled=False).\,1,0,0.0,318
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not meta_result:,1,0,0.0,319
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.SMBackendConf).all(),1,0,0.0,320
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=snapshot_id).\,1,0,0.0,321
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def volume_type_create(_context, values):",1,0,0.0,322
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"VolumeTypeExtraSpecsNotFound(extra_specs_key=key,",1,0,0.0,323
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session=None):,1,0,0.0,324
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.VolumeTypeExtraSpecs).\,1,0,0.0,325
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(volume_type_id=volume_type_id).\,1,0,0.0,326
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _dict_with_extra_specs(vol_type),1,0,0.0,327
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not vol_type:,1,0,0.0,328
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return vol_dict,1,0,0.0,329
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,for i in vol_types:,1,0,0.0,330
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if vol_types:,1,0,0.0,331
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"order_by(""name"").\",1,0,0.0,332
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if inactive:,1,0,0.0,333
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def volume_type_get_all(context, inactive=False, filters={}):",1,0,0.0,334
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return spec_result,1,0,0.0,335
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.Snapshot).\,1,0,0.0,336
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,instance_type_id=instance_type_id),1,0,0.0,337
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"InstanceTypeExtraSpecsNotFound(extra_specs_key=key,",1,0,0.0,338
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.\,1,0,0.0,339
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not spec_result:,1,0,0.0,340
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.InstanceTypeExtraSpecs).\,1,0,0.0,341
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return spec_dict,1,0,0.0,342
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,for i in spec_results:,1,0,0.0,343
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(instance_type_id=instance_type_id).\,1,0,0.0,344
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.BandwidthUsage).\,1,0,0.0,345
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=agent_build_id). \,1,0,0.0,346
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.AgentBuild).\,1,0,0.0,347
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.AgentBuild).\,1,0,0.0,348
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,volume_type_id=volume_type_id),1,0,0.0,349
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,####################,1,0,0.0,350
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('vsa_instance_type')).\,1,0,0.0,351
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=vsa_id).\,1,0,0.0,352
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.SMVolume).\,1,0,0.0,353
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"raise exception.NotFound(_(""No sm_volume with id %(volume_id)s"") \",1,0,0.0,354
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not sm_volume:,1,0,0.0,355
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.SMFlavors).all(),1,0,0.0,356
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,% locals()),1,0,0.0,357
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"raise exception.NotFound(_(""No sm_flavor called %(sm_flavor)s"") \",1,0,0.0,358
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def sm_flavor_get(context, sm_flavor):",1,0,0.0,359
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,delete(),1,0,0.0,360
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(label=sm_flavor_label).\,1,0,0.0,361
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.SMFlavors).\,1,0,0.0,362
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"""%(sm_flavor_id)s"") % locals())",1,0,0.0,363
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"raise exception.NotFound(_(""No sm_flavor with id ""\",1,0,0.0,364
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not sm_flavor:,1,0,0.0,365
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(label=sm_flavor_label),1,0,0.0,366
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=sm_backend_id).\,0,0,0.0,367
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.SMBackendConf).\,1,0,0.0,368
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"""%(sm_backend_id)s"") % locals())",1,0,0.0,369
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"raise exception.NotFound(_(""No backend config with id ""\",1,0,0.0,370
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=sm_backend_id).first(),1,0,0.0,371
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,.filter_by(uuid=image_uuid)\,1,0,0.0,372
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return res,1,0,0.0,373
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not res:,1,0,0.0,374
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,.first(),1,0,0.0,375
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,.filter_by(id=image_id)\,1,0,0.0,376
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.VirtualStorageArray).\,1,0,0.0,377
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.InstanceMetadata).\,1,0,0.0,378
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.Zone).all(),1,0,0.0,379
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=zone_id).\,1,0,0.0,380
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def project_create(_context, values):",1,0,0.0,381
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def user_create(_context, values):",1,0,0.0,382
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.ProviderFirewallRule).\,1,0,0.0,383
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(group_id=security_group_id).\,1,0,0.0,384
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('grantee_group.instances')).\,1,0,0.0,385
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(parent_group_id=security_group_id).\,1,0,0.0,386
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# TODO(vish): Join to group and check for project_id,1,0,0.0,387
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=security_group_rule_id).\,1,0,0.0,388
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,security_group_id=group_name),1,0,0.0,389
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"raise exception.SecurityGroupNotFoundForProject(project_id=project_id,",1,0,0.0,390
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,else:,1,0,0.0,391
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('instances')).\,1,0,0.0,392
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=security_group_id).\,1,0,0.0,393
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"filter_by(deleted=can_read_deleted(context),).\",1,0,0.0,394
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('rules')).\,1,0,0.0,395
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.SecurityGroup).\,1,0,0.0,396
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return [],1,0,0.0,397
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not result:,1,0,0.0,398
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,'updated_at': literal_column('updated_at')}),1,0,0.0,399
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"'deleted_at': utils.utcnow(),",1,0,0.0,400
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"update({'deleted': True,",1,0,0.0,401
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,values['device_name']).\,1,0,0.0,402
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(models.BlockDeviceMapping.device_name !=,1,0,0.0,403
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(virtual_name=virtual_name).\,1,0,0.0,404
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(instance_id=values['instance_id']).\,1,0,0.0,405
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.BlockDeviceMapping).\,1,0,0.0,406
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.User).\,1,0,0.0,407
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.Project).\,1,0,0.0,408
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session.query(models.Zone).\,1,0,0.0,409
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=id).first(),1,0,0.0,410
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.ZoneNotFound(zone_id=zone_id),1,0,0.0,411
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not zone:,1,0,0.0,412
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(name=name),1,0,0.0,413
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(flavorid=flavor_id).\,1,0,0.0,414
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _dict_with_extra_specs(inst_type),1,0,0.0,415
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not inst_type:,1,0,0.0,416
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('extra_specs')).\,1,0,0.0,417
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not inactive:,1,0,0.0,418
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,.options(joinedload('extra_specs')),1,0,0.0,419
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def instance_type_create(_context, values):",1,0,0.0,420
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,##################,1,0,0.0,421
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"raise exception.ConsoleNotFoundForInstance(console_id=console_id,",1,0,0.0,422
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if instance_id:,1,0,0.0,423
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=console_id),1,0,0.0,424
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('pool')).\,1,0,0.0,425
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,instance_id=instance_id),1,0,0.0,426
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"raise exception.ConsoleNotFoundInPoolForInstance(pool_id=pool_id,",1,0,0.0,427
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# consoles are meant to be transient. (mdragon),1,0,0.0,428
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.ConsolePool).\,1,0,0.0,429
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,compute_host=compute_host),1,0,0.0,430
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"console_type=console_type,",1,0,0.0,431
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"raise exception.ConsolePoolNotFoundForHostType(host=host,",1,0,0.0,432
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return results,1,0,0.0,433
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"filter_by(status=""FINISHED"").all()",1,0,0.0,434
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(status=status).first(),1,0,0.0,435
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.NotFound(,0,0,0.0,436
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(instance_id=values['instance_id']).\,0,0,0.0,437
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(uuid=image_uuid).\,0,0,0.0,438
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(project_id=project_id).\,0,0,0.0,439
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(allocated=False).\,0,0,0.0,440
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,count(),0,0,0.0,441
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(allocated=True).\,0,0,0.0,442
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return _network_ips_query(context, network_id).\",0,0,0.0,443
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(network_id=network_id),0,0,0.0,444
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.FixedIp, read_deleted=""no"").\",0,0,0.0,445
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _network_ips_query(context, network_id):",0,0,0.0,446
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Network).count()",0,0,0.0,447
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Network, session=session,",0,0,0.0,448
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.KeyPair, read_deleted=""no"").\",0,0,0.0,449
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(instance_id=instance_id).\,0,0,0.0,450
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return _instance_get_all_query(context, project_only=True).\",0,0,0.0,451
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _instance_get_all_query(context).\,0,0,0.0,452
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=image_id).\,0,0,0.0,453
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _instance_get_all_query(context).filter_by(host=host).all(),0,0,0.0,454
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _instance_get_all_query(context).filter_by(user_id=user_id).all(),0,0,0.0,455
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def instance_get_all_by_user(context, user_id):",0,0,0.0,456
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('instance_type')),0,0,0.0,457
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Instance, project_only=project_only).\",0,0,0.0,458
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _instance_get_all_query(context, project_only=False):",0,0,0.0,459
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Instance).\",0,0,0.0,460
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,project_only=True).\,0,0,0.0,461
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Instance, session=session,",0,0,0.0,462
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=instance_id).\,0,0,0.0,463
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(uuid=uuid).\,0,0,0.0,464
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.sum(models.Instance.memory_mb),",0,0,0.0,465
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(reserved=False).\,0,0,0.0,466
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(reserved=True).\,0,0,0.0,467
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=network_id).\,0,0,0.0,468
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,models.Network.project_id == None),0,0,0.0,469
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('instance')).\,0,0,0.0,470
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,project_only=project_only).\,0,0,0.0,471
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Volume, session=session,",0,0,0.0,472
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _volume_get_query(context, session=None, project_only=False):",0,0,0.0,473
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.sum(models.Volume.size),",0,0,0.0,474
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.count(models.Volume.id),",0,0,0.0,475
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def auth_token_create(context, token):",0,0,0.0,476
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.IscsiTarget).\",0,0,0.0,477
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def queue_get_for(context, topic, physical_node_id):",0,0,0.0,478
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _network_get_query(context).\,0,0,0.0,479
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,models.FixedIp.host == host),0,0,0.0,480
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,#             or that have a fixed ip with host set,0,0,0.0,481
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# NOTE(vish): return networks that have host set,0,0,0.0,482
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def network_get_all_by_instance(context, instance_id):",0,0,0.0,483
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def network_get_by_instance(context, instance_id):",0,0,0.0,484
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"read_deleted=""no"")",0,0,0.0,485
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _network_get_query(context, session=None):",0,0,0.0,486
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(models.FixedIp.virtual_interface_id != None).\,0,0,0.0,487
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(models.FixedIp.instance_id != None).\,0,0,0.0,488
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(network_id=network_id).\,0,0,0.0,489
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('instance')).\,0,0,0.0,490
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# fixed_ip_get_all_by_network.,0,0,0.0,491
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"# FIXME(sirp): since this returns fixed_ips, this would be better named",0,0,0.0,492
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(project_or_none).\,0,0,0.0,493
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(models.Network.uuid.in_(network_uuids)).\,0,0,0.0,494
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.sum(models.Instance.vcpus),",0,0,0.0,495
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.count(models.Instance.id),",0,0,0.0,496
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('fixed_ips')),0,0,0.0,497
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"outerjoin((subq, models.Service.host == subq.c.host)).\",0,0,0.0,498
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.coalesce(sort_value, 0),",0,0,0.0,499
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Service,",0,0,0.0,500
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"filter_by(topic=""compute"").\",0,0,0.0,501
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('compute_node')).\,0,0,0.0,502
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,first(),0,0,0.0,503
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(topic=topic).\,0,0,0.0,504
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(disabled=False).\,0,0,0.0,505
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Service, read_deleted=""no"").\",0,0,0.0,506
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return query,0,0,0.0,507
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if project_only and is_user_context(context):,0,0,0.0,508
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_(""Unrecognized read_deleted value '%s'"") % read_deleted)",0,0,0.0,509
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise Exception(,0,0,0.0,510
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,else:,0,0,0.0,511
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,elif read_deleted == 'only':,0,0,0.0,512
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,pass  # omit the filter to include deleted and active,0,0,0.0,513
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,elif read_deleted == 'yes':,0,0,0.0,514
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if read_deleted == 'no':,0,0,0.0,515
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"""""""",0,0,0.0,516
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,query to match the context's project_id.,0,0,0.0,517
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,":param project_only: if present and context is user-type, then restrict",0,0,0.0,518
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,":param read_deleted: if present, overrides context's read_deleted field.",0,0,0.0,519
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,":param session: if present, the session to use",0,0,0.0,520
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,:param context: context to query under,0,0,0.0,521
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"""""""Query helper that accounts for context's `read_deleted` field.",0,0,0.0,522
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def model_query(context, *args, **kwargs):",0,0,0.0,523
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"session=session, read_deleted=""no"").\",0,0,0.0,524
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,order_by(sort_value).\,0,0,0.0,525
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.VirtualInterface, session=session,",0,0,0.0,526
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.sum(models.Instance.vcpus).label(label),",0,0,0.0,527
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _virtual_interface_query(context, session=None):",0,0,0.0,528
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,@require_context,0,0,0.0,529
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not result:,0,0,0.0,530
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# NOTE(sirp): shouldn't we just use project_only here to restrict the,0,0,0.0,531
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# results?,0,0,0.0,532
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# FIXME(sirp): shouldn't we just use project_only here to restrict the,0,0,0.0,533
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"read_deleted=""yes"").\",0,0,0.0,534
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def fixed_ip_disassociate_all_by_timeout(context, host, time):",0,0,0.0,535
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def fixed_ip_bulk_create(context, ips):",0,0,0.0,536
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def fixed_ip_create(context, values):",0,0,0.0,537
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"read_deleted=""no"").\",0,0,0.0,538
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.FloatingIp, session=session).\",0,0,0.0,539
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _floating_ip_get_all(context).\,0,0,0.0,540
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('fixed_ip.instance')),0,0,0.0,541
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,def _floating_ip_get_all(context):,0,0,0.0,542
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,@require_admin_context,0,0,0.0,543
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.FloatingIp, read_deleted=""no"").\",0,0,0.0,544
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=id).\,0,0,0.0,545
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('fixed_ip.instance')).\,0,0,0.0,546
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('fixed_ip')).\,0,0,0.0,547
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def certificate_get_all_by_user_and_project(context, user_id, project_id):",0,0,0.0,548
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Certificate, read_deleted=""no"").\",0,0,0.0,549
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.ComputeNode, session=session).\",0,0,0.0,550
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.sum(models.Volume.size).label(label),",0,0,0.0,551
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"func.count(models.Network.id).label(label),",0,0,0.0,552
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('volume_metadata')).\,0,0,0.0,553
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('volume_type')),0,0,0.0,554
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=volume_id).\,0,0,0.0,555
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if not session:,0,0,0.0,556
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=agent_build_id).\,0,0,0.0,557
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"session=session, read_deleted=""yes"").\",0,0,0.0,558
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"model_query(context, models.AgentBuild, session=session,",0,0,0.0,559
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.AgentBuild, read_deleted=""no"").\",0,0,0.0,560
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.AgentBuild, session=session,",0,0,0.0,561
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"context, instance_id, session=session).\",0,0,0.0,562
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_instance_metadata_get_query(context, instance_id).\",0,0,0.0,563
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(instance_id=instance_id),0,0,0.0,564
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.InstanceMetadata, session=session,",0,0,0.0,565
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _instance_metadata_get_query(context, instance_id, session=None):",0,0,0.0,566
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Zone, read_deleted=""yes"").all()",0,0,0.0,567
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_zone_get_by_id_query(context, zone_id, session=session).\",0,0,0.0,568
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=zone_id),0,0,0.0,569
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Zone, session=session).\",0,0,0.0,570
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _zone_get_by_id_query(context, zone_id, session=None):",0,0,0.0,571
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# FIXME(sirp): this should update deleted_at and updated_at as well,0,0,0.0,572
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(name=name),0,0,0.0,573
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(flavorid=flavor_id).\,0,0,0.0,574
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _dict_with_extra_specs(result),0,0,0.0,575
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('extra_specs')),0,0,0.0,576
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,read_deleted=read_deleted).\,0,0,0.0,577
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.InstanceTypes, session=session,",0,0,0.0,578
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _instance_type_get_query(context, session=None, read_deleted=None):",0,0,0.0,579
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def instance_type_create(context, values):",0,0,0.0,580
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,##################,0,0,0.0,581
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.BandwidthUsage, read_deleted=""yes"").\",0,0,0.0,582
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _instance_type_extra_specs_get_query(context, instance_type_id,",0,0,0.0,583
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.ConsoleNotFoundForInstance(,0,0,0.0,584
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session=None):,0,0,0.0,585
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _vsa_get_query(context).filter_by(project_id=project_id).all(),0,0,0.0,586
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _vsa_get_query(context).all(),0,0,0.0,587
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=vsa_id).\,0,0,0.0,588
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('vsa_instance_type')),0,0,0.0,589
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.VirtualStorageArray, session=session,",0,0,0.0,590
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _vsa_get_query(context, session=None, project_only=False):",0,0,0.0,591
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,####################,0,0,0.0,592
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"extra_specs_key=key, volume_type_id=volume_type_id)",0,0,0.0,593
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.VolumeTypeExtraSpecsNotFound(,0,0,0.0,594
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"context, volume_type_id, session=session).\",0,0,0.0,595
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_volume_type_extra_specs_query(context, volume_type_id).\",0,0,0.0,596
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(volume_type_id=volume_type_id),0,0,0.0,597
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.VolumeTypeExtraSpecs, session=session,",0,0,0.0,598
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _volume_type_extra_specs_query(context, volume_type_id, session=None):",0,0,0.0,599
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# FIXME(sirp): we should be setting deleted_at and updated_at here,0,0,0.0,600
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"# is repeated quite a bit, might be worth creating a method for it",0,0,0.0,601
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def volume_type_get_all(context, inactive=False, filters=None):",0,0,0.0,602
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def volume_type_create(context, values):",0,0,0.0,603
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"extra_specs_key=key, instance_type_id=instance_type_id)",0,0,0.0,604
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.InstanceTypeExtraSpecsNotFound(,0,0,0.0,605
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"context, instance_type_id, session=session).\",0,0,0.0,606
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,_instance_type_extra_specs_get_query(,0,0,0.0,607
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"context, instance_type_id).\",0,0,0.0,608
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(instance_type_id=instance_type_id),0,0,0.0,609
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.InstanceTypeExtraSpecs,",0,0,0.0,610
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"console_id=console_id, instance_id=instance_id)",0,0,0.0,611
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,if instance_id is not None:,0,0,0.0,612
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _volume_get_query(context).all(),0,0,0.0,613
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _security_group_get_query(context).all(),0,0,0.0,614
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"read_deleted=read_deleted, project_only=project_only).\",0,0,0.0,615
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.SecurityGroup, session=session,",0,0,0.0,616
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,project_only=False):,0,0,0.0,617
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _security_group_get_query(context, session=None, read_deleted=None,",0,0,0.0,618
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(volume_id=volume_id).\,0,0,0.0,619
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _block_device_mapping_get_query(context).\,0,0,0.0,620
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,'updated_at': literal_column('updated_at')}),0,0,0.0,621
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"'deleted_at': utils.utcnow(),",0,0,0.0,622
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"update({'deleted': True,",0,0,0.0,623
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,values['device_name']).\,0,0,0.0,624
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter(models.BlockDeviceMapping.device_name !=,0,0,0.0,625
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(virtual_name=virtual_name).\,0,0,0.0,626
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_block_device_mapping_get_query(context, session=session).\",0,0,0.0,627
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.BlockDeviceMapping, session=session,",0,0,0.0,628
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _block_device_mapping_get_query(context, session=None):",0,0,0.0,629
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Snapshot).\",0,0,0.0,630
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Snapshot).all()",0,0,0.0,631
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=snapshot_id).\,0,0,0.0,632
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"_volume_metadata_get_query(context, volume_id).\",0,0,0.0,633
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,for row in rows:,0,0,0.0,634
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(volume_id=volume_id),0,0,0.0,635
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.VolumeMetadata,",0,0,0.0,636
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _volume_metadata_get_query(context, volume_id, session=None):",0,0,0.0,637
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _volume_get_query(context).filter_by(project_id=project_id).all(),0,0,0.0,638
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return _volume_get_query(context).filter_by(host=host).all(),0,0,0.0,639
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('rules')),0,0,0.0,640
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=security_group_id).\,0,0,0.0,641
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload('pool')),0,0,0.0,642
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,options(joinedload_all('instances')).\,0,0,0.0,643
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(id=console_id).\,0,0,0.0,644
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Console, read_deleted=""yes"").\",0,0,0.0,645
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"pool_id=pool_id, instance_id=instance_id)",0,0,0.0,646
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.ConsoleNotFoundInPoolForInstance(,0,0,0.0,647
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,# NOTE(mdragon): consoles are meant to be transient.,0,0,0.0,648
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.ConsolePool, read_deleted=""no"").\",0,0,0.0,649
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,compute_host=compute_host),0,0,0.0,650
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"host=host, console_type=console_type,",0,0,0.0,651
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.ConsolePoolNotFoundForHostType(,0,0,0.0,652
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"filter_by(status=""FINISHED"").\",0,0,0.0,653
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Migration, session=session,",0,0,0.0,654
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,filter_by(status=status).\,0,0,0.0,655
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.Project).\",0,0,0.0,656
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def project_create(context, values):",0,0,0.0,657
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.User).all()",0,0,0.0,658
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def user_create(context, values):",0,0,0.0,659
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.ProviderFirewallRule).\",0,0,0.0,660
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.ProviderFirewallRule).all()",0,0,0.0,661
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return _security_group_rule_get_query(context, session=session).\",0,0,0.0,662
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,session=session),0,0,0.0,663
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return model_query(context, models.SecurityGroupIngressRule,",0,0,0.0,664
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"def _security_group_rule_get_query(context, session=None):",0,0,0.0,665
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"return _security_group_get_query(context, read_deleted=""no"").\",0,0,0.0,666
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,"project_id=project_id, security_group_id=group_name)",0,0,0.0,667
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,raise exception.SecurityGroupNotFoundForProject(,0,0,0.0,668
2714b2df0d21ecb08966c4d145d2d75fa1bb201d,return session.query(models.SMVolume).all(),1,0,0.0,669

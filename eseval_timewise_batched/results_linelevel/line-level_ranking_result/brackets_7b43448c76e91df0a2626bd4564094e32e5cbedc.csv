commit_id,line,line_level_label,count,line_score,row
7b43448c76e91df0a2626bd4564094e32e5cbedc,"{ className : Dialogs.DIALOG_BTN_CLASS_NORMAL, id: Dialogs.DIALOG_BTN_CANCEL, text: Strings.CANCEL },",0,7,1.0,1
7b43448c76e91df0a2626bd4564094e32e5cbedc,"{ className : Dialogs.DIALOG_BTN_CLASS_NORMAL, id: Dialogs.DIALOG_BTN_CANCEL, text: Strings.CANCEL },",1,7,1.0,2
7b43448c76e91df0a2626bd4564094e32e5cbedc,"{ className : Dialogs.DIALOG_BTN_CLASS_PRIMARY, id: Dialogs.DIALOG_BTN_OK, text: Strings.OK }",0,6,0.8571428571428571,3
7b43448c76e91df0a2626bd4564094e32e5cbedc,"{ className : Dialogs.DIALOG_BTN_CLASS_PRIMARY, id: Dialogs.DIALOG_BTN_OK, text: Strings.OK }",1,6,0.8571428571428571,4
7b43448c76e91df0a2626bd4564094e32e5cbedc,} else {,0,1,0.14285714285714285,5
7b43448c76e91df0a2626bd4564094e32e5cbedc,return files.filter(function (f) {,1,1,0.14285714285714285,6
7b43448c76e91df0a2626bd4564094e32e5cbedc,"function filterFileList(compiledFilter, files) {",1,1,0.14285714285714285,7
7b43448c76e91df0a2626bd4564094e32e5cbedc,if (!compiledFilter) {,1,1,0.14285714285714285,8
7b43448c76e91df0a2626bd4564094e32e5cbedc,function createFilterPicker() {,1,1,0.14285714285714285,9
7b43448c76e91df0a2626bd4564094e32e5cbedc,newFilter = newFilter.filter(function (glob) {,1,1,0.14285714285714285,10
7b43448c76e91df0a2626bd4564094e32e5cbedc,if (buttonId === Dialogs.DIALOG_BTN_OK) {,1,1,0.14285714285714285,11
7b43448c76e91df0a2626bd4564094e32e5cbedc,dialog.done(function (buttonId) {,1,1,0.14285714285714285,12
7b43448c76e91df0a2626bd4564094e32e5cbedc,function editFilter(filter) {,1,1,0.14285714285714285,13
7b43448c76e91df0a2626bd4564094e32e5cbedc,function createFilterPicker(contextPromise) {,0,1,0.14285714285714285,14
7b43448c76e91df0a2626bd4564094e32e5cbedc,if (context) {,0,1,0.14285714285714285,15
7b43448c76e91df0a2626bd4564094e32e5cbedc,"function filterPath(compiledFilter, fullPath) {",1,1,0.14285714285714285,16
7b43448c76e91df0a2626bd4564094e32e5cbedc,if (filter.length) {,0,1,0.14285714285714285,17
7b43448c76e91df0a2626bd4564094e32e5cbedc,function getValue() {,0,1,0.14285714285714285,18
7b43448c76e91df0a2626bd4564094e32e5cbedc,context.promise.done(function (files) {,0,1,0.14285714285714285,19
7b43448c76e91df0a2626bd4564094e32e5cbedc,if (!compiledFilter) {,0,1,0.14285714285714285,20
7b43448c76e91df0a2626bd4564094e32e5cbedc,return files.filter(function (f) {,0,1,0.14285714285714285,21
7b43448c76e91df0a2626bd4564094e32e5cbedc,"function editFilter(filter, context) {",0,1,0.14285714285714285,22
7b43448c76e91df0a2626bd4564094e32e5cbedc,"function filterFileList(compiledFilter, files) {",0,1,0.14285714285714285,23
7b43448c76e91df0a2626bd4564094e32e5cbedc,return newFilter.filter(function (glob) {,0,1,0.14285714285714285,24
7b43448c76e91df0a2626bd4564094e32e5cbedc,dialog.done(function (buttonId) {,0,1,0.14285714285714285,25
7b43448c76e91df0a2626bd4564094e32e5cbedc,if (buttonId === Dialogs.DIALOG_BTN_OK) {,0,1,0.14285714285714285,26
7b43448c76e91df0a2626bd4564094e32e5cbedc,function updateFileCount() {,0,1,0.14285714285714285,27
7b43448c76e91df0a2626bd4564094e32e5cbedc,"function filterPath(compiledFilter, fullPath) {",0,1,0.14285714285714285,28
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var newFilter = dialog.getElement().find("".exclusions-editor"").val().split(""\n"");",1,0,0.0,29
7b43448c76e91df0a2626bd4564094e32e5cbedc,*/,1,0,0.0,30
7b43448c76e91df0a2626bd4564094e32e5cbedc,"dialog.getElement().find("".exclusions-editor"").val(filter.join(""\n"")).focus();",1,0,0.0,31
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var dialog = Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_INFO, Strings.FILE_FILTER_DIALOG, html, buttons);",1,0,0.0,32
7b43448c76e91df0a2626bd4564094e32e5cbedc,];,1,0,0.0,33
7b43448c76e91df0a2626bd4564094e32e5cbedc,var buttons = [,1,0,0.0,34
7b43448c76e91df0a2626bd4564094e32e5cbedc,"""<textarea class='exclusions-editor'></textarea>"";",1,0,0.0,35
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var html = StringUtils.format(Strings.FILE_FILTER_INSTRUCTIONS, brackets.config.glob_help_url) +",1,0,0.0,36
7b43448c76e91df0a2626bd4564094e32e5cbedc,var lastFocus = window.document.activeElement;,1,0,0.0,37
7b43448c76e91df0a2626bd4564094e32e5cbedc,"editFilter(getLastFilter(), contextPromise)",0,0,0.0,38
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @return {!$.Promise} Dialog box promise,1,0,0.0,39
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @param {!Array.<string>} filter,1,0,0.0,40
7b43448c76e91df0a2626bd4564094e32e5cbedc,"* reflect the edits. If the dialog was canceled, the preference is left unchanged.",1,0,0.0,41
7b43448c76e91df0a2626bd4564094e32e5cbedc,"* Opens a dialog box to edit the given filter. When editing is finished, the value of getLastFilter() changes to",1,0,0.0,42
7b43448c76e91df0a2626bd4564094e32e5cbedc,/**,1,0,0.0,43
7b43448c76e91df0a2626bd4564094e32e5cbedc,"* @param {?{label:string, promise:$.Promise}} context Info on files filter will apply to - see editFilter()",0,0,0.0,44
7b43448c76e91df0a2626bd4564094e32e5cbedc,return dialog.getPromise();,0,0,0.0,45
7b43448c76e91df0a2626bd4564094e32e5cbedc,$fileCount.hide();,0,0,0.0,46
7b43448c76e91df0a2626bd4564094e32e5cbedc,updateFileCount();,0,0,0.0,47
7b43448c76e91df0a2626bd4564094e32e5cbedc,return glob.trim().length;,1,0,0.0,48
7b43448c76e91df0a2626bd4564094e32e5cbedc,// Remove blank lines,1,0,0.0,49
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @param {!string} fullPath,1,0,0.0,50
7b43448c76e91df0a2626bd4564094e32e5cbedc,});,1,0,0.0,51
7b43448c76e91df0a2626bd4564094e32e5cbedc,// Update saved filter preference,1,0,0.0,52
7b43448c76e91df0a2626bd4564094e32e5cbedc,return files;,1,0,0.0,53
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @return {!Array.<File>},1,0,0.0,54
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @param {!Array.<File>} files,1,0,0.0,55
7b43448c76e91df0a2626bd4564094e32e5cbedc,* Returns a copy of 'files' filtered to just those that don't match any of the exclusion globs in the filter.,1,0,0.0,56
7b43448c76e91df0a2626bd4564094e32e5cbedc,return !fullPath.match(re);,1,0,0.0,57
7b43448c76e91df0a2626bd4564094e32e5cbedc,var re = new RegExp(compiledFilter);,1,0,0.0,58
7b43448c76e91df0a2626bd4564094e32e5cbedc,return true;,1,0,0.0,59
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @return {boolean},1,0,0.0,60
7b43448c76e91df0a2626bd4564094e32e5cbedc,"$fileCount.html(StringUtils.format(Strings.FILTER_FILE_COUNT_ALL, files.length, context.label));",0,0,0.0,61
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @param {!string} compiledFilter  'Compiled' filter object as returned by compile(),1,0,0.0,62
7b43448c76e91df0a2626bd4564094e32e5cbedc,*,1,0,0.0,63
7b43448c76e91df0a2626bd4564094e32e5cbedc,* for much better performance.,1,0,0.0,64
7b43448c76e91df0a2626bd4564094e32e5cbedc,"* if the path does not match any of the globs. If filtering many paths at once, use filterFileList()",1,0,0.0,65
7b43448c76e91df0a2626bd4564094e32e5cbedc,* Returns false if the given path matches any of the exclusion globs in the given filter. Returns true,1,0,0.0,66
7b43448c76e91df0a2626bd4564094e32e5cbedc,editFilter(getLastFilter()),1,0,0.0,67
7b43448c76e91df0a2626bd4564094e32e5cbedc,return dialog.getPromise();,1,0,0.0,68
7b43448c76e91df0a2626bd4564094e32e5cbedc,lastFocus.focus();  // restore focus to old pos,1,0,0.0,69
7b43448c76e91df0a2626bd4564094e32e5cbedc,},1,0,0.0,70
7b43448c76e91df0a2626bd4564094e32e5cbedc,setLastFilter(newFilter);,1,0,0.0,71
7b43448c76e91df0a2626bd4564094e32e5cbedc,"$editField.on(""input"", _.debounce(updateFileCount, 400));",0,0,0.0,72
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var dialog = Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_INFO, Strings.FILE_FILTER_DIALOG, html, buttons);",0,0,0.0,73
7b43448c76e91df0a2626bd4564094e32e5cbedc,"$fileCount.html(StringUtils.format(Strings.FILTER_FILE_COUNT, filtered.length, files.length, context.label));",0,0,0.0,74
7b43448c76e91df0a2626bd4564094e32e5cbedc,"* Opens a dialog box to edit the given filter. When editing is finished, the value of getLastFilter() changes to",0,0,0.0,75
7b43448c76e91df0a2626bd4564094e32e5cbedc,return !f.fullPath.match(re);,0,0,0.0,76
7b43448c76e91df0a2626bd4564094e32e5cbedc,return files;,0,0,0.0,77
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @return {!Array.<File>},0,0,0.0,78
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @param {!Array.<File>} files,0,0,0.0,79
7b43448c76e91df0a2626bd4564094e32e5cbedc,* Returns a copy of 'files' filtered to just those that don't match any of the exclusion globs in the filter.,0,0,0.0,80
7b43448c76e91df0a2626bd4564094e32e5cbedc,return !fullPath.match(re);,0,0,0.0,81
7b43448c76e91df0a2626bd4564094e32e5cbedc,var re = new RegExp(compiledFilter);,0,0,0.0,82
7b43448c76e91df0a2626bd4564094e32e5cbedc,},0,0,0.0,83
7b43448c76e91df0a2626bd4564094e32e5cbedc,return true;,0,0,0.0,84
7b43448c76e91df0a2626bd4564094e32e5cbedc,*/,0,0,0.0,85
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @return {boolean},0,0,0.0,86
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @param {!string} fullPath,0,0,0.0,87
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @param {!string} compiledFilter  'Compiled' filter object as returned by compile(),0,0,0.0,88
7b43448c76e91df0a2626bd4564094e32e5cbedc,*,0,0,0.0,89
7b43448c76e91df0a2626bd4564094e32e5cbedc,* for much better performance.,0,0,0.0,90
7b43448c76e91df0a2626bd4564094e32e5cbedc,"* if the path does not match any of the globs. If filtering many paths at once, use filterFileList()",0,0,0.0,91
7b43448c76e91df0a2626bd4564094e32e5cbedc,* Returns false if the given path matches any of the exclusion globs in the given filter. Returns true,0,0,0.0,92
7b43448c76e91df0a2626bd4564094e32e5cbedc,/**,0,0,0.0,93
7b43448c76e91df0a2626bd4564094e32e5cbedc,"ProjectManager      = require(""project/ProjectManager""),",0,0,0.0,94
7b43448c76e91df0a2626bd4564094e32e5cbedc,});,0,0,0.0,95
7b43448c76e91df0a2626bd4564094e32e5cbedc,"* reflect the edits. If the dialog was canceled, the preference is left unchanged.",0,0,0.0,96
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var filtered = filterFileList(compile(getValue()), files);",0,0,0.0,97
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @param {!Array.<string>} filter,0,0,0.0,98
7b43448c76e91df0a2626bd4564094e32e5cbedc,var filter = getValue();,0,0,0.0,99
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var $fileCount = dialog.getElement().find("".exclusions-filecount"");",0,0,0.0,100
7b43448c76e91df0a2626bd4564094e32e5cbedc,// Code to update the file count readout at bottom of dialog (if context provided),0,0,0.0,101
7b43448c76e91df0a2626bd4564094e32e5cbedc,lastFocus.focus();  // restore focus to old pos,0,0,0.0,102
7b43448c76e91df0a2626bd4564094e32e5cbedc,setLastFilter(getValue());,0,0,0.0,103
7b43448c76e91df0a2626bd4564094e32e5cbedc,// Update saved filter preference,0,0,0.0,104
7b43448c76e91df0a2626bd4564094e32e5cbedc,return glob.trim().length;,0,0,0.0,105
7b43448c76e91df0a2626bd4564094e32e5cbedc,// Remove blank lines,0,0,0.0,106
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var newFilter = $editField.val().split(""\n"");",0,0,0.0,107
7b43448c76e91df0a2626bd4564094e32e5cbedc,"$editField.val(filter.join(""\n"")).focus();",0,0,0.0,108
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var $editField = dialog.getElement().find("".exclusions-editor"");",0,0,0.0,109
7b43448c76e91df0a2626bd4564094e32e5cbedc,];,0,0,0.0,110
7b43448c76e91df0a2626bd4564094e32e5cbedc,var buttons = [,0,0,0.0,111
7b43448c76e91df0a2626bd4564094e32e5cbedc,"""<textarea class='exclusions-editor'></textarea><div class='exclusions-filecount'>"" + Strings.FILTER_COUNTING_FILES + ""</div>"";",0,0,0.0,112
7b43448c76e91df0a2626bd4564094e32e5cbedc,"var html = StringUtils.format(Strings.FILE_FILTER_INSTRUCTIONS, brackets.config.glob_help_url) +",0,0,0.0,113
7b43448c76e91df0a2626bd4564094e32e5cbedc,var lastFocus = window.document.activeElement;,0,0,0.0,114
7b43448c76e91df0a2626bd4564094e32e5cbedc,* @return {!$.Promise} Dialog box promise,0,0,0.0,115
7b43448c76e91df0a2626bd4564094e32e5cbedc,"*          editing UI will indicate how many files are excluded by the filter. Label should be of the form ""in ...""",0,0,0.0,116
7b43448c76e91df0a2626bd4564094e32e5cbedc,"* @param {?{label:string, promise:$.Promise}} context Info on which files the filter will be applied to. If specified,",0,0,0.0,117
7b43448c76e91df0a2626bd4564094e32e5cbedc,return !f.fullPath.match(re);,1,0,0.0,118

commit_id,line,line_level_label,count,line_score,row
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* consider an item that costs 9.99 and has a 50% promotion. To be precise, the offer value is 4.995,",0,15,1.0,1
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* consider an item that costs 9.99 and has a 50% promotion. To be precise, the offer value is 4.995,",0,15,1.0,2
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* sorting for which target items the promotion should be attempted to be applied to first. Default behavior is to,1,13,0.8666666666666667,3
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// item offer. There could be other order offers that are not totalitarian that also qualify.,0,11,0.7333333333333333,4
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* sorting for which qualifier items should be attempted to be used first for a promotion. Default behavior,1,11,0.7333333333333333,5
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param applyToSalePrice - whether or not the Comparator should use the sale price for comparison,1,11,0.7333333333333333,6
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// item offer. There could be other order offers that are not totalitarian that also qualify.,0,11,0.7333333333333333,7
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// item offer. There could be other order offers that are not totalitarian that also qualify.,1,11,0.7333333333333333,8
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* but this may be a strange value to display to the user depending on the currency being used.,0,11,0.7333333333333333,9
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* but this may be a strange value to display to the user depending on the currency being used.,0,11,0.7333333333333333,10
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Calculates the value of the adjustment for both retail and sale prices.,1,10,0.6666666666666666,11
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* It is sometimes problematic to offer percentage-off offers with regards to rounding. For example,",0,10,0.6666666666666666,12
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* It is sometimes problematic to offer percentage-off offers with regards to rounding. For example,",0,10,0.6666666666666666,13
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* If either adjustment is greater than the item value, it will be set to the",1,10,0.6666666666666666,14
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Calculates the value of the adjustment for both retail and sale prices.,1,10,0.6666666666666666,15
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* If either adjustment is greater than the item value, it will be set to the",1,10,0.6666666666666666,16
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// default scale to currency if currency is not null,0,10,0.6666666666666666,17
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// Now, we need to see if there exists a target(s) that is suitable for this qualifier due to",1,10,0.6666666666666666,18
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Returns true if the core processing should still be performed for the passed in offer.,0,10,0.6666666666666666,19
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* will be used as the tie-breaker to determine the order to apply promotions.,1,10,0.6666666666666666,20
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// We need to make sure that this item is either a parent, child, or the same as the qualifier root",0,10,0.6666666666666666,21
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// Now, we need to see if there exists a target(s) that is suitable for this qualifier due to",0,10,0.6666666666666666,22
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// We need to make sure that this item is either a parent, child, or the same as the qualifier root",1,10,0.6666666666666666,23
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(mappedBy = ""fulfillmentGroup"", targetEntity = CandidateFulfillmentGroupOfferImpl.class, cascade = { CascadeType.ALL },",0,9,0.6,24
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(fetch = FetchType.LAZY, targetEntity = TaxDetailImpl.class, cascade = { CascadeType.ALL }, orphanRemoval = true)",1,9,0.6,25
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(mappedBy = ""fulfillmentGroup"", targetEntity = FulfillmentGroupAdjustmentImpl.class, cascade = { CascadeType.ALL },",1,9,0.6,26
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(mappedBy = ""fulfillmentGroup"", targetEntity = CandidateFulfillmentGroupOfferImpl.class, cascade = { CascadeType.ALL },",1,9,0.6,27
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(mappedBy = ""fulfillmentGroup"", targetEntity = FulfillmentGroupFeeImpl.class, cascade = { CascadeType.ALL },",1,9,0.6,28
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(fetch = FetchType.LAZY, targetEntity = TaxDetailImpl.class, cascade = { CascadeType.ALL }, orphanRemoval = true)",0,9,0.6,29
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(mappedBy = ""fulfillmentGroup"", targetEntity = FulfillmentGroupAdjustmentImpl.class, cascade = { CascadeType.ALL },",0,9,0.6,30
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(mappedBy = ""fulfillmentGroup"", targetEntity = FulfillmentGroupFeeImpl.class, cascade = { CascadeType.ALL },",0,9,0.6,31
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// We continue because this could be the first offer and marked as totalitarian, but not as good as an",1,9,0.6,32
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// We continue because this could be the first offer and marked as totalitarian, but not as good as an",0,9,0.6,33
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Return false if a totalitarian offer has already been applied and this order already has,1,9,0.6,34
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* This method makes a good approximation of the promotion value as determining the exact value,1,9,0.6,35
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// We continue because this could be the first offer and marked as totalitarian, but not as good as an",0,9,0.6,36
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param orderOffer a CandidateOrderOffer to apply to an Order,1,8,0.5333333333333333,37
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Returns the rounding mode to use for rounding operations.,1,8,0.5333333333333333,38
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (reason == null && offer != null) {,1,8,0.5333333333333333,39
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (reason == null && offer != null) {,0,8,0.5333333333333333,40
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Gets rid of totalitarian and nonCombinable item offers that can't possibly be applied.,1,8,0.5333333333333333,41
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// the relationship flag. If we are on the last qualifier required for this offer, we want to",1,8,0.5333333333333333,42
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// A totalitarian offer has already been applied or this offer is totalitarian,1,8,0.5333333333333333,43
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// We found a target. Let's save this related order item used as the qualifier in case,1,8,0.5333333333333333,44
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// If the extensionHandler added a quantity element to the map, then return it",0,8,0.5333333333333333,45
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// This will just set to a Money value of zero in the correct currency.,0,8,0.5333333333333333,46
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* If two promotions have the same priority, the one with the highest potential savings",1,8,0.5333333333333333,47
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// the relationship flag. If we are on the last qualifier required for this offer, we want to",0,8,0.5333333333333333,48
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// We want to find the root of the related qualifier so we can appropriately walk the tree later,0,8,0.5333333333333333,49
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// This will just set to a Money value of zero in the correct currency.,0,8,0.5333333333333333,50
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// If the extensionHandler added a savings element to the map, then return it",0,8,0.5333333333333333,51
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Public only for unit testing - not intended to be called,1,7,0.4666666666666667,52
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Remove Totalitarian offers that aren't the first offer.,1,7,0.4666666666666667,53
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"LOG.trace(""Non-Combinable Order Offer Applied with id=["" + orderOffer.getOffer().getId() + ""].  No other order offers can be applied"");",0,7,0.4666666666666667,54
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"LOG.trace(""Non-Combinable Order Offer Applied with id=["" + orderOffer.getOffer().getId() +""].  No other order offers can be applied"");",1,7,0.4666666666666667,55
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"LOG.debug(""Updating value for order adjustment with offer Id "" + offerId + "" to "" +",1,7,0.4666666666666667,56
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(mappedBy = ""fulfillmentGroup"", targetEntity = FulfillmentGroupItemImpl.class, cascade = CascadeType.ALL,",0,7,0.4666666666666667,57
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Returns the scale to use when rounding.,1,7,0.4666666666666667,58
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.,0,7,0.4666666666666667,59
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// actually go ahead and mark the target that we'll be using. Otherwise, we just want to check",1,7,0.4666666666666667,60
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.,1,7,0.4666666666666667,61
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@OneToMany(mappedBy = ""fulfillmentGroup"", targetEntity = FulfillmentGroupItemImpl.class, cascade = CascadeType.ALL,",1,7,0.4666666666666667,62
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// If we didn't find a target, we need to roll back how we marked this item as a qualifier.",1,7,0.4666666666666667,63
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"LOG.debug(""Updating value for order adjustment with offer Id "" + offerId + "" to "" +",0,7,0.4666666666666667,64
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// We have found a qualifier that meets this offer criteria. First, we'll save some state that we",1,7,0.4666666666666667,65
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// actually go ahead and mark the target that we'll be using. Otherwise, we just want to check",0,7,0.4666666666666667,66
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Calculate the number of qualifiers needed that will not receive the promotion.,1,7,0.4666666666666667,67
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* When the {@link Offer#getRequiresRelatedTargetAndQualifiers()} flag is set to true, we must make sure that we",0,7,0.4666666666666667,68
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Calculate the number of qualifiers needed that will not receive the promotion.,0,7,0.4666666666666667,69
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// If we didn't find a target, we need to roll back how we marked this item as a qualifier.",0,7,0.4666666666666667,70
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// We have found a qualifier that meets this offer criteria. First, we'll save some state that we",0,7,0.4666666666666667,71
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* This method determines how much the customer might save using this promotion for the,1,7,0.4666666666666667,72
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* purpose of sorting promotions with the same priority. The assumption is that any possible,1,7,0.4666666666666667,73
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Private method used by applyAdjustments to create an OrderItemAdjustment from a CandidateOrderOffer,1,7,0.4666666666666667,74
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* The adjustment might not be better than the sale price.,1,7,0.4666666666666667,75
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// A nonCombinable offer has been applied or this is a non-combinable offer,1,7,0.4666666666666667,76
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,result = prime * result + ((address == null) ? 0 : address.hashCode());,0,6,0.4,77
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotableOrder promotableOrder = new PromotableOrderImpl(new OrderImpl(), new PromotableItemFactoryImpl(promotableOfferUtility), false);",0,6,0.4,78
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotableOrder promotableOrder = new PromotableOrderImpl(new OrderImpl(), new PromotableItemFactoryImpl(), false);",1,6,0.4,79
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* Licensed under the Broadleaf Fair Use License Agreement, Version 1.0",0,6,0.4,80
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the ""Custom License"")",0,6,0.4,81
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @deprecated use the phonePrimary property on the related Address instead,0,6,0.4,82
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return total == null ? null : BroadleafCurrencyUtils.getMoney(total, getOrder().getCurrency());",0,6,0.4,83
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,result = prime * result + ((address == null) ? 0 : address.hashCode());,1,6,0.4,84
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,result = prime * result + ((fulfillmentGroupItems == null) ? 0 : fulfillmentGroupItems.hashCode());,0,6,0.4,85
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* Licensed under the Broadleaf Fair Use License Agreement, Version 1.0",1,6,0.4,86
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the ""Custom License"")",1,6,0.4,87
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @deprecated use the phonePrimary property on the related Address instead,1,6,0.4,88
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return total == null ? null : BroadleafCurrencyUtils.getMoney(total, getOrder().getCurrency());",1,6,0.4,89
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,result = prime * result + ((fulfillmentGroupItems == null) ? 0 : fulfillmentGroupItems.hashCode());,1,6,0.4,90
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableOrder = new PromotableOrderImpl(order, new PromotableItemFactoryImpl(promotableOfferUtility), false);",0,6,0.4,91
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableOrder = new PromotableOrderImpl(order, new PromotableItemFactoryImpl(), false);",1,6,0.4,92
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected HashMap<OfferItemCriteria, List<PromotableOrderItem>> candidateQualifiersMap = new HashMap<OfferItemCriteria, List<PromotableOrderItem>>();",1,6,0.4,93
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// Choosing an arbitrary large value.    The retail / sale price will be less than this,",1,6,0.4,94
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// These will be reserved first before the target is assigned.,1,6,0.4,95
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"LOG.debug(""Updating isFutureCredit for order adjustment with offer Id "" + offerId + "" to "" +",0,6,0.4,96
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* identify qualifiers and targets together, as they must be related to each other based on the",0,6,0.4,97
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// These will be reserved first before the target is assigned.,0,6,0.4,98
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Provide an opportunity to for modules to override the potentialSavingsCalculation,0,6,0.4,99
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// We've decided to apply this adjustment but if it doesn't actually reduce,1,6,0.4,100
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// the value of the item,1,6,0.4,101
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* would require all permutations of promotions to be run resulting in a costly,1,6,0.4,102
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* is to sort descending, so higher-value items are attempted to be qualified first.",1,6,0.4,103
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Remove nonCombinable offers that aren't the first offer,1,6,0.4,104
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Remove adjustments that were on the order item but no longer needed.,1,6,0.4,105
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"// Choosing an arbitrary large value.    The retail / sale price will be less than this,",0,6,0.4,106
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"LOG.trace(""Totalitarian Order Offer Applied.   Comparing order and item offers for best outcome."");",0,6,0.4,107
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* lower-valued items can be used to qualify a higher-valued target.,1,6,0.4,108
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"LOG.trace(""Totalitarian Order Offer Applied.   Comparing order and item offers for best outcome."");",1,6,0.4,109
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = PersonalMessageImpl.class, cascade = { CascadeType.ALL })",1,5,0.3333333333333333,110
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Pricing = 2000;,0,5,0.3333333333333333,111
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int SALE = 2000;,0,5,0.3333333333333333,112
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* unless the restrictions on use therein are violated and require payment to Broadleaf in which case,1,5,0.3333333333333333,113
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return saleFulfillmentPrice == null ? null : BroadleafCurrencyUtils.getMoney(saleFulfillmentPrice,",1,5,0.3333333333333333,114
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return retailFulfillmentPrice == null ? null :,1,5,0.3333333333333333,115
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.type = type == null ? null : type.getType();,1,5,0.3333333333333333,116
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return fulfillmentPrice == null ? null : BroadleafCurrencyUtils.getMoney(fulfillmentPrice,",1,5,0.3333333333333333,117
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Pricing = 3000;,0,5,0.3333333333333333,118
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Group {,0,5,0.3333333333333333,119
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setRetailFulfillmentPrice(retailFulfillmentPrice == null ? null : new Money(retailFulfillmentPrice));,0,5,0.3333333333333333,120
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Items = 2000;,0,5,0.3333333333333333,121
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Order {,0,5,0.3333333333333333,122
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Name {,0,5,0.3333333333333333,123
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Presentation {,0,5,0.3333333333333333,124
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (id != null && other.id != null) {,0,5,0.3333333333333333,125
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotal(total == null ? null : new Money(total));,0,5,0.3333333333333333,126
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setSaleFulfillmentPrice(saleFulfillmentPrice == null ? null : new Money(saleFulfillmentPrice));,0,5,0.3333333333333333,127
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return totalItemTax == null ? null : BroadleafCurrencyUtils.getMoney(totalItemTax, getOrder().getCurrency());",1,5,0.3333333333333333,128
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotalTax(totalTax == null ? null : new Money(totalTax));,0,5,0.3333333333333333,129
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotalFeeTax(totalFeeTax == null ? null : new Money(totalFeeTax));,0,5,0.3333333333333333,130
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotalFulfillmentGroupTax(totalFulfillmentGroupTax == null ? null : new Money(totalFulfillmentGroupTax));,0,5,0.3333333333333333,131
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return totalTax == null ? null : BroadleafCurrencyUtils.getMoney(totalTax, getOrder().getCurrency());",1,5,0.3333333333333333,132
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotalItemTax(totalItemTax == null ? null : new Money(totalItemTax));,1,5,0.3333333333333333,133
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return totalFeeTax == null ? null : BroadleafCurrencyUtils.getMoney(totalFeeTax, getOrder().getCurrency());",1,5,0.3333333333333333,134
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return totalFulfillmentGroupTax == null ? null : BroadleafCurrencyUtils.getMoney(totalFulfillmentGroupTax,",1,5,0.3333333333333333,135
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setRetailFulfillmentPrice(fulfillmentPrice == null ? null : new Money(fulfillmentPrice));,0,5,0.3333333333333333,136
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int SALE = 2000;,1,5,0.3333333333333333,137
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Pricing = 2000;,1,5,0.3333333333333333,138
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Group {,1,5,0.3333333333333333,139
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Pricing = 3000;,1,5,0.3333333333333333,140
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Items = 2000;,1,5,0.3333333333333333,141
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Order {,1,5,0.3333333333333333,142
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Name {,1,5,0.3333333333333333,143
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Presentation {,1,5,0.3333333333333333,144
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (id != null && other.id != null) {,1,5,0.3333333333333333,145
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotal(total == null ? null : new Money(total));,1,5,0.3333333333333333,146
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setSaleFulfillmentPrice(saleFulfillmentPrice == null ? null : new Money(saleFulfillmentPrice));,1,5,0.3333333333333333,147
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setRetailFulfillmentPrice(retailFulfillmentPrice == null ? null : new Money(retailFulfillmentPrice));,1,5,0.3333333333333333,148
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotalTax(totalTax == null ? null : new Money(totalTax));,1,5,0.3333333333333333,149
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotalFeeTax(totalFeeTax == null ? null : new Money(totalFeeTax));,1,5,0.3333333333333333,150
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotalFulfillmentGroupTax(totalFulfillmentGroupTax == null ? null : new Money(totalFulfillmentGroupTax));,1,5,0.3333333333333333,151
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setRetailFulfillmentPrice(fulfillmentPrice == null ? null : new Money(fulfillmentPrice));,1,5,0.3333333333333333,152
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setMerchandiseTotal(merchandiseTotal == null ? null : new Money(merchandiseTotal));,1,5,0.3333333333333333,153
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setFulfillmentPrice(fulfillmentPrice == null ? null : new Money(fulfillmentPrice));,1,5,0.3333333333333333,154
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return shippingOverride == null ? false : shippingOverride;,1,5,0.3333333333333333,155
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return merchandiseTotal == null ? null : BroadleafCurrencyUtils.getMoney(merchandiseTotal,",1,5,0.3333333333333333,156
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setTotalItemTax(totalItemTax == null ? null : new Money(totalItemTax));,0,5,0.3333333333333333,157
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static BigDecimal determineOfferUnitValue(Offer offer, PromotableCandidateItemOffer promotableCandidateItemOffer) {",1,5,0.3333333333333333,158
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setMerchandiseTotal(merchandiseTotal == null ? null : new Money(merchandiseTotal));,0,5,0.3333333333333333,159
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* items can be paired with lower-valued items. This also ensures that you will <b>not</b> have the scenario where 2,1,5,0.3333333333333333,160
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean orderMeetsSubtotalRequirements(PromotableOrder order, PromotableCandidateOrderOffer orderOffer) {",0,5,0.3333333333333333,161
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean orderMeetsQualifyingSubtotalRequirements(PromotableOrder order, PromotableCandidateOrderOffer orderOffer) {",0,5,0.3333333333333333,162
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean orderMeetsQualifyingSubtotalRequirements(PromotableOrder order, PromotableCandidateItemOffer itemOffer) {",1,5,0.3333333333333333,163
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean orderMeetsQualifyingSubtotalRequirements(PromotableOrder order, PromotableCandidateItemOffer itemOffer) {",0,5,0.3333333333333333,164
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (reason == null) {,1,5,0.3333333333333333,165
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean offerMeetsSubtotalRequirements(PromotableOrder order, PromotableCandidateItemOffer itemOffer) {",1,5,0.3333333333333333,166
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean orderMeetsSubtotalRequirements(PromotableOrder order, PromotableCandidateItemOffer itemOffer) {",0,5,0.3333333333333333,167
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean orderMeetsQualifyingSubtotalRequirements(PromotableOrder order, PromotableCandidateItemOffer itemOffer) {",0,5,0.3333333333333333,168
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// so the offer will not get selected.,0,5,0.3333333333333333,169
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Add a new adjustment,1,5,0.3333333333333333,170
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* Note: By default, both the {@link #getQualifierItemComparator(boolean)} and this target comparator are sorted",1,5,0.3333333333333333,171
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (reason == null) {,1,5,0.3333333333333333,172
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Go ahead and mark this item as a qualifier,1,5,0.3333333333333333,173
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean itemOfferCanBeApplied(PromotableOrder order, PromotableCandidateItemOffer itemOffer) {",1,5,0.3333333333333333,174
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// TODO:  BCP - Transferred the original logic but it looks like there is a bug here,1,5,0.3333333333333333,175
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* a calculation based on the qualifiers here strictly for rough comparative purposes.,1,5,0.3333333333333333,176
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean markTargets(PromotableCandidateItemOffer itemOffer, PromotableOrder order, OrderItem relatedQualifier) {",1,5,0.3333333333333333,177
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean markTargets(PromotableCandidateItemOffer itemOffer, PromotableOrder order, OrderItem relatedQualifier) {",0,5,0.3333333333333333,178
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Go ahead and mark this item as a qualifier,0,5,0.3333333333333333,179
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @return whether or not a suitable qualifier/target pair was found and marked,0,5,0.3333333333333333,180
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean markTargets(PromotableCandidateItemOffer itemOffer, PromotableOrder order, OrderItem relatedQualifier) {",0,5,0.3333333333333333,181
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setFulfillmentPrice(fulfillmentPrice == null ? null : new Money(fulfillmentPrice));,0,5,0.3333333333333333,182
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (this.offerName != null) {,0,5,0.3333333333333333,183
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* target specified for BOGO style offers are of equal or lesser value. We are using,1,5,0.3333333333333333,184
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (this.offerName != null) {,0,5,0.3333333333333333,185
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = PersonalMessageImpl.class, cascade = { CascadeType.ALL })",0,5,0.3333333333333333,186
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return shippingOverride == null ? false : shippingOverride;,0,5,0.3333333333333333,187
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (reason == null) {,1,5,0.3333333333333333,188
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return merchandiseTotal == null ? null : BroadleafCurrencyUtils.getMoney(merchandiseTotal,",0,5,0.3333333333333333,189
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return totalFulfillmentGroupTax == null ? null : BroadleafCurrencyUtils.getMoney(totalFulfillmentGroupTax,",0,5,0.3333333333333333,190
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return totalItemTax == null ? null : BroadleafCurrencyUtils.getMoney(totalItemTax, getOrder().getCurrency());",0,5,0.3333333333333333,191
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return totalTax == null ? null : BroadleafCurrencyUtils.getMoney(totalTax, getOrder().getCurrency());",0,5,0.3333333333333333,192
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return fulfillmentPrice == null ? null : BroadleafCurrencyUtils.getMoney(fulfillmentPrice,",0,5,0.3333333333333333,193
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return saleFulfillmentPrice == null ? null : BroadleafCurrencyUtils.getMoney(saleFulfillmentPrice,",0,5,0.3333333333333333,194
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.type = type == null ? null : type.getType();,0,5,0.3333333333333333,195
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return retailFulfillmentPrice == null ? null :,0,5,0.3333333333333333,196
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return totalFeeTax == null ? null : BroadleafCurrencyUtils.getMoney(totalFeeTax, getOrder().getCurrency());",0,5,0.3333333333333333,197
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* unless the restrictions on use therein are violated and require payment to Broadleaf in which case,0,5,0.3333333333333333,198
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroup fg : order.getFulfillmentGroups()) {,0,5,0.3333333333333333,199
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// so the offer will not get selected.,1,5,0.3333333333333333,200
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static Money computeAdjustmentValue(Money currentPriceDetailValue, BigDecimal offerUnitValue, OfferHolder offerHolder, PromotionRounding rounding) {",1,5,0.3333333333333333,201
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Provides shared code for the default implementations of PromotableOrderItemPriceDetailAdjustmentImpl and,1,5,0.3333333333333333,202
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (this.offerName != null) {,0,5,0.3333333333333333,203
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public Money calculateSavingsForOrderItem(PromotableOrderItem orderItem, int qtyToReceiveSavings) {",1,5,0.3333333333333333,204
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public Money calculateSavingsForOrderItem(PromotableOrderItem orderItem, int qtyToReceiveSavings);",1,5,0.3333333333333333,205
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// override scale from rounding settings if set,0,5,0.3333333333333333,206
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int General = 1000;,0,4,0.26666666666666666,207
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class FieldOrder {,0,4,0.26666666666666666,208
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int REFNUMBER = 3000;,0,4,0.26666666666666666,209
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int STATUS = 4000;,0,4,0.26666666666666666,210
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int TYPE = 5000;,0,4,0.26666666666666666,211
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int DELIVERINSTRUCTION = 6000;,0,4,0.26666666666666666,212
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int PRIMARY = 7000;,0,4,0.26666666666666666,213
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int ITEMTAX = 4000;,0,4,0.26666666666666666,214
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int PHONE = 8000;,0,4,0.26666666666666666,215
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int RETAIL = 1000;,0,4,0.26666666666666666,216
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int PRICE = 3000;,0,4,0.26666666666666666,217
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int FEETAX = 5000;,0,4,0.26666666666666666,218
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int FGTAX = 6000;,0,4,0.26666666666666666,219
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int TOTALTAX = 7000;,0,4,0.26666666666666666,220
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Advanced = 5000;,0,4,0.26666666666666666,221
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int MERCHANDISETOTAL = 8000;,0,4,0.26666666666666666,222
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int TOTAL = 9000;,0,4,0.26666666666666666,223
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Pricing = ""FulfillmentGroupImpl_Pricing"";",0,4,0.26666666666666666,224
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setIsShippingPriceTaxable(isShippingPriceTaxable == null ? null : isShippingPriceTaxable);,0,4,0.26666666666666666,225
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Address = 4000;,0,4,0.26666666666666666,226
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroupFees == null) {,0,4,0.26666666666666666,227
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @deprecated uses the phonePrimary property on AddressImpl instead,0,4,0.26666666666666666,228
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* the Broadleaf End User License Agreement (EULA), Version 1.1",1,4,0.26666666666666666,229
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (orderItem instanceof DiscreteOrderItem) {,0,4,0.26666666666666666,230
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (this.fulfillmentGroupItems == null) {,0,4,0.26666666666666666,231
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (CandidateFulfillmentGroupOffer offer : candidateOffers) {,0,4,0.26666666666666666,232
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroupAdjustment adjustment : fulfillmentGroupAdjustments) {,0,4,0.26666666666666666,233
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroupAdjustment adjustment : getFutureCreditFulfillmentGroupAdjustments()) {,0,4,0.26666666666666666,234
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setAddress(address == null ? null : address.createOrRetrieveCopyInstance(context).getClone());,0,4,0.26666666666666666,235
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Pricing = ""FulfillmentGroupImpl_Pricing_Tab"";",0,4,0.26666666666666666,236
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (obj == null) {,0,4,0.26666666666666666,237
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (address == null) {,0,4,0.26666666666666666,238
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (!address.equals(other.address)) {,0,4,0.26666666666666666,239
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroupItems == null) {,0,4,0.26666666666666666,240
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (!fulfillmentGroupItems.equals(other.fulfillmentGroupItems)) {,0,4,0.26666666666666666,241
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Tab {,0,4,0.26666666666666666,242
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Items = ""FulfillmentGroupImpl_Items_Tab"";",0,4,0.26666666666666666,243
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int TAXABLE = 10000;,0,4,0.26666666666666666,244
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int STATUS = 4000;,1,4,0.26666666666666666,245
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @deprecated uses the phonePrimary property on AddressImpl instead,1,4,0.26666666666666666,246
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int PRICE = 3000;,1,4,0.26666666666666666,247
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class FieldOrder {,1,4,0.26666666666666666,248
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int REFNUMBER = 3000;,1,4,0.26666666666666666,249
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int TYPE = 5000;,1,4,0.26666666666666666,250
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int DELIVERINSTRUCTION = 6000;,1,4,0.26666666666666666,251
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int PRIMARY = 7000;,1,4,0.26666666666666666,252
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int PHONE = 8000;,1,4,0.26666666666666666,253
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int RETAIL = 1000;,1,4,0.26666666666666666,254
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int ITEMTAX = 4000;,1,4,0.26666666666666666,255
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (orderItem instanceof DiscreteOrderItem) {,1,4,0.26666666666666666,256
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int FEETAX = 5000;,1,4,0.26666666666666666,257
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int FGTAX = 6000;,1,4,0.26666666666666666,258
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int TOTALTAX = 7000;,1,4,0.26666666666666666,259
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int MERCHANDISETOTAL = 8000;,1,4,0.26666666666666666,260
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int TOTAL = 9000;,1,4,0.26666666666666666,261
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int TAXABLE = 10000;,1,4,0.26666666666666666,262
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected RoundingMode roundingMode = RoundingMode.HALF_EVEN;,1,4,0.26666666666666666,263
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int General = 1000;,1,4,0.26666666666666666,264
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Pricing = ""FulfillmentGroupImpl_Pricing"";",1,4,0.26666666666666666,265
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Advanced = 5000;,1,4,0.26666666666666666,266
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static final int Address = 4000;,1,4,0.26666666666666666,267
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (this.fulfillmentGroupItems == null) {,1,4,0.26666666666666666,268
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (CandidateFulfillmentGroupOffer offer : candidateOffers) {,1,4,0.26666666666666666,269
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroupAdjustment adjustment : fulfillmentGroupAdjustments) {,1,4,0.26666666666666666,270
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroupAdjustment adjustment : getFutureCreditFulfillmentGroupAdjustments()) {,1,4,0.26666666666666666,271
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroupFees == null) {,1,4,0.26666666666666666,272
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setAddress(address == null ? null : address.createOrRetrieveCopyInstance(context).getClone());,1,4,0.26666666666666666,273
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setIsShippingPriceTaxable(isShippingPriceTaxable == null ? null : isShippingPriceTaxable);,1,4,0.26666666666666666,274
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (obj == null) {,1,4,0.26666666666666666,275
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (address == null) {,1,4,0.26666666666666666,276
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (!address.equals(other.address)) {,1,4,0.26666666666666666,277
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroupItems == null) {,1,4,0.26666666666666666,278
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (!fulfillmentGroupItems.equals(other.fulfillmentGroupItems)) {,1,4,0.26666666666666666,279
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public static class Tab {,1,4,0.26666666666666666,280
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Items = ""FulfillmentGroupImpl_Items_Tab"";",1,4,0.26666666666666666,281
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Pricing = ""FulfillmentGroupImpl_Pricing_Tab"";",1,4,0.26666666666666666,282
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* the Broadleaf End User License Agreement (EULA), Version 1.1",0,4,0.26666666666666666,283
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public void setCandidateFixedTargetsMap(HashMap<OfferPriceData, List<PromotableOrderItem>> candidateFixedTargetsMap) {",0,4,0.26666666666666666,284
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected int roundingScale = 2;,1,4,0.26666666666666666,285
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (o != null && o instanceof Integer) {,0,4,0.26666666666666666,286
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem item : itemOffer.getLegacyCandidateTargets()) {,0,4,0.26666666666666666,287
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OfferItemCriteria itemCriteria : itemOffer.getCandidateTargetsMap().keySet()) {,0,4,0.26666666666666666,288
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (targetQtyNeeded == 0) {,0,4,0.26666666666666666,289
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem item : itemOffer.getCandidateTargets()) {,1,4,0.26666666666666666,290
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (receiveQtyNeeded == 0) {,1,4,0.26666666666666666,291
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public boolean markTargets(PromotableCandidateItemOffer itemOffer, PromotableOrder order, OrderItem relatedQualifier,",0,4,0.26666666666666666,292
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (o != null && o instanceof Money) {,0,4,0.26666666666666666,293
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* and associates the OrderItemAdjustment to the OrderItem.,1,4,0.26666666666666666,294
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public void addPromotionDiscount(PromotableCandidateItemOffer itemOffer, OfferItemCriteria itemCriteria, int qtyToMarkAsTarget) {",0,4,0.26666666666666666,295
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotionDiscount discount : itemPriceDetail.getPromotionDiscounts()) {,1,4,0.26666666666666666,296
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetailAdjustment adjustment : detail.getCandidateItemAdjustments()) {,1,4,0.26666666666666666,297
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// and another offer was already applied.,1,4,0.26666666666666666,298
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (itemOffer.isLegacyOffer()) {,1,4,0.26666666666666666,299
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (!adjustment.isCombinable() || !itemOffer.getOffer().isCombinableWithOtherOffers()) {,1,4,0.26666666666666666,300
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierQtyNeeded == 0) {,1,4,0.26666666666666666,301
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean markTargets(PromotableCandidateItemOffer itemOffer, PromotableOrder order, OrderItem relatedQualifier,",1,4,0.26666666666666666,302
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public void addPromotionDiscount(PromotableCandidateItemOffer itemOffer, Set<OfferItemCriteria> itemCriteria, int qtyToMarkAsTarget) {",1,4,0.26666666666666666,303
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,//        when a targetItemCriteria has a quantity > 1.,1,4,0.26666666666666666,304
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// that there is an eligible target(s) and continue on.,1,4,0.26666666666666666,305
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableFulfillmentGroup fg : getFulfillmentGroups()) {,0,4,0.26666666666666666,306
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableOrderItem = new PromotableOrderItemImpl(orderItem1, null, new PromotableItemFactoryImpl(), false);",1,4,0.26666666666666666,307
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public PromotionQualifier addPromotionQualifier(PromotableCandidateItemOffer itemOffer, OfferItemCriteria itemCriteria, int qtyToMarkAsQualifier) {",0,4,0.26666666666666666,308
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public void addPromotionQualifier(PromotableCandidateItemOffer itemOffer, OfferItemCriteria itemCriteria, int qtyToMarkAsQualifier) {",1,4,0.26666666666666666,309
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean markRelatedQualifiersAndTargets(PromotableCandidateItemOffer itemOffer, PromotableOrder order) {",0,4,0.26666666666666666,310
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"for (Entry<OfferItemCriteria, List<PromotableOrderItem>> entry : itemOffer.getCandidateQualifiersMap().entrySet()) {",0,4,0.26666666666666666,311
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierQtyNeeded == 0) {,0,4,0.26666666666666666,312
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean markTargets(PromotableCandidateItemOffer itemOffer, PromotableOrder order) {",1,4,0.26666666666666666,313
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableFulfillmentGroup fg : getFulfillmentGroups()) {,1,4,0.26666666666666666,314
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public void setCandidateTargetsMap(HashMap<OfferItemCriteria, List<PromotableOrderItem>> candidateItemsMap) {",0,4,0.26666666666666666,315
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean markTargets(PromotableCandidateItemOffer itemOffer, PromotableOrder order, OrderItem relatedQualifier,",0,4,0.26666666666666666,316
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// that there is an eligible target(s) and continue on.,0,4,0.26666666666666666,317
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if ((promotion.getMaxUses() == 0) || (itemOffer.getUses() < promotion.getMaxUses())) {,1,4,0.26666666666666666,318
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected HashMap<OfferItemCriteria, List<PromotableOrderItem>> candidateQualifiersMap =",0,4,0.26666666666666666,319
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected HashMap<OfferItemCriteria, List<PromotableOrderItem>> candidateTargetsMap =",0,4,0.26666666666666666,320
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OfferItemCriteria itemCriteria : getCandidateQualifiersMap().keySet()) {,0,4,0.26666666666666666,321
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public HashMap<OfferItemCriteria, List<PromotableOrderItem>> getCandidateTargetsMap() {",0,4,0.26666666666666666,322
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (targetQtyNeeded == 0) {,1,4,0.26666666666666666,323
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money savings = new Money(0D);,1,4,0.26666666666666666,324
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* Used in {@link #applyItemQualifiersAndTargets(PromotableCandidateItemOffer, PromotableOrder)} allow for customized",1,4,0.26666666666666666,325
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (offer instanceof HibernateProxy) {,0,4,0.26666666666666666,326
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected void updateAdjustmentIfChangesDetected(OrderAdjustment adjustment, PromotableOrderAdjustment promotableAdjustment) {",0,4,0.26666666666666666,327
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public PromotableCandidateItemOfferImpl(PromotableOrder promotableOrder, Offer offer, boolean useQtyOnlyTierCalculation) {",0,4,0.26666666666666666,328
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OfferItemCriteria itemCriteria : getCandidateTargetsMap().keySet()) {,0,4,0.26666666666666666,329
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (returnQty == null) {,0,4,0.26666666666666666,330
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OfferItemCriteria itemCriteria : getCandidateTargetsMap().keySet()) {,1,4,0.26666666666666666,331
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public interface PromotableCandidateItemOffer extends PromotionRounding, Serializable {",0,4,0.26666666666666666,332
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected HashMap<OfferPriceData, List<PromotableOrderItem>> candidateFixedTargetsMap = new HashMap<>();",0,4,0.26666666666666666,333
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money savings = new Money(promotableOrder.getOrderCurrency());,1,4,0.26666666666666666,334
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* currentItemValue (e.g. no adjustment can cause a negative value).,1,4,0.26666666666666666,335
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (offer.getApplyDiscountToSalePrice() == true) {,1,4,0.26666666666666666,336
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* currentItemValue (e.g. no adjustment can cause a negative value).,1,4,0.26666666666666666,337
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (currentPriceDetailSalesValue == null) {,1,4,0.26666666666666666,338
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (offer.getApplyDiscountToSalePrice() == true) {,1,4,0.26666666666666666,339
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* sort descending, so higher-value items get the promotion over lesser-valued items.",1,4,0.26666666666666666,340
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableOrderItem = new PromotableOrderItemImpl(orderItem1, null, new PromotableItemFactoryImpl(promotableOfferUtility), false);",0,4,0.26666666666666666,341
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (reason != null) {,0,4,0.26666666666666666,342
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public interface PromotableCandidateItemOffer extends Serializable {,1,4,0.26666666666666666,343
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (deproxiedOffer == null) {,0,4,0.26666666666666666,344
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem item : promotableItems) {,1,4,0.26666666666666666,345
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* in descending order.  This means that higher-valued items can be paired with higher-valued items and lower-valued,1,4,0.26666666666666666,346
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem item : promotableOrder.getDiscountableOrderItems()) {,1,4,0.26666666666666666,347
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetailAdjustment adjustment : promotableDetail.getCandidateItemAdjustments()) {,1,4,0.26666666666666666,348
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OrderItemPriceDetailAdjustment adjustment : itemDetail.getOrderItemPriceDetailAdjustments()) {,1,4,0.26666666666666666,349
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (weightedPercentSaved == null) {,0,4,0.26666666666666666,350
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (weightedPercentSaved == null) {,0,4,0.26666666666666666,351
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OfferItemCriteria itemCriteria : itemOffer.getCandidateQualifiersMap().keySet()) {,1,4,0.26666666666666666,352
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifyingItemSubTotal == null || qualifyingItemSubTotal.lessThanOrEqual(Money.ZERO)) {,1,4,0.26666666666666666,353
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (offer instanceof HibernateProxy) {,0,4,0.26666666666666666,354
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public Money getPriceBeforeAdjustments(boolean allowSalesPrice, boolean includeChildren) {",0,4,0.26666666666666666,355
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (deproxiedOffer == null) {,0,4,0.26666666666666666,356
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else if (offer instanceof HibernateProxy) {,0,4,0.26666666666666666,357
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (reason != null) {,0,4,0.26666666666666666,358
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (deproxiedOffer == null) {,0,4,0.26666666666666666,359
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (reason != null) {,0,4,0.26666666666666666,360
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getMerchandiseTotal() {,0,3,0.2,361
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotalFeeTax(Money totalFeeTax) {,0,3,0.2,362
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotalFulfillmentGroupTax() {,0,3,0.2,363
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotalFulfillmentGroupTax(Money totalFulfillmentGroupTax) {,0,3,0.2,364
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean isPrimary() {,0,3,0.2,365
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setDeliveryInstruction(String deliveryInstruction) {,0,3,0.2,366
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setPersonalMessage(PersonalMessage personalMessage) {,0,3,0.2,367
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setPrimary(boolean primary) {,0,3,0.2,368
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotalItemTax(Money totalItemTax) {,0,3,0.2,369
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotalFeeTax() {,0,3,0.2,370
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getShippingPrice() {,0,3,0.2,371
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotalItemTax() {,0,3,0.2,372
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotalTax(Money totalTax) {,0,3,0.2,373
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotalTax() {,0,3,0.2,374
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTaxes(List<TaxDetail> taxes) {,0,3,0.2,375
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setShippingPrice(Money shippingPrice) {,0,3,0.2,376
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setSaleShippingPrice(Money saleShippingPrice) {,0,3,0.2,377
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentPrice(Money fulfillmentPrice) {,0,3,0.2,378
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getFulfillmentPrice() {,0,3,0.2,379
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotal() {,0,3,0.2,380
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setMerchandiseTotal(Money merchandiseTotal) {,0,3,0.2,381
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (this == obj) {,0,3,0.2,382
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotal(Money orderTotal) {,0,3,0.2,383
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setShippingOverride(Boolean shippingOverride) {,0,3,0.2,384
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setSaleFulfillmentPrice(Money saleFulfillmentPrice) {,0,3,0.2,385
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Advanced = ""FulfillmentGroupImpl_Advanced_Tab"";",0,3,0.2,386
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Address = ""FulfillmentGroupImpl_Address_Tab"";",0,3,0.2,387
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (other.fulfillmentGroupItems != null) {,0,3,0.2,388
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (other.address != null) {,0,3,0.2,389
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean equals(Object obj) {,0,3,0.2,390
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (TaxDetail taxDetail : getTaxes()) {,0,3,0.2,391
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected void cloneTaxDetails(MultiTenantCopyContext context, FulfillmentGroup cloned) throws CloneNotSupportedException {",0,3,0.2,392
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public int hashCode() {,0,3,0.2,393
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Boolean getShippingOverride() {,0,3,0.2,394
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setStatus(FulfillmentGroupStatusType status) {,0,3,0.2,395
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (getOrder().getCurrency() != null) {,0,3,0.2,396
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setService(String service) {,0,3,0.2,397
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setSequence(Integer sequence) {,0,3,0.2,398
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setIsShippingPriceTaxable(Boolean isShippingPriceTaxable) {,0,3,0.2,399
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Boolean isShippingPriceTaxable() {,0,3,0.2,400
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroupFees != null) {,0,3,0.2,401
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void removeAllFulfillmentGroupFees() {,0,3,0.2,402
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void addFulfillmentGroupFee(FulfillmentGroupFee fulfillmentGroupFee) {,0,3,0.2,403
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentGroupFees(List<FulfillmentGroupFee> fulfillmentGroupFees) {,0,3,0.2,404
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getSaleShippingPrice() {,0,3,0.2,405
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected boolean primary = false;,0,3,0.2,406
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getSaleFulfillmentPrice() {,0,3,0.2,407
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = FulfillmentOptionImpl.class, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})",0,3,0.2,408
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setId(Long id) {,0,3,0.2,409
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<TaxDetail> taxes = new ArrayList<TaxDetail>();,0,3,0.2,410
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinTable(name = ""BLC_FG_FG_TAX_XREF"", joinColumns = @JoinColumn(name = ""FULFILLMENT_GROUP_ID""),",0,3,0.2,411
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<FulfillmentGroupAdjustment> fulfillmentGroupAdjustments = new ArrayList<FulfillmentGroupAdjustment>();,0,3,0.2,412
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<CandidateFulfillmentGroupOffer> candidateOffers = new ArrayList<CandidateFulfillmentGroupOffer>();,0,3,0.2,413
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<FulfillmentGroupFee> fulfillmentGroupFees = new ArrayList<FulfillmentGroupFee>();,0,3,0.2,414
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<FulfillmentGroupItem> fulfillmentGroupItems = new ArrayList<FulfillmentGroupItem>();,0,3,0.2,415
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = PhoneImpl.class, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})",0,3,0.2,416
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = AddressImpl.class, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})",0,3,0.2,417
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Boolean isShippingPriceTaxable = Boolean.FALSE;,0,3,0.2,418
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setOrder(Order order) {,0,3,0.2,419
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""personalMessage"", mergeEntries = {",1,3,0.2,420
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"group = Presentation.Group.Name.Pricing, groupOrder = Presentation.Group.Order.Pricing,",0,3,0.2,421
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@AdminPresentation(excluded = true),0,3,0.2,422
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public class FulfillmentGroupImpl implements FulfillmentGroup, CurrencyCodeIdentifiable {",0,3,0.2,423
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""phone.phoneNumber"", mergeEntries = {",0,3,0.2,424
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""phone"", mergeEntries = {",0,3,0.2,425
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""address.isBusiness"", mergeEntries = {",0,3,0.2,426
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""address.isActive"", mergeEntries = {",0,3,0.2,427
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""address.isDefault"", mergeEntries = {",0,3,0.2,428
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Order getOrder() {,0,3,0.2,429
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentOption(FulfillmentOption fulfillmentOption) {,0,3,0.2,430
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentGroupAdjustments(List<FulfillmentGroupAdjustment> fulfillmentGroupAdjustments) {,0,3,0.2,431
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setRetailShippingPrice(Money retailShippingPrice) {,0,3,0.2,432
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroupAdjustments != null) {,0,3,0.2,433
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void removeAllAdjustments() {,0,3,0.2,434
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getFutureCreditFulfillmentGroupAdjustmentsValue() {,0,3,0.2,435
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getFulfillmentGroupAdjustmentsValue() {,0,3,0.2,436
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (candidateOffers != null) {,0,3,0.2,437
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void removeAllCandidateOffers() {,0,3,0.2,438
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setCandidateFulfillmentGroupOffer(List<CandidateFulfillmentGroupOffer> candidateOffers) {,0,3,0.2,439
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void addCandidateFulfillmentGroupOffer(CandidateFulfillmentGroupOffer candidateOffer) {,0,3,0.2,440
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setType(FulfillmentType type) {,0,3,0.2,441
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getRetailShippingPrice() {,0,3,0.2,442
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setReferenceNumber(String referenceNumber) {,0,3,0.2,443
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setRetailFulfillmentPrice(Money retailFulfillmentPrice) {,0,3,0.2,444
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getRetailFulfillmentPrice() {,0,3,0.2,445
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setMethod(String fulfillmentMethod) {,0,3,0.2,446
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setPhone(Phone phone) {,0,3,0.2,447
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setAddress(Address address) {,0,3,0.2,448
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void addFulfillmentGroupItem(FulfillmentGroupItem fulfillmentGroupItem) {,0,3,0.2,449
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentGroupItems(List<FulfillmentGroupItem> fulfillmentGroupItems) {,0,3,0.2,450
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (DiscreteOrderItem discreteOrderItem : bundleOrderItem.getDiscreteOrderItems()) {,0,3,0.2,451
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroupItem fgItem : fulfillmentGroupItems) {,0,3,0.2,452
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Copyright (C) 2009 - 2016 Broadleaf Commerce,1,3,0.2,453
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void addCandidateFulfillmentGroupOffer(CandidateFulfillmentGroupOffer candidateOffer) {,1,3,0.2,454
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""address"", mergeEntries = {",1,3,0.2,455
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotalFeeTax(Money totalFeeTax) {,1,3,0.2,456
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotal() {,1,3,0.2,457
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setMerchandiseTotal(Money merchandiseTotal) {,1,3,0.2,458
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getMerchandiseTotal() {,1,3,0.2,459
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setPrimary(boolean primary) {,1,3,0.2,460
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean isPrimary() {,1,3,0.2,461
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setPersonalMessage(PersonalMessage personalMessage) {,1,3,0.2,462
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setDeliveryInstruction(String deliveryInstruction) {,1,3,0.2,463
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotalFulfillmentGroupTax(Money totalFulfillmentGroupTax) {,1,3,0.2,464
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotalFulfillmentGroupTax() {,1,3,0.2,465
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotalFeeTax() {,1,3,0.2,466
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getSaleShippingPrice() {,1,3,0.2,467
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotalItemTax(Money totalItemTax) {,1,3,0.2,468
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotalItemTax() {,1,3,0.2,469
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotalTax(Money totalTax) {,1,3,0.2,470
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getTotalTax() {,1,3,0.2,471
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTaxes(List<TaxDetail> taxes) {,1,3,0.2,472
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setShippingPrice(Money shippingPrice) {,1,3,0.2,473
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getShippingPrice() {,1,3,0.2,474
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentPrice(Money fulfillmentPrice) {,1,3,0.2,475
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getFulfillmentPrice() {,1,3,0.2,476
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setTotal(Money orderTotal) {,1,3,0.2,477
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setStatus(FulfillmentGroupStatusType status) {,1,3,0.2,478
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentGroupFees(List<FulfillmentGroupFee> fulfillmentGroupFees) {,1,3,0.2,479
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void addFulfillmentGroupFee(FulfillmentGroupFee fulfillmentGroupFee) {,1,3,0.2,480
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""personalMessage"", mergeEntries = {",0,3,0.2,481
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Advanced = ""FulfillmentGroupImpl_Advanced_Tab"";",1,3,0.2,482
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public static final String Address = ""FulfillmentGroupImpl_Address_Tab"";",1,3,0.2,483
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (other.fulfillmentGroupItems != null) {,1,3,0.2,484
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (other.address != null) {,1,3,0.2,485
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (this == obj) {,1,3,0.2,486
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean equals(Object obj) {,1,3,0.2,487
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (TaxDetail taxDetail : getTaxes()) {,1,3,0.2,488
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected void cloneTaxDetails(MultiTenantCopyContext context, FulfillmentGroup cloned) throws CloneNotSupportedException {",1,3,0.2,489
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public int hashCode() {,1,3,0.2,490
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setShippingOverride(Boolean shippingOverride) {,1,3,0.2,491
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Boolean getShippingOverride() {,1,3,0.2,492
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (getOrder().getCurrency() != null) {,1,3,0.2,493
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setService(String service) {,1,3,0.2,494
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setSequence(Integer sequence) {,1,3,0.2,495
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setIsShippingPriceTaxable(Boolean isShippingPriceTaxable) {,1,3,0.2,496
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Boolean isShippingPriceTaxable() {,1,3,0.2,497
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroupFees != null) {,1,3,0.2,498
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void removeAllFulfillmentGroupFees() {,1,3,0.2,499
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setSaleShippingPrice(Money saleShippingPrice) {,1,3,0.2,500
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setSaleFulfillmentPrice(Money saleFulfillmentPrice) {,1,3,0.2,501
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""address.isDefault"", mergeEntries = {",1,3,0.2,502
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = AddressImpl.class, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})",1,3,0.2,503
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Order getOrder() {,1,3,0.2,504
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setId(Long id) {,1,3,0.2,505
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<TaxDetail> taxes = new ArrayList<TaxDetail>();,1,3,0.2,506
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinTable(name = ""BLC_FG_FG_TAX_XREF"", joinColumns = @JoinColumn(name = ""FULFILLMENT_GROUP_ID""),",1,3,0.2,507
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<FulfillmentGroupAdjustment> fulfillmentGroupAdjustments = new ArrayList<FulfillmentGroupAdjustment>();,1,3,0.2,508
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<CandidateFulfillmentGroupOffer> candidateOffers = new ArrayList<CandidateFulfillmentGroupOffer>();,1,3,0.2,509
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<FulfillmentGroupFee> fulfillmentGroupFees = new ArrayList<FulfillmentGroupFee>();,1,3,0.2,510
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<FulfillmentGroupItem> fulfillmentGroupItems = new ArrayList<FulfillmentGroupItem>();,1,3,0.2,511
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = PhoneImpl.class, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})",1,3,0.2,512
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = FulfillmentOptionImpl.class, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})",1,3,0.2,513
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getSaleFulfillmentPrice() {,1,3,0.2,514
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Boolean isShippingPriceTaxable = Boolean.FALSE;,1,3,0.2,515
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected boolean primary = false;,1,3,0.2,516
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"group = Presentation.Group.Name.Pricing, groupOrder = Presentation.Group.Order.Pricing,",1,3,0.2,517
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@AdminPresentation(excluded = true),1,3,0.2,518
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public class FulfillmentGroupImpl implements FulfillmentGroup, CurrencyCodeIdentifiable {",1,3,0.2,519
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""phone.phoneNumber"", mergeEntries = {",1,3,0.2,520
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""phone"", mergeEntries = {",1,3,0.2,521
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""address.isBusiness"", mergeEntries = {",1,3,0.2,522
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""address.isActive"", mergeEntries = {",1,3,0.2,523
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setOrder(Order order) {,1,3,0.2,524
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentOption(FulfillmentOption fulfillmentOption) {,1,3,0.2,525
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setReferenceNumber(String referenceNumber) {,1,3,0.2,526
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroupItem fgItem : fulfillmentGroupItems) {,1,3,0.2,527
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentGroupAdjustments(List<FulfillmentGroupAdjustment> fulfillmentGroupAdjustments) {,1,3,0.2,528
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroupAdjustments != null) {,1,3,0.2,529
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void removeAllAdjustments() {,1,3,0.2,530
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getFutureCreditFulfillmentGroupAdjustmentsValue() {,1,3,0.2,531
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getFulfillmentGroupAdjustmentsValue() {,1,3,0.2,532
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (candidateOffers != null) {,1,3,0.2,533
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void removeAllCandidateOffers() {,1,3,0.2,534
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setCandidateFulfillmentGroupOffer(List<CandidateFulfillmentGroupOffer> candidateOffers) {,1,3,0.2,535
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setType(FulfillmentType type) {,1,3,0.2,536
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setRetailShippingPrice(Money retailShippingPrice) {,1,3,0.2,537
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getRetailShippingPrice() {,1,3,0.2,538
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setRetailFulfillmentPrice(Money retailFulfillmentPrice) {,1,3,0.2,539
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getRetailFulfillmentPrice() {,1,3,0.2,540
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setMethod(String fulfillmentMethod) {,1,3,0.2,541
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setPhone(Phone phone) {,1,3,0.2,542
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setAddress(Address address) {,1,3,0.2,543
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void addFulfillmentGroupItem(FulfillmentGroupItem fulfillmentGroupItem) {,1,3,0.2,544
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setFulfillmentGroupItems(List<FulfillmentGroupItem> fulfillmentGroupItems) {,1,3,0.2,545
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (DiscreteOrderItem discreteOrderItem : bundleOrderItem.getDiscreteOrderItems()) {,1,3,0.2,546
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""address"", mergeEntries = {",0,3,0.2,547
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setWeightedPercentSaved(BigDecimal weightedPercentSaved) {,0,3,0.2,548
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Copyright (C) 2009 - 2022 Broadleaf Commerce,0,3,0.2,549
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail detail : order.getAllPromotableOrderItemPriceDetails()) {,1,3,0.2,550
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!relatedQualifierRoot.isAParentOf(thisItem) && !thisItem.isAParentOf(relatedQualifierRoot) &&,1,3,0.2,551
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail priceDetail : priceDetails) {,1,3,0.2,552
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (relatedQualifier != null) {,1,3,0.2,553
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemQtyAvailableToBeUsedAsQualifier > 0) {,1,3,0.2,554
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierQtyNeeded > 0) {,1,3,0.2,555
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Mark Qualifiers,1,3,0.2,556
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail detail : priceDetails) {,1,3,0.2,557
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,1,3,0.2,558
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// and adjustments have already been applied.,1,3,0.2,559
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (salePrice != null) {,1,3,0.2,560
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotionQualifier possibleQualifier : detail.getPromotionQualifiers()) {,1,3,0.2,561
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money savings = itemOffer.calculateSavingsForOrderItem(detail.getPromotableOrderItem(), 1);",1,3,0.2,562
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param itemOffer,1,3,0.2,563
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail itemPriceDetail : itemPriceDetails) {,1,3,0.2,564
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected void applyOrderItemAdjustment(PromotableCandidateItemOffer itemOffer, PromotableOrderItemPriceDetail itemPriceDetail) {",1,3,0.2,565
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public class ItemOfferProcessorImpl extends OrderOfferProcessorImpl implements ItemOfferProcessor {,1,3,0.2,566
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected void restPriceDetails(PromotableOrderItem item) {,0,3,0.2,567
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param quantity,0,3,0.2,568
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param item,0,3,0.2,569
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param itemOffer,0,3,0.2,570
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemQtyAvailableToBeUsedAsTarget > 0) {,1,3,0.2,571
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (markTargets(itemOffer, order, oi, true)) {",1,3,0.2,572
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected PromotableOrderItemPriceDetail split(int discountQty, Long offerId, boolean hasQualifiers) {",0,3,0.2,573
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!itemOffer.isLegacyOffer() && !itemOffer.getOffer().isCombinableWithOtherOffers()) {,1,3,0.2,574
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected Map<Long, OrderItemPriceDetailAdjustment> buildItemDetailAdjustmentMap(OrderItemPriceDetail itemDetail) {",1,3,0.2,575
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OrderItemPriceDetailAdjustment adjustmentToRemove : itemAdjustmentMap.values()) {,1,3,0.2,576
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemAdjustmentMap.size() > 0) {,1,3,0.2,577
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemAdjustment != null) {,1,3,0.2,578
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OrderItem containedItem : container.getOrderItems()) {,1,3,0.2,579
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,1,3,0.2,580
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OrderItem currentItem : order.getOrderItems()) {,1,3,0.2,581
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setOfferServiceUtilities(OfferServiceUtilities offerServiceUtilities) {,0,3,0.2,582
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (extensionManager != null) {,0,3,0.2,583
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableCandidateItemOffer itemOffer = offerIterator.next();,1,3,0.2,584
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (pq.getQuantity() == qtyToMarkAsQualifier) {,1,3,0.2,585
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// ignore the first one.,1,3,0.2,586
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean first = true;,1,3,0.2,587
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Comparator<PromotableOrderItemPriceDetail> getTargetItemComparator(final boolean applyToSalePrice) {,1,3,0.2,588
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// highest amount first,1,3,0.2,589
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money price = o1.getPromotableOrderItem().getPriceBeforeAdjustments(applyToSalePrice);,1,3,0.2,590
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public int compare(PromotableOrderItemPriceDetail o1, PromotableOrderItemPriceDetail o2) {",1,3,0.2,591
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return new Comparator<PromotableOrderItemPriceDetail>() {,1,3,0.2,592
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Comparator<PromotableOrderItemPriceDetail> getQualifierItemComparator(final boolean applyToSalePrice) {,1,3,0.2,593
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return markTargets(itemOffer, order, relatedOrderItem, false);",1,3,0.2,594
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return markTargets(itemOffer, order, orderItemHolder.getOrderItem(), false);",0,3,0.2,595
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"int qualifierQtyNeeded = offerServiceUtilities.markRelatedQualifiersAndTargetsForItemCriteria(itemOffer, order,",0,3,0.2,596
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,597
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemQtyAvailableToBeUsedAsQualifier > 0) {,0,3,0.2,598
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean isTotalitarianOrderOfferApplied() {,0,3,0.2,599
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"boolean targetsFound = markTargets(itemOffer, order);",1,3,0.2,600
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"boolean qualifiersFound = markQualifiers(itemOffer, order);",1,3,0.2,601
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"boolean qualifiersAndTargetsFound = markRelatedQualifiersAndTargets(itemOffer, order);",0,3,0.2,602
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierQtyNeeded != 0) {,0,3,0.2,603
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,604
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (pq.getQuantity() == qtyToMarkAsQualifier) {,0,3,0.2,605
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (!markTargets(itemOffer, order, oi)) {",0,3,0.2,606
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotionQualifier possibleQualifier : detail.getPromotionQualifiers()) {,0,3,0.2,607
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierQtyNeeded > 0) {,0,3,0.2,608
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (contextMap.get(OfferServiceExtensionManager.STOP_PROCESSING) != null) {,0,3,0.2,609
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail detail : priceDetails) {,0,3,0.2,610
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param order,0,3,0.2,611
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param itemOffer,0,3,0.2,612
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* {@link OrderItem#getParentOrderItem()} / {@link OrderItem#getChildOrderItems()} attributes.,0,3,0.2,613
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!relatedQualifierRoot.isAParentOf(thisItem) && !thisItem.isAParentOf(relatedQualifierRoot) &&,0,3,0.2,614
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (relatedQualifier != null) {,0,3,0.2,615
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,616
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"adjustmentValue = new Money(offerValue, getCurrency(), scale);",0,3,0.2,617
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,618
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean isTotalitarianItemOfferApplied() {,0,3,0.2,619
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail itemPriceDetail : getAllPromotableOrderItemPriceDetails()) {,0,3,0.2,620
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean isTotalitarianFgOfferApplied() {,0,3,0.2,621
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail itemPriceDetail : getAllPromotableOrderItemPriceDetails()) {,1,3,0.2,622
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (extensionManager != null) {,0,3,0.2,623
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected Boolean applyItemOfferExtension(PromotableOrder order,",0,3,0.2,624
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (receiveQtyNeeded > 0) {,1,3,0.2,625
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail priceDetail : priceDetails) {,1,3,0.2,626
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OfferItemCriteria targetCriteria : itemOffer.getOffer().getTargetItemCriteria()) {,1,3,0.2,627
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (targetQtyNeeded != 0) {,0,3,0.2,628
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItemPriceDetail detail : priceDetails) {,0,3,0.2,629
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setCandidateTargets(List<PromotableOrderItem> candidateTargets) {,1,3,0.2,630
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem promotableOrderItem : candidateTargets) {,1,3,0.2,631
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem chgItem : candidateTargets) {,1,3,0.2,632
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money calculatePotentialSavings() {,1,3,0.2,633
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<PromotableOrderItem> candidateTargets = new ArrayList<PromotableOrderItem>();,1,3,0.2,634
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setLegacyCandidateTargets(List<PromotableOrderItem> candidateTargets) {,0,3,0.2,635
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem promotableOrderItem : candidateTargets) {,0,3,0.2,636
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<PromotableOrderItem> legacyCandidateTargets = new ArrayList<PromotableOrderItem>();,0,3,0.2,637
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (!markTargets(itemOffer, order, oi)) {",1,3,0.2,638
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (!markTargets(itemOffer, order, oi, !lastQualifier)) {",0,3,0.2,639
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean lastQualifier = curQualifier == itemOffer.getCandidateQualifiersMap().entrySet().size();,0,3,0.2,640
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return markTargets(itemOffer, order, relatedQualifier, false);",0,3,0.2,641
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Map<Long, OrderItemPriceDetailAdjustment> itemAdjustmentMap = new HashMap<Long, OrderItemPriceDetailAdjustment>();",1,3,0.2,642
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public class ItemOfferProcessorImpl extends OrderOfferProcessorImpl implements ItemOfferProcessor, ItemOfferMarkTargets {",0,3,0.2,643
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierOfferId.equals(offerId) && currentQualifier.getQuantity() <= splitItemQty) {,0,3,0.2,644
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem promotableOrderItem : candidateTargets) {,1,3,0.2,645
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money computeAdjustmentValue(PromotableCandidateFulfillmentGroupOffer promotableCandidateFulfillmentGroupOffer, PromotableFulfillmentGroup promotableFulfillmentGroup, boolean allowSalePrice);",0,3,0.2,646
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public interface PromotableOfferUtility {,0,3,0.2,647
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Copyright (C) 2009 - 2018 Broadleaf Commerce,0,3,0.2,648
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return new PromotableFulfillmentGroupAdjustmentImpl(promotableCandidateFulfillmentGroupOffer, fulfillmentGroup,",0,3,0.2,649
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Offer offer = promotableCandidateFulfillmentGroupOffer.getOffer();,1,3,0.2,650
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected void computeAdjustmentValues() {,1,3,0.2,651
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"public HashMap<OfferPriceData, List<PromotableOrderItem>> getCandidateFixedTargetsMap() {",0,3,0.2,652
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return new PromotableCandidateItemOfferImpl(promotableOrder, offer);",1,3,0.2,653
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected boolean useQtyOnlyTierCalculation = false;,0,3,0.2,654
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setUseQtyOnlyTierCalculation(boolean useQtyOnlyTierCalculation) {,0,3,0.2,655
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = reason;,0,3,0.2,656
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean isUseQtyOnlyTierCalculation() {,0,3,0.2,657
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemCriteria.getQuantity() <= 0) {,0,3,0.2,658
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,659
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (PromotableOrderItem promotableOrderItem : candidateTargets) {,0,3,0.2,660
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected boolean useQtyOnlyTierCalculation = false;,0,3,0.2,661
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected void syncFulfillmentPrice(FulfillmentGroup fg) {,0,3,0.2,662
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected boolean fgContainsFutureCreditAdjustment(FulfillmentGroup fg) {,0,3,0.2,663
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = reason;,1,3,0.2,664
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,1,3,0.2,665
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money calculateSavingsForOrderItem(PromotableCandidateItemOffer promotableCandidateItemOffer, PromotableOrderItem orderItem, int qtyToReceiveSavings);",0,3,0.2,666
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public class PromotableOfferUtility {,1,3,0.2,667
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Offer offer = offerHolder.getOffer();,1,3,0.2,668
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,BroadleafCurrency currency = offerHolder.getCurrency();,1,3,0.2,669
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,scale = roundingScale;,0,3,0.2,670
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (roundingScale != null) {,0,3,0.2,671
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Remove this one from the original detail,0,3,0.2,672
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (getCurrency() != null) {,0,3,0.2,673
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int scale = 2;,0,3,0.2,674
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public int getRoundingScale() {,1,3,0.2,675
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public boolean isRoundOfferValues() {,1,3,0.2,676
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected boolean roundOfferValues = true;,1,3,0.2,677
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,678
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (roundingMode != null) {,0,3,0.2,679
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected RoundingMode roundingMode;,0,3,0.2,680
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money savings = promotableCandidate.calculateSavingsForOrderItem(promotableOrderItem, 1);",1,3,0.2,681
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money savings = promotableOfferUtility.calculateSavingsForOrderItem(promotableCandidate, promotableOrderItem, 1);",0,3,0.2,682
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected void computeAdjustmentValues() {,1,3,0.2,683
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (maxTier != null) {,1,3,0.2,684
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OfferTier currentTier : offerTiers) {,1,3,0.2,685
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int quantity = promotableCandidateItemOffer.calculateTargetQuantityForTieredOffer();,1,3,0.2,686
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,1,3,0.2,687
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (currency != null) {,1,3,0.2,688
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Copyright (C) 2009 - 2016 Broadleaf Commerce,1,3,0.2,689
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Copyright (C) 2009 - 2016 Broadleaf Commerce,1,3,0.2,690
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,691
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Remove this one from the original detail,1,3,0.2,692
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public BigDecimal getWeightedPercentSaved() {,0,3,0.2,693
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableFulfillmentGroup fulfillmentGroup = fulfillmentGroupMember;,1,3,0.2,694
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,695
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = reason;,1,3,0.2,696
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = reason;,0,3,0.2,697
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,698
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemOffer.getOffer().getOrderMinSubTotal() == null ||,0,3,0.2,699
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,700
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,1,3,0.2,701
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierOfferId.equals(offerId) && currentQualifier.getQuantity() <= splitItemQty) {,1,3,0.2,702
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setOriginalPrice(Money originalPrice) {,0,3,0.2,703
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,704
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Remove this one from the original detail,0,3,0.2,705
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierOfferId.equals(offerId) && currentQualifier.getQuantity() <= splitItemQty) {,0,3,0.2,706
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected PromotableOrderItemPriceDetail split(int discountQty, Long offerId, boolean hasQualifiers) {",0,3,0.2,707
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,1,3,0.2,708
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (postLoaderDao != null) {,0,3,0.2,709
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Remove this one from the original detail,1,3,0.2,710
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (qualifierOfferId.equals(offerId) && currentQualifier.getQuantity() <= splitItemQty) {,1,3,0.2,711
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,712
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getOriginalPrice() {,0,3,0.2,713
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (orderMeetsQualifyingSubtotalRequirements(order, itemOffer) && orderMeetsSubtotalRequirements(order, itemOffer)) {",0,3,0.2,714
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,715
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemOffer.getOffer().getOrderMinSubTotal() == null ||,1,3,0.2,716
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money price = orderItem.getPriceBeforeAdjustments(getOffer().getApplyDiscountToSalePrice());,1,3,0.2,717
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,} else {,0,3,0.2,718
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (postLoaderDao != null) {,0,3,0.2,719
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = reason;,1,3,0.2,720
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = reason;,0,3,0.2,721
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = reason;,1,3,0.2,722
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (postLoaderDao != null) {,0,3,0.2,723
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (OrderItem child : getChildOrderItems()) {,0,3,0.2,724
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = reason;,0,3,0.2,725
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (orderMeetsQualifyingSubtotalRequirements(promotableOrder, orderOffer) && orderMeetsSubtotalRequirements(promotableOrder, orderOffer)) {",0,3,0.2,726
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected void initializePriceDetails() {,0,3,0.2,727
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money price = orderItem.getPriceBeforeAdjustments(getOffer().getApplyDiscountToSalePrice());,1,3,0.2,728
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setOriginalPrice(Money originalPrice) {,0,3,0.2,729
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Money getOriginalPrice() {,0,3,0.2,730
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public void setWeightedPercentSaved(BigDecimal weightedPercentSaved) {,0,3,0.2,731
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public BigDecimal getWeightedPercentSaved() {,0,3,0.2,732
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected void initializePriceDetails() {,0,3,0.2,733
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Copyright (C) 2009 - 2013 Broadleaf Commerce,0,3,0.2,734
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal fulfillmentPrice;,0,2,0.13333333333333333,735
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Type"", order=Presentation.FieldOrder.TYPE,",0,2,0.13333333333333333,736
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"prominent = true, gridOrder = 3000)",0,2,0.13333333333333333,737
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total_Tax"", order=Presentation.FieldOrder.TOTALTAX,",0,2,0.13333333333333333,738
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Cache(usage = CacheConcurrencyStrategy.READ_WRITE, region = ""blOrderElements"")",0,2,0.13333333333333333,739
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal totalTax;,0,2,0.13333333333333333,740
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total_Item_Tax"", order=Presentation.FieldOrder.ITEMTAX,",0,2,0.13333333333333333,741
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal totalItemTax;,0,2,0.13333333333333333,742
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal saleFulfillmentPrice;,0,2,0.13333333333333333,743
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total_Fee_Tax"", order=Presentation.FieldOrder.FEETAX,",0,2,0.13333333333333333,744
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Shipping_Price"", order=Presentation.FieldOrder.PRICE,",0,2,0.13333333333333333,745
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationClass(populateToOneFields = PopulateToOneFieldsEnum.TRUE, friendlyName = ""FulfillmentGroupImpl_baseFulfillmentGroup"")",0,2,0.13333333333333333,746
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Sale_Shipping_Price"", order=Presentation.FieldOrder.SALE,",0,2,0.13333333333333333,747
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal retailFulfillmentPrice;,0,2,0.13333333333333333,748
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"tab = Presentation.Tab.Name.Pricing, tabOrder = Presentation.Tab.Order.Pricing,",0,2,0.13333333333333333,749
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.List;,0,2,0.13333333333333333,750
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Retail_Shipping_Price"", order=Presentation.FieldOrder.RETAIL,",0,2,0.13333333333333333,751
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Reference_Number"", order=Presentation.FieldOrder.REFNUMBER,",0,2,0.13333333333333333,752
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,parameters = {,0,2,0.13333333333333333,753
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,private static final long serialVersionUID = 1L;,0,2,0.13333333333333333,754
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,booleanOverrideValue = true),0,2,0.13333333333333333,755
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""currency"", mergeEntries =",0,2,0.13333333333333333,756
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total_FG_Tax"", order=Presentation.FieldOrder.FGTAX,",0,2,0.13333333333333333,757
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = """", mergeEntries =",0,2,0.13333333333333333,758
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal totalFeeTax;,0,2,0.13333333333333333,759
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Long getId() {,0,2,0.13333333333333333,760
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal totalFulfillmentGroupTax;,0,2,0.13333333333333333,761
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Delivery_Instruction"", order=Presentation.FieldOrder.DELIVERINSTRUCTION)",0,2,0.13333333333333333,762
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<DiscreteOrderItem> discreteOrderItems = new ArrayList<DiscreteOrderItem>();,0,2,0.13333333333333333,763
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.math.BigDecimal;,0,2,0.13333333333333333,764
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (orderItem instanceof BundleOrderItem) {,0,2,0.13333333333333333,765
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<DiscreteOrderItem> getDiscreteOrderItems() {,0,2,0.13333333333333333,766
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<FulfillmentGroupItem> getFulfillmentGroupItems() {,0,2,0.13333333333333333,767
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getReferenceNumber() {,0,2,0.13333333333333333,768
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public FulfillmentOption getFulfillmentOption() {,0,2,0.13333333333333333,769
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Boolean shippingOverride;,0,2,0.13333333333333333,770
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"inverseJoinColumns = @JoinColumn(name = ""TAX_DETAIL_ID""))",0,2,0.13333333333333333,771
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"tab = Presentation.Tab.Name.Advanced, tabOrder = Presentation.Tab.Order.Advanced)",0,2,0.13333333333333333,772
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"tab = Presentation.Tab.Name.Items, tabOrder = Presentation.Tab.Order.Items)",0,2,0.13333333333333333,773
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,orphanRemoval = true),0,2,0.13333333333333333,774
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Order order;,0,2,0.13333333333333333,775
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"tab = Presentation.Tab.Name.Pricing, tabOrder = Presentation.Tab.Order.Pricing)",0,2,0.13333333333333333,776
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Shipping_Price_Taxable"", order=Presentation.FieldOrder.TAXABLE,",0,2,0.13333333333333333,777
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"prominent = true, gridOrder = 4000)",0,2,0.13333333333333333,778
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Status"", order=Presentation.FieldOrder.STATUS,",0,2,0.13333333333333333,779
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal total;,0,2,0.13333333333333333,780
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"fieldType= SupportedFieldType.MONEY, prominent = true, gridOrder = 2000)",0,2,0.13333333333333333,781
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total"", order=Presentation.FieldOrder.TOTAL,",0,2,0.13333333333333333,782
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal merchandiseTotal;,0,2,0.13333333333333333,783
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Merchandise_Total"", order=Presentation.FieldOrder.MERCHANDISETOTAL,",0,2,0.13333333333333333,784
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Primary_FG"", order=Presentation.FieldOrder.PRIMARY)",0,2,0.13333333333333333,785
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.ArrayList;,0,2,0.13333333333333333,786
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.List;,1,2,0.13333333333333333,787
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.money.Money;,0,2,0.13333333333333333,788
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (OfferDiscountType.AMOUNT_OFF.equals(discountType)) {,1,2,0.13333333333333333,789
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OfferTier maxTier = null;,1,2,0.13333333333333333,790
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (advancedOffer.isTieredOffer()) {,1,2,0.13333333333333333,791
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,AdvancedOffer advancedOffer = (AdvancedOffer) offer;,1,2,0.13333333333333333,792
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (offer instanceof AdvancedOffer) {,1,2,0.13333333333333333,793
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (currentPriceDetailValue.lessThan(adjustmentValue)) {,1,2,0.13333333333333333,794
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"adjustmentValue = new Money(offerValue, currency);",1,2,0.13333333333333333,795
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (rounding.isRoundOfferValues()) {,1,2,0.13333333333333333,796
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"BigDecimal offerValue = currentPriceDetailValue.getAmount().multiply(offerUnitValue.divide(new BigDecimal(""100""), 5, RoundingMode.HALF_EVEN));",1,2,0.13333333333333333,797
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (OfferDiscountType.PERCENT_OFF.equals(discountType)) {,1,2,0.13333333333333333,798
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (OfferDiscountType.FIX_PRICE.equals(discountType)) {,1,2,0.13333333333333333,799
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"adjustmentValue = new Money(offerUnitValue, currency);",1,2,0.13333333333333333,800
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustmentValue = new Money();,1,2,0.13333333333333333,801
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* (the ""Fair Use License"" located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)",0,2,0.13333333333333333,802
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustmentValue = new Money(currency);,1,2,0.13333333333333333,803
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.math.BigDecimal;,1,2,0.13333333333333333,804
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.Offer;,1,2,0.13333333333333333,805
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.currency.domain.BroadleafCurrency;,1,2,0.13333333333333333,806
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money computeAdjustmentValue(PromotableCandidateItemOffer promotableCandidateItemOffer, PromotableOrderItemPriceDetail orderItemPriceDetail, boolean allowSalePrice);",0,2,0.13333333333333333,807
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money computeSalesAdjustmentValue(PromotableCandidateFulfillmentGroupOffer promotableCandidateFulfillmentGroupOffer, PromotableFulfillmentGroup promotableFulfillmentGroup);",0,2,0.13333333333333333,808
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money computeRetailAdjustmentValue(PromotableCandidateFulfillmentGroupOffer promotableCandidateFulfillmentGroupOffer, PromotableFulfillmentGroup promotableFulfillmentGroup);",0,2,0.13333333333333333,809
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return new PromotableFulfillmentGroupAdjustmentImpl(promotableCandidateFulfillmentGroupOffer, fulfillmentGroup);",1,2,0.13333333333333333,810
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return new PromotableOrderItemPriceDetailAdjustmentImpl(promotableCandidateItemOffer, orderItemPriceDetail);",1,2,0.13333333333333333,811
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Address getAddress() {,0,2,0.13333333333333333,812
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return new PromotableOrderItemPriceDetailAdjustmentImpl(promotableCandidateItemOffer, orderItemPriceDetail,",0,2,0.13333333333333333,813
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,//assuming that promotableOffer.getOffer()).getOfferTiers() is sorted already,1,2,0.13333333333333333,814
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (quantity >= currentTier.getMinQuantity()) {,1,2,0.13333333333333333,815
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (OfferDiscountType.FIX_PRICE.equals(offer.getDiscountType())) {,1,2,0.13333333333333333,816
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money saleAdjustmentValue) {,0,2,0.13333333333333333,817
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @return,1,2,0.13333333333333333,818
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"adjustmentValue = new Money(offerValue, getCurrency(), 5);",1,2,0.13333333333333333,819
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (isRoundOfferValues()) {,1,2,0.13333333333333333,820
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"BigDecimal offerValue = currentPriceDetailValue.getAmount().multiply(offer.getValue().divide(new BigDecimal(""100""), 5, RoundingMode.HALF_EVEN));",1,2,0.13333333333333333,821
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,scale = getCurrency().getJavaCurrency().getDefaultFractionDigits();,0,2,0.13333333333333333,822
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,BigDecimal offerValue = currentPriceDetailValue.getAmount().multiply(,0,2,0.13333333333333333,823
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return roundingMode;,1,2,0.13333333333333333,824
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @see #isRoundOfferValues(),1,2,0.13333333333333333,825
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Integer getRoundingScale() {,0,2,0.13333333333333333,826
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return roundingMode;,0,2,0.13333333333333333,827
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Integer roundingScale;,0,2,0.13333333333333333,828
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"new PromotableItemFactoryImpl(), false);",1,2,0.13333333333333333,829
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"new PromotableItemFactoryImpl(promotableOfferUtility), false);",0,2,0.13333333333333333,830
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableOfferUtility promotableOfferUtility = new PromotableOfferUtilityImpl();,0,2,0.13333333333333333,831
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"savings = promotableCandidate.calculateSavingsForOrderItem(promotableOrderItem, 1);",1,2,0.13333333333333333,832
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"savings = promotableOfferUtility.calculateSavingsForOrderItem(promotableCandidate, promotableOrderItem, 1);",0,2,0.13333333333333333,833
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,promotableOfferUtility = new PromotableOfferUtilityImpl();,0,2,0.13333333333333333,834
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"BigDecimal offerUnitValue = PromotableOfferUtility.determineOfferUnitValue(offer, promotableCandidateItemOffer);",1,2,0.13333333333333333,835
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money currentPriceDetailSalesValue = promotableOrderItemPriceDetail.calculateItemUnitPriceWithAdjustments(true);,1,2,0.13333333333333333,836
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money currentPriceDetailRetailValue = promotableOrderItemPriceDetail.calculateItemUnitPriceWithAdjustments(false);,1,2,0.13333333333333333,837
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,retailAdjustmentValue = new Money(getCurrency());,1,2,0.13333333333333333,838
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,saleAdjustmentValue = new Money(getCurrency());,1,2,0.13333333333333333,839
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.math.BigDecimal;,1,2,0.13333333333333333,840
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupItems = new Vector<FulfillmentGroupItem>();,0,2,0.13333333333333333,841
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<TaxDetail> getTaxes() {,1,2,0.13333333333333333,842
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Phone getPhone() {,0,2,0.13333333333333333,843
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"tab = Presentation.Tab.Name.Items, tabOrder = Presentation.Tab.Order.Items)",1,2,0.13333333333333333,844
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupItems = new Vector<FulfillmentGroupItem>();,1,2,0.13333333333333333,845
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (orderItem instanceof BundleOrderItem) {,1,2,0.13333333333333333,846
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<DiscreteOrderItem> discreteOrderItems = new ArrayList<DiscreteOrderItem>();,1,2,0.13333333333333333,847
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<DiscreteOrderItem> getDiscreteOrderItems() {,1,2,0.13333333333333333,848
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<FulfillmentGroupItem> getFulfillmentGroupItems() {,1,2,0.13333333333333333,849
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getReferenceNumber() {,1,2,0.13333333333333333,850
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public FulfillmentOption getFulfillmentOption() {,1,2,0.13333333333333333,851
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Long getId() {,1,2,0.13333333333333333,852
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Boolean shippingOverride;,1,2,0.13333333333333333,853
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"inverseJoinColumns = @JoinColumn(name = ""TAX_DETAIL_ID""))",1,2,0.13333333333333333,854
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"tab = Presentation.Tab.Name.Advanced, tabOrder = Presentation.Tab.Order.Advanced)",1,2,0.13333333333333333,855
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,orphanRemoval = true),1,2,0.13333333333333333,856
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getMethod() {,0,2,0.13333333333333333,857
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Order order;,1,2,0.13333333333333333,858
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"tab = Presentation.Tab.Name.Pricing, tabOrder = Presentation.Tab.Order.Pricing)",1,2,0.13333333333333333,859
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Shipping_Price_Taxable"", order=Presentation.FieldOrder.TAXABLE,",1,2,0.13333333333333333,860
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"prominent = true, gridOrder = 4000)",1,2,0.13333333333333333,861
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Status"", order=Presentation.FieldOrder.STATUS,",1,2,0.13333333333333333,862
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal total;,1,2,0.13333333333333333,863
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"fieldType= SupportedFieldType.MONEY, prominent = true, gridOrder = 2000)",1,2,0.13333333333333333,864
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total"", order=Presentation.FieldOrder.TOTAL,",1,2,0.13333333333333333,865
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal merchandiseTotal;,1,2,0.13333333333333333,866
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Merchandise_Total"", order=Presentation.FieldOrder.MERCHANDISETOTAL,",1,2,0.13333333333333333,867
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Primary_FG"", order=Presentation.FieldOrder.PRIMARY)",1,2,0.13333333333333333,868
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Address getAddress() {,1,2,0.13333333333333333,869
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Phone getPhone() {,1,2,0.13333333333333333,870
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getMethod() {,1,2,0.13333333333333333,871
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public FulfillmentType getType() {,1,2,0.13333333333333333,872
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money currentPriceDetailRetailValue = promotableFulfillmentGroup.calculatePriceWithAdjustments(false);,1,2,0.13333333333333333,873
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!getClass().isAssignableFrom(obj.getClass())) {,1,2,0.13333333333333333,874
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroupItem fgi: fulfillmentGroupItems) {,1,2,0.13333333333333333,875
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (createResponse.isAlreadyPopulated()) {,1,2,0.13333333333333333,876
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public <G extends FulfillmentGroup> CreateResponse<G> createOrRetrieveCopyInstance(MultiTenantCopyContext context) throws CloneNotSupportedException {,1,2,0.13333333333333333,877
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int result = 1;,1,2,0.13333333333333333,878
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,final int prime = 31;,1,2,0.13333333333333333,879
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return null;,1,2,0.13333333333333333,880
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getCurrencyCode() {,1,2,0.13333333333333333,881
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getService() {,1,2,0.13333333333333333,882
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Integer getSequence() {,1,2,0.13333333333333333,883
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupFees = new ArrayList<FulfillmentGroupFee>();,1,2,0.13333333333333333,884
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<FulfillmentGroupFee> getFulfillmentGroupFees() {,1,2,0.13333333333333333,885
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public FulfillmentGroupStatusType getStatus() {,1,2,0.13333333333333333,886
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public PersonalMessage getPersonalMessage() {,1,2,0.13333333333333333,887
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getDeliveryInstruction() {,1,2,0.13333333333333333,888
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!adjustment.isFutureCredit()) {,1,2,0.13333333333333333,889
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money adjustmentsValue = BroadleafCurrencyUtils.getMoney(BigDecimal.ZERO, getOrder().getCurrency());",1,2,0.13333333333333333,890
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (adjustment.isFutureCredit()) {,1,2,0.13333333333333333,891
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<FulfillmentGroupAdjustment> futureCreditAdjustments = new ArrayList<>();,1,2,0.13333333333333333,892
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<FulfillmentGroupAdjustment> getFutureCreditFulfillmentGroupAdjustments() {,1,2,0.13333333333333333,893
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<FulfillmentGroupAdjustment> getFulfillmentGroupAdjustments() {,1,2,0.13333333333333333,894
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<CandidateFulfillmentGroupOffer> getCandidateFulfillmentGroupOffers() {,1,2,0.13333333333333333,895
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Delivery_Instruction"", order=Presentation.FieldOrder.DELIVERINSTRUCTION)",1,2,0.13333333333333333,896
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal totalFulfillmentGroupTax;,1,2,0.13333333333333333,897
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total_FG_Tax"", order=Presentation.FieldOrder.FGTAX,",1,2,0.13333333333333333,898
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* (the ""Fair Use License"" located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)",1,2,0.13333333333333333,899
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,for (FulfillmentGroupItem fgi: fulfillmentGroupItems) {,0,2,0.13333333333333333,900
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (createResponse.isAlreadyPopulated()) {,0,2,0.13333333333333333,901
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public <G extends FulfillmentGroup> CreateResponse<G> createOrRetrieveCopyInstance(MultiTenantCopyContext context) throws CloneNotSupportedException {,0,2,0.13333333333333333,902
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int result = 1;,0,2,0.13333333333333333,903
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,final int prime = 31;,0,2,0.13333333333333333,904
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return null;,0,2,0.13333333333333333,905
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getCurrencyCode() {,0,2,0.13333333333333333,906
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getService() {,0,2,0.13333333333333333,907
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public Integer getSequence() {,0,2,0.13333333333333333,908
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupFees = new ArrayList<FulfillmentGroupFee>();,0,2,0.13333333333333333,909
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<FulfillmentGroupFee> getFulfillmentGroupFees() {,0,2,0.13333333333333333,910
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public FulfillmentGroupStatusType getStatus() {,0,2,0.13333333333333333,911
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public PersonalMessage getPersonalMessage() {,0,2,0.13333333333333333,912
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public String getDeliveryInstruction() {,0,2,0.13333333333333333,913
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<TaxDetail> getTaxes() {,0,2,0.13333333333333333,914
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!adjustment.isFutureCredit()) {,0,2,0.13333333333333333,915
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money adjustmentsValue = BroadleafCurrencyUtils.getMoney(BigDecimal.ZERO, getOrder().getCurrency());",0,2,0.13333333333333333,916
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (adjustment.isFutureCredit()) {,0,2,0.13333333333333333,917
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<FulfillmentGroupAdjustment> futureCreditAdjustments = new ArrayList<>();,0,2,0.13333333333333333,918
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<FulfillmentGroupAdjustment> getFutureCreditFulfillmentGroupAdjustments() {,0,2,0.13333333333333333,919
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<FulfillmentGroupAdjustment> getFulfillmentGroupAdjustments() {,0,2,0.13333333333333333,920
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<CandidateFulfillmentGroupOffer> getCandidateFulfillmentGroupOffers() {,0,2,0.13333333333333333,921
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public FulfillmentType getType() {,0,2,0.13333333333333333,922
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!getClass().isAssignableFrom(obj.getClass())) {,0,2,0.13333333333333333,923
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.money.Money;,1,2,0.13333333333333333,924
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal totalFeeTax;,1,2,0.13333333333333333,925
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.math.BigDecimal;,1,2,0.13333333333333333,926
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total_Fee_Tax"", order=Presentation.FieldOrder.FEETAX,",1,2,0.13333333333333333,927
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal totalItemTax;,1,2,0.13333333333333333,928
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total_Item_Tax"", order=Presentation.FieldOrder.ITEMTAX,",1,2,0.13333333333333333,929
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal totalTax;,1,2,0.13333333333333333,930
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Total_Tax"", order=Presentation.FieldOrder.TOTALTAX,",1,2,0.13333333333333333,931
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"prominent = true, gridOrder = 3000)",1,2,0.13333333333333333,932
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Type"", order=Presentation.FieldOrder.TYPE,",1,2,0.13333333333333333,933
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal fulfillmentPrice;,1,2,0.13333333333333333,934
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Shipping_Price"", order=Presentation.FieldOrder.PRICE,",1,2,0.13333333333333333,935
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal saleFulfillmentPrice;,1,2,0.13333333333333333,936
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Sale_Shipping_Price"", order=Presentation.FieldOrder.SALE,",1,2,0.13333333333333333,937
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal retailFulfillmentPrice;,1,2,0.13333333333333333,938
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"tab = Presentation.Tab.Name.Pricing, tabOrder = Presentation.Tab.Order.Pricing,",1,2,0.13333333333333333,939
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_Retail_Shipping_Price"", order=Presentation.FieldOrder.RETAIL,",1,2,0.13333333333333333,940
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentation(friendlyName = ""FulfillmentGroupImpl_FG_Reference_Number"", order=Presentation.FieldOrder.REFNUMBER,",1,2,0.13333333333333333,941
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,parameters = {,1,2,0.13333333333333333,942
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,private static final long serialVersionUID = 1L;,1,2,0.13333333333333333,943
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationClass(populateToOneFields = PopulateToOneFieldsEnum.TRUE, friendlyName = ""FulfillmentGroupImpl_baseFulfillmentGroup"")",1,2,0.13333333333333333,944
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,booleanOverrideValue = true),1,2,0.13333333333333333,945
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = ""currency"", mergeEntries =",1,2,0.13333333333333333,946
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeOverride(name = """", mergeEntries =",1,2,0.13333333333333333,947
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Cache(usage = CacheConcurrencyStrategy.READ_WRITE, region = ""blOrderElements"")",1,2,0.13333333333333333,948
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.List;,1,2,0.13333333333333333,949
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public PromotableItemFactoryImpl(PromotableOfferUtility promotableOfferUtility) {,0,2,0.13333333333333333,950
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.ArrayList;,1,2,0.13333333333333333,951
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money currentPriceDetailSalesValue = promotableFulfillmentGroup.calculatePriceWithAdjustments(true);,1,2,0.13333333333333333,952
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @return,0,2,0.13333333333333333,953
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @return,1,2,0.13333333333333333,954
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param detail,1,2,0.13333333333333333,955
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (adjustmentIsNotGoodEnoughToBeApplied(itemOffer, itemPriceDetail)) {",1,2,0.13333333333333333,956
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemOffer.getOffer().isTotalitarianOffer() || !itemOffer.getOffer().isCombinableWithOtherOffers()) {,1,2,0.13333333333333333,957
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (discount.getPromotion().equals(itemOffer.getOffer())) {,1,2,0.13333333333333333,958
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,potentialSavings = potentialSavings.add(itemSavings);,0,2,0.13333333333333333,959
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money itemSavings = calculatePotentialSavingsForOrderItem(itemOffer, item, discount.getQuantity());",0,2,0.13333333333333333,960
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,quantity = ((Integer) o).intValue();,0,2,0.13333333333333333,961
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Map<String,Object> contextMap = new HashMap<String,Object>();",0,2,0.13333333333333333,962
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotableOrderItem item, int quantity) {",0,2,0.13333333333333333,963
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected Money calculatePotentialSavingsForOrderItem(PromotableCandidateItemOffer itemOffer,",0,2,0.13333333333333333,964
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItemHolder orderItemHolder = new OrderItemHolder(null);,0,2,0.13333333333333333,965
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int receiveQtyNeeded = 0;,1,2,0.13333333333333333,966
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"int qualifierQtyNeeded = offerServiceUtilities.markQualifiersForCriteria(itemOffer, itemCriteria, priceDetails);",0,2,0.13333333333333333,967
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemOffer.isLegacyOffer()) {,0,2,0.13333333333333333,968
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (offerServiceUtilities.itemOfferCanBeApplied(itemOffer, order.getAllPromotableOrderItemPriceDetails())) {",0,2,0.13333333333333333,969
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (applyItemOfferExtension(order, itemOffer)) {",0,2,0.13333333333333333,970
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Returning false,0,2,0.13333333333333333,971
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Map<String, Object> contextMap = new HashMap<String, Object>();",0,2,0.13333333333333333,972
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableCandidateItemOffer itemOffer) {,0,2,0.13333333333333333,973
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* Call out to extension managers.,0,2,0.13333333333333333,974
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.HashMap;,0,2,0.13333333333333333,975
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return (receiveQtyNeeded == 0);,1,2,0.13333333333333333,976
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"int qtyToMarkAsTarget = Math.min(receiveQtyNeeded, itemQtyAvailableToBeUsedAsTarget);",1,2,0.13333333333333333,977
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected boolean adjustmentIsNotGoodEnoughToBeApplied(PromotableCandidateItemOffer itemOffer,",1,2,0.13333333333333333,978
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!itemOffer.getOffer().getApplyDiscountToSalePrice()) {,1,2,0.13333333333333333,979
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money salePrice = detail.getPromotableOrderItem().getSalePriceBeforeAdjustments();,1,2,0.13333333333333333,980
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money retailPrice = detail.getPromotableOrderItem().getRetailPriceBeforeAdjustments();,1,2,0.13333333333333333,981
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,private void removeTrailingNonCombinableOrTotalitarianOffers(List<PromotableCandidateItemOffer> qualifiedItemOffers) {,1,2,0.13333333333333333,982
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @param qualifiedItemOffers,1,2,0.13333333333333333,983
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,potentialSavings = potentialSavings.add(,1,2,0.13333333333333333,984
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money price2 = o2.getPromotableOrderItem().getPriceBeforeAdjustments(applyToSalePrice);,1,2,0.13333333333333333,985
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotionQualifier pq = detail.addPromotionQualifier(itemOffer, itemCriteria, qtyToMarkAsQualifier);",1,2,0.13333333333333333,986
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (possibleQualifier.getPromotion().equals(itemOffer.getOffer())) {,1,2,0.13333333333333333,987
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OfferItemCriteria previousQualifierCriteria = null;,1,2,0.13333333333333333,988
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// might need in the future.,1,2,0.13333333333333333,989
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem relatedOrderItem = null;,1,2,0.13333333333333333,990
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!checkOnly) {,1,2,0.13333333333333333,991
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"int qtyToMarkAsTarget = Math.min(targetQtyNeeded, itemQtyAvailableToBeUsedAsTarget);",1,2,0.13333333333333333,992
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (promotion.isUnlimitedUsePerOrder() || (itemOffer.getUses() < promotion.getMaxUsesPerOrder())) {,1,2,0.13333333333333333,993
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int itemQtyAvailableToBeUsedAsTarget = priceDetail.getQuantityAvailableToBeUsedAsTarget(itemOffer);,1,2,0.13333333333333333,994
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (relatedQualifierRoot.getParentOrderItem() != null) {,1,2,0.13333333333333333,995
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem relatedQualifierRoot = null;,1,2,0.13333333333333333,996
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"int qtyToMarkAsQualifier = Math.min(qualifierQtyNeeded, itemQtyAvailableToBeUsedAsQualifier);",1,2,0.13333333333333333,997
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int itemQtyAvailableToBeUsedAsQualifier = detail.getQuantityAvailableToBeUsedAsQualifier(itemOffer);,1,2,0.13333333333333333,998
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int qualifierQtyNeeded = itemCriteria.getQuantity();,1,2,0.13333333333333333,999
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemOffer.isLegacyOffer()) {,1,2,0.13333333333333333,1000
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (itemOfferCanBeApplied(order, itemOffer)) {",1,2,0.13333333333333333,1001
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (adjustment.isTotalitarian() || itemOffer.getOffer().isTotalitarianOffer()) {,1,2,0.13333333333333333,1002
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* item adjustments.,1,2,0.13333333333333333,1003
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (salePrice.lessThan(retailPrice.subtract(savings))) {,1,2,0.13333333333333333,1004
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int itemQtyAvailableToBeUsedAsTarget = priceDetail.getQuantityAvailableToBeUsedAsTarget(itemOffer);,1,2,0.13333333333333333,1005
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!candidate.getCandidateTargets().contains(promotableOrderItem)) {,1,2,0.13333333333333333,1006
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemOffer.getOffer().isTotalitarianOffer()) {,1,2,0.13333333333333333,1007
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OfferItemCriteria previousQualifierCriteria = null;,0,2,0.13333333333333333,1008
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemPriceDetail.isTotalitarianOfferApplied()) {,0,2,0.13333333333333333,1009
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (saleAdjustmentPrice.lessThan(retailAdjustmentPrice)) {,1,2,0.13333333333333333,1010
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (saleAdjustmentPrice.lessThanOrEqual(retailAdjustmentPrice)) {,0,2,0.13333333333333333,1011
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"targetsFound = markTargets(itemOffer, order, null);",0,2,0.13333333333333333,1012
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"qualifiersFound = markQualifiers(itemOffer, order);",0,2,0.13333333333333333,1013
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemOffer.getOffer().getRequiresRelatedTargetAndQualifiers()) {,0,2,0.13333333333333333,1014
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean targetsFound = false;,0,2,0.13333333333333333,1015
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean qualifiersFound = false;,0,2,0.13333333333333333,1016
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// the relationship flag.,0,2,0.13333333333333333,1017
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"int qtyToMarkAsQualifier = Math.min(qualifierQtyNeeded, itemQtyAvailableToBeUsedAsQualifier);",0,2,0.13333333333333333,1018
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (possibleQualifier.getPromotion().equals(itemOffer.getOffer())) {,0,2,0.13333333333333333,1019
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// might need in the future.,0,2,0.13333333333333333,1020
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"int qtyToMarkAsTarget = Math.min(targetQtyNeeded, itemQtyAvailableToBeUsedAsTarget);",0,2,0.13333333333333333,1021
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int itemQtyAvailableToBeUsedAsQualifier = detail.getQuantityAvailableToBeUsedAsQualifier(itemOffer);,0,2,0.13333333333333333,1022
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int qualifierQtyNeeded = itemCriteria.getQuantity();,0,2,0.13333333333333333,1023
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OfferItemCriteria itemCriteria = entry.getKey();,0,2,0.13333333333333333,1024
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (relatedQualifierRoot.getParentOrderItem() != null) {,0,2,0.13333333333333333,1025
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem relatedQualifierRoot = null;,0,2,0.13333333333333333,1026
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"void addPromotionQualifier(PromotableCandidateItemOffer itemOffer, OfferItemCriteria itemCriteria, int qtyToMarkAsQualifier);",1,2,0.13333333333333333,1027
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotionQualifier addPromotionQualifier(PromotableCandidateItemOffer itemOffer, OfferItemCriteria itemCriteria, int qtyToMarkAsQualifier);",0,2,0.13333333333333333,1028
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @return,0,2,0.13333333333333333,1029
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemAdjustment.isAppliedToSalePrice()) {,0,2,0.13333333333333333,1030
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemAdjustment.isAppliedToSalePrice()) {,0,2,0.13333333333333333,1031
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,retailAdjustmentValue = new Money(getCurrency());,1,2,0.13333333333333333,1032
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fg.isTotalitarianOfferApplied()) {,0,2,0.13333333333333333,1033
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean totalitarianOfferApplied = false;,1,2,0.13333333333333333,1034
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!totalitarianOfferApplied) {,1,2,0.13333333333333333,1035
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fg.isTotalitarianOfferApplied()) {,1,2,0.13333333333333333,1036
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int itemQtyAvailableToBeUsedAsTarget = detail.getQuantityAvailableToBeUsedAsTarget(itemOffer);,0,2,0.13333333333333333,1037
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int targetQtyNeeded = itemCriteria.getQuantity();,0,2,0.13333333333333333,1038
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemOffer.getCandidateTargetsMap().keySet().isEmpty()) {,0,2,0.13333333333333333,1039
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!candidate.getLegacyCandidateTargets().contains(promotableOrderItem)) {,0,2,0.13333333333333333,1040
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"void addPromotionDiscount(PromotableCandidateItemOffer itemOffer, Set<OfferItemCriteria> itemCriteria, int qtyToMarkAsTarget);",1,2,0.13333333333333333,1041
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"void addPromotionDiscount(PromotableCandidateItemOffer itemOffer, OfferItemCriteria itemCriteria, int qtyToMarkAsTarget);",0,2,0.13333333333333333,1042
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<PromotableOrderItem> getCandidateTargets() {,1,2,0.13333333333333333,1043
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (appliedCount >= maxUses) {,1,2,0.13333333333333333,1044
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"savings = savings.add(calculateSavingsForOrderItem(chgItem, qtyToReceiveSavings));",1,2,0.13333333333333333,1045
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"int qtyToReceiveSavings = Math.min(chgItem.getQuantity(), maxUses);",1,2,0.13333333333333333,1046
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int appliedCount = 0;,1,2,0.13333333333333333,1047
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int maxUses = calculateMaximumNumberOfUses();,1,2,0.13333333333333333,1048
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @return,1,2,0.13333333333333333,1049
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public List<PromotableOrderItem> getLegacyCandidateTargets() {,0,2,0.13333333333333333,1050
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"new HashMap<OfferItemCriteria, List<PromotableOrderItem>>();",0,2,0.13333333333333333,1051
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if ((promotion.isUnlimitedUsePerOrder()) || (itemOffer.getUses() < promotion.getMaxUsesPerOrder())) {,0,2,0.13333333333333333,1052
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// the relationship flag.,1,2,0.13333333333333333,1053
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int curQualifier = 0;,0,2,0.13333333333333333,1054
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!checkOnly) {,0,2,0.13333333333333333,1055
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean checkOnly) {,0,2,0.13333333333333333,1056
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (orderOffer.isTotalitarian()) {,1,2,0.13333333333333333,1057
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (orderOffer.isTotalitarian() || promotableOrder.isTotalitarianItemOfferApplied()) {,0,2,0.13333333333333333,1058
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (isTotalitarianOfferApplied()) {,1,2,0.13333333333333333,1059
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (offerIterator.hasNext()) {,1,2,0.13333333333333333,1060
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotionQualifier pq = detail.addPromotionQualifier(itemOffer, itemCriteria, qtyToMarkAsQualifier);",0,2,0.13333333333333333,1061
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Map<Long, OrderItemPriceDetailAdjustment> itemAdjustmentMap =",0,2,0.13333333333333333,1062
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Offer deproxiedOffer;,0,2,0.13333333333333333,1063
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return offer;,1,2,0.13333333333333333,1064
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = offer.getName();,1,2,0.13333333333333333,1065
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = null;,0,2,0.13333333333333333,1066
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = this.offerName;,0,2,0.13333333333333333,1067
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = offer;,0,2,0.13333333333333333,1068
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Offer deproxiedOffer;,0,2,0.13333333333333333,1069
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return offer;,1,2,0.13333333333333333,1070
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = offer.getName();,1,2,0.13333333333333333,1071
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = null;,0,2,0.13333333333333333,1072
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = this.offerName;,0,2,0.13333333333333333,1073
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = offer;,0,2,0.13333333333333333,1074
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return offer;,1,2,0.13333333333333333,1075
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (LOG.isTraceEnabled()) {,0,2,0.13333333333333333,1076
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = offer.getName();,1,2,0.13333333333333333,1077
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = null;,0,2,0.13333333333333333,1078
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.reason = this.offerName;,0,2,0.13333333333333333,1079
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = offer;,0,2,0.13333333333333333,1080
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Offer deproxiedOffer;,0,2,0.13333333333333333,1081
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (includeChildren) {,0,2,0.13333333333333333,1082
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money returnPrice = Money.ZERO;,0,2,0.13333333333333333,1083
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return getPriceBeforeAdjustments(allowSalesPrice, false);",0,2,0.13333333333333333,1084
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!orderOffer.isCombinable()) {,1,2,0.13333333333333333,1085
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (LOG.isTraceEnabled()) {,1,2,0.13333333333333333,1086
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (orderOffer.isTotalitarian() || promotableOrder.isTotalitarianItemOfferApplied()) {,1,2,0.13333333333333333,1087
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!adjustment.getValue().equals(promotableAdjustment.getAdjustmentValue())) {,0,2,0.13333333333333333,1088
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (LOG.isDebugEnabled()) {,0,2,0.13333333333333333,1089
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!adjustment.isFutureCredit().equals(promotableAdjustment.getOffer().isFutureCredit())) {,0,2,0.13333333333333333,1090
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean syncNeededOnTotal = false;,0,2,0.13333333333333333,1091
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,public OfferServiceUtilities getOfferServiceUtilities() {,0,2,0.13333333333333333,1092
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,saleAdjustmentValue = new Money(getCurrency());,1,2,0.13333333333333333,1093
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableFulfillmentGroup fulfillmentGroup) {,1,2,0.13333333333333333,1094
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money saleAdjustmentValue) {,0,2,0.13333333333333333,1095
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotableFulfillmentGroup fulfillmentGroup,",0,2,0.13333333333333333,1096
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"savings = PromotableOfferUtility.computeAdjustmentValue(originalPrice, offerUnitValue, this, this);",1,2,0.13333333333333333,1097
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"BigDecimal offerUnitValue = PromotableOfferUtility.determineOfferUnitValue(offer, this);",1,2,0.13333333333333333,1098
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"void setCandidateFixedTargetsMap(HashMap<OfferPriceData, List<PromotableOrderItem>> candidateFixedTargetsMap);",0,2,0.13333333333333333,1099
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int returnQty = 0;,1,2,0.13333333333333333,1100
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int iterationQty = 0;,0,2,0.13333333333333333,1101
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Integer returnQty = null;,0,2,0.13333333333333333,1102
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int returnQty = 0;,0,2,0.13333333333333333,1103
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (isUseQtyOnlyTierCalculation()) {,0,2,0.13333333333333333,1104
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.annotation.Resource;,0,2,0.13333333333333333,1105
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (LOG.isDebugEnabled()) {,1,2,0.13333333333333333,1106
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!adjustment.getValue().equals(promotableAdjustment.getAdjustmentValue())) {,1,2,0.13333333333333333,1107
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money fulfillmentPrice = retailPrice.subtract(orderDiscountFulfillmentGroupAdjustmentsValue);,0,2,0.13333333333333333,1108
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money orderDiscountFulfillmentGroupAdjustmentsValue = fg.getFulfillmentGroupAdjustmentsValue();,0,2,0.13333333333333333,1109
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money retailPrice = fg.getRetailFulfillmentPrice();,0,2,0.13333333333333333,1110
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money syncFulfillmentPrice = Money.ZERO;,0,2,0.13333333333333333,1111
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (syncNeededOnTotal) {,0,2,0.13333333333333333,1112
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (syncNeeded) {,0,2,0.13333333333333333,1113
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean syncNeeded = fgContainsFutureCreditAdjustment(fg);,0,2,0.13333333333333333,1114
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!orderOffer.isCombinable()) {,0,2,0.13333333333333333,1115
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return new PromotableCandidateItemOfferImpl(promotableOrder, offer, useQtyOnlyTierCalculation);",0,2,0.13333333333333333,1116
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (orderOffer.isTotalitarian() || promotableOrder.isTotalitarianItemOfferApplied()) {,0,2,0.13333333333333333,1117
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (hasQualifiers) {,0,2,0.13333333333333333,1118
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotionQualifier currentQualifier = qualifiers.next();,1,2,0.13333333333333333,1119
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected PromotableOrderItemPriceDetail split(int discountQty, Long offerId) {",1,2,0.13333333333333333,1120
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotionQualifier newQualifier = currentQualifier.split(splitItemQty);,0,2,0.13333333333333333,1121
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotionQualifier currentQualifier = qualifiers.next();,0,2,0.13333333333333333,1122
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (hasQualifiers) {,0,2,0.13333333333333333,1123
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected void updateItemAdjustment(OrderItemPriceDetailAdjustment itemAdjustment,",1,2,0.13333333333333333,1124
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (adjustmentIdsToRemove.contains(adj.getOffer().getId())) {,1,2,0.13333333333333333,1125
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Iterator<OrderItemPriceDetailAdjustment> iterator = itemDetail.getOrderItemPriceDetailAdjustments().iterator();,1,2,0.13333333333333333,1126
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<Long> adjustmentIdsToRemove = new ArrayList<Long>();,1,2,0.13333333333333333,1127
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (!itemAdjustment.getValue().equals(adjustment.getAdjustmentValue())) {,1,2,0.13333333333333333,1128
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Update existing adjustment,1,2,0.13333333333333333,1129
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (promotableDetail.isAdjustmentsFinalized()) {,1,2,0.13333333333333333,1130
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (itemDetail.getQuantity() != promotableDetail.getQuantity()) {,1,2,0.13333333333333333,1131
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Map<Long, OrderItemPriceDetailAdjustment> itemAdjustmentMap = buildItemDetailAdjustmentMap(itemDetail);",1,2,0.13333333333333333,1132
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected void updatePriceDetail(OrderItemPriceDetail itemDetail,",1,2,0.13333333333333333,1133
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (unmatchedQualifiersMap.containsKey(currentQualifier.getId())) {,1,2,0.13333333333333333,1134
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (unmatchedDetailsMap.containsKey(currentDetail.getId())) {,1,2,0.13333333333333333,1135
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Map<OrderItem, PromotableOrderItem> promotableItemMap = new HashMap<OrderItem, PromotableOrderItem>();",1,2,0.13333333333333333,1136
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (container.isPricingAtContainerLevel()) {,1,2,0.13333333333333333,1137
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (currentItem instanceof OrderItemContainer) {,1,2,0.13333333333333333,1138
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<OrderItem> orderItemList = new ArrayList<OrderItem>();,1,2,0.13333333333333333,1139
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (subtotal.greaterThanOrEqual(qualifyingItemSubTotal)) {,1,2,0.13333333333333333,1140
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected List<OrderItem> buildOrderItemList(Order order) {,1,2,0.13333333333333333,1141
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotionQualifier newQualifier = currentQualifier.split(splitItemQty);,1,2,0.13333333333333333,1142
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected Map<OrderItem, PromotableOrderItem> buildPromotableItemMap(PromotableOrder promotableOrder) {",1,2,0.13333333333333333,1143
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotionQualifier currentQualifier = qualifiers.next();,0,2,0.13333333333333333,1144
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return new BigDecimal(0);,0,2,0.13333333333333333,1145
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money subtotal = Money.ZERO;,1,2,0.13333333333333333,1146
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money qualifyingItemSubTotal = itemOffer.getOffer().getQualifyingItemSubTotal();,1,2,0.13333333333333333,1147
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotionQualifier newQualifier = currentQualifier.split(splitItemQty);,0,2,0.13333333333333333,1148
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money lineItemAmount = item.getPriceBeforeAdjustments(itemOffer.getOffer().getApplyDiscountToSalePrice()).multiply(item.getQuantity());,1,2,0.13333333333333333,1149
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,private void initializePriceDetails() {,1,2,0.13333333333333333,1150
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return new BigDecimal(0);,0,2,0.13333333333333333,1151
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"savings = PromotableOfferUtility.computeAdjustmentValue(originalPrice, offerUnitValue, this, this);",0,2,0.13333333333333333,1152
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Money originalPrice;,0,2,0.13333333333333333,1153
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal weightedPercentSaved;,0,2,0.13333333333333333,1154
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,private void initializePriceDetails() {,1,2,0.13333333333333333,1155
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"savings = PromotableOfferUtility.computeAdjustmentValue(price, offerUnitValue, this, this);",1,2,0.13333333333333333,1156
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"savings = PromotableOfferUtility.computeAdjustmentValue(price, offerUnitValue, this, this);",1,2,0.13333333333333333,1157
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"savings = PromotableOfferUtility.computeAdjustmentValue(originalPrice, offerUnitValue, this, this);",0,2,0.13333333333333333,1158
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (fulfillmentGroup.getShippingOverride()) {,0,2,0.13333333333333333,1159
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Money originalPrice;,0,2,0.13333333333333333,1160
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,if (OfferDiscountType.FIX_PRICE.equals(offer.getDiscountType())) {,0,2,0.13333333333333333,1161
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotionQualifier currentQualifier = qualifiers.next();,1,2,0.13333333333333333,1162
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,FulfillmentGroup fulfillmentGroup = fulfillmentGroupMember.getFulfillmentGroup();,0,2,0.13333333333333333,1163
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"if (offerMeetsSubtotalRequirements(order, itemOffer)) {",1,2,0.13333333333333333,1164
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money fulfillmentCharges = fulfillmentGroup.getFinalizedPriceWithAdjustments();,1,2,0.13333333333333333,1165
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"protected PromotableOrderItemPriceDetail split(int discountQty, Long offerId) {",1,2,0.13333333333333333,1166
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected BigDecimal weightedPercentSaved;,0,2,0.13333333333333333,1167
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotionQualifier newQualifier = currentQualifier.split(splitItemQty);,1,2,0.13333333333333333,1168
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentOption = fulfillmentOption;,0,1,0.06666666666666667,1169
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return referenceNumber;,0,1,0.06666666666666667,1170
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupItems = fulfillmentGroupItems;,0,1,0.06666666666666667,1171
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.referenceNumber = referenceNumber;,0,1,0.06666666666666667,1172
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return fulfillmentGroupItems;,0,1,0.06666666666666667,1173
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem orderItem = fgItem.getOrderItem();,0,1,0.06666666666666667,1174
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,BundleOrderItemImpl bundleOrderItem = (BundleOrderItemImpl)orderItem;,0,1,0.06666666666666667,1175
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,DiscreteOrderItem discreteOrderItem = (DiscreteOrderItem)orderItem;,0,1,0.06666666666666667,1176
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return discreteOrderItems;,0,1,0.06666666666666667,1177
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.phone = phone;,0,1,0.06666666666666667,1178
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return address;,0,1,0.06666666666666667,1179
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.address = address;,0,1,0.06666666666666667,1180
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return phone;,0,1,0.06666666666666667,1181
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return method;,0,1,0.06666666666666667,1182
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.method = fulfillmentMethod;,0,1,0.06666666666666667,1183
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.retailFulfillmentPrice = Money.toAmount(retailFulfillmentPrice);,0,1,0.06666666666666667,1184
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getRetailFulfillmentPrice();,0,1,0.06666666666666667,1185
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.order = order;,0,1,0.06666666666666667,1186
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return FulfillmentType.getInstance(type);,0,1,0.06666666666666667,1187
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return candidateOffers;,0,1,0.06666666666666667,1188
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.candidateOffers = candidateOffers;,0,1,0.06666666666666667,1189
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return fulfillmentOption;,0,1,0.06666666666666667,1190
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,0,1,0.06666666666666667,1191
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return order;,0,1,0.06666666666666667,1192
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""FULFILLMENT_GROUP_SEQUNCE"")",0,1,0.06666666666666667,1193
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL"", precision=19, scale=5)",0,1,0.06666666666666667,1194
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""STATUS"")",0,1,0.06666666666666667,1195
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return futureCreditAdjustments;,0,1,0.06666666666666667,1196
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String status;,0,1,0.06666666666666667,1197
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""SHIPPING_PRICE_TAXABLE"")",0,1,0.06666666666666667,1198
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""FULFILLMENT_OPTION_ID"")",0,1,0.06666666666666667,1199
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected FulfillmentOption fulfillmentOption;,0,1,0.06666666666666667,1200
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = OrderImpl.class, optional=false)",0,1,0.06666666666666667,1201
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""ORDER_ID"")",0,1,0.06666666666666667,1202
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Integer sequence;,0,1,0.06666666666666667,1203
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.id = id;,0,1,0.06666666666666667,1204
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""ADDRESS_ID"")",0,1,0.06666666666666667,1205
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Address address;,0,1,0.06666666666666667,1206
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""PHONE_ID"")",0,1,0.06666666666666667,1207
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Phone phone;,0,1,0.06666666666666667,1208
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""PERSONAL_MESSAGE_ID"")",0,1,0.06666666666666667,1209
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected PersonalMessage personalMessage;,0,1,0.06666666666666667,1210
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""SHIPPING_OVERRIDE"")",0,1,0.06666666666666667,1211
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1212
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return id;,0,1,0.06666666666666667,1213
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return this.fulfillmentGroupAdjustments;,0,1,0.06666666666666667,1214
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupFees = fulfillmentGroupFees;,0,1,0.06666666666666667,1215
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustmentsValue = adjustmentsValue.add(adjustment.getValue());,0,1,0.06666666666666667,1216
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return createResponse;,0,1,0.06666666666666667,1217
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.isShippingPriceTaxable = isShippingPriceTaxable;,0,1,0.06666666666666667,1218
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.sequence = sequence;,0,1,0.06666666666666667,1219
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return this.sequence;,0,1,0.06666666666666667,1220
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return service;,0,1,0.06666666666666667,1221
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.service = service;,0,1,0.06666666666666667,1222
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getOrder().getCurrency().getCurrencyCode();,0,1,0.06666666666666667,1223
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.shippingOverride = shippingOverride;,0,1,0.06666666666666667,1224
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return result;,0,1,0.06666666666666667,1225
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,CreateResponse<G> createResponse = context.createOrRetrieveCopyInstance(this);,0,1,0.06666666666666667,1226
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,FulfillmentGroup cloned = createResponse.getClone();,0,1,0.06666666666666667,1227
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return adjustmentsValue;,0,1,0.06666666666666667,1228
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,FulfillmentGroupItem fulfillmentGroupItem = fgi.createOrRetrieveCopyInstance(context).getClone();,0,1,0.06666666666666667,1229
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return  createResponse;,0,1,0.06666666666666667,1230
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,TaxDetail clonedTaxDetail = taxDetail.createOrRetrieveCopyInstance(context).getClone();,0,1,0.06666666666666667,1231
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,0,1,0.06666666666666667,1232
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,0,1,0.06666666666666667,1233
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,FulfillmentGroupImpl other = (FulfillmentGroupImpl) obj;,0,1,0.06666666666666667,1234
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return id.equals(other.id);,0,1,0.06666666666666667,1235
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""IS_PRIMARY"")",0,1,0.06666666666666667,1236
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* #%L,1,1,0.06666666666666667,1237
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return isShippingPriceTaxable;,0,1,0.06666666666666667,1238
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return fulfillmentGroupFees;,0,1,0.06666666666666667,1239
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.status = status.getType();,0,1,0.06666666666666667,1240
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return FulfillmentGroupStatusType.getInstance(status);,0,1,0.06666666666666667,1241
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupAdjustments = fulfillmentGroupAdjustments;,0,1,0.06666666666666667,1242
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.saleFulfillmentPrice = Money.toAmount(saleFulfillmentPrice);,0,1,0.06666666666666667,1243
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getSaleFulfillmentPrice();,0,1,0.06666666666666667,1244
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentPrice = Money.toAmount(fulfillmentPrice);,0,1,0.06666666666666667,1245
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getFulfillmentPrice();,0,1,0.06666666666666667,1246
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return taxes;,0,1,0.06666666666666667,1247
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.taxes = taxes;,0,1,0.06666666666666667,1248
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.totalTax = Money.toAmount(totalTax);,0,1,0.06666666666666667,1249
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.totalItemTax = Money.toAmount(totalItemTax);,0,1,0.06666666666666667,1250
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.totalFeeTax = Money.toAmount(totalFeeTax);,0,1,0.06666666666666667,1251
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.totalFulfillmentGroupTax = Money.toAmount(totalFulfillmentGroupTax);,0,1,0.06666666666666667,1252
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return deliveryInstruction;,0,1,0.06666666666666667,1253
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.deliveryInstruction = deliveryInstruction;,0,1,0.06666666666666667,1254
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return personalMessage;,0,1,0.06666666666666667,1255
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.personalMessage = personalMessage;,0,1,0.06666666666666667,1256
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return primary;,0,1,0.06666666666666667,1257
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.primary = primary;,0,1,0.06666666666666667,1258
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.merchandiseTotal = Money.toAmount(merchandiseTotal);,0,1,0.06666666666666667,1259
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.total = Money.toAmount(orderTotal);,0,1,0.06666666666666667,1260
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""MERCHANDISE_TOTAL"", precision=19, scale=5)",0,1,0.06666666666666667,1261
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.GeneratedValue;,0,1,0.06666666666666667,1262
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String deliveryInstruction;,0,1,0.06666666666666667,1263
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.GenericGenerator;,0,1,0.06666666666666667,1264
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.FulfillmentGroupAdjustmentImpl;,0,1,0.06666666666666667,1265
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.order.service.type.FulfillmentGroupStatusType;,0,1,0.06666666666666667,1266
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.order.service.type.FulfillmentType;,0,1,0.06666666666666667,1267
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.profile.core.domain.Address;,0,1,0.06666666666666667,1268
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.profile.core.domain.AddressImpl;,0,1,0.06666666666666667,1269
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.profile.core.domain.Phone;,0,1,0.06666666666666667,1270
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.profile.core.domain.PhoneImpl;,0,1,0.06666666666666667,1271
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.Cache;,0,1,0.06666666666666667,1272
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.CacheConcurrencyStrategy;,0,1,0.06666666666666667,1273
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.Index;,0,1,0.06666666666666667,1274
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.JoinTable;,0,1,0.06666666666666667,1275
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.Parameter;,0,1,0.06666666666666667,1276
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.Vector;,0,1,0.06666666666666667,1277
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.CascadeType;,0,1,0.06666666666666667,1278
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Column;,0,1,0.06666666666666667,1279
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Entity;,0,1,0.06666666666666667,1280
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.FetchType;,0,1,0.06666666666666667,1281
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Id;,0,1,0.06666666666666667,1282
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Inheritance;,0,1,0.06666666666666667,1283
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.InheritanceType;,0,1,0.06666666666666667,1284
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.FulfillmentGroupAdjustment;,0,1,0.06666666666666667,1285
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.CandidateFulfillmentGroupOfferImpl;,0,1,0.06666666666666667,1286
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.CandidateFulfillmentGroupOffer;,0,1,0.06666666666666667,1287
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.override.PropertyType;,0,1,0.06666666666666667,1288
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* %%,1,1,0.06666666666666667,1289
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,0,1,0.06666666666666667,1290
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* #L%,0,1,0.06666666666666667,1291
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,0,1,0.06666666666666667,1292
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,package org.broadleafcommerce.core.order.domain;,0,1,0.06666666666666667,1293
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.copy.CreateResponse;,0,1,0.06666666666666667,1294
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.copy.MultiTenantCopyContext;,0,1,0.06666666666666667,1295
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.currency.util.BroadleafCurrencyUtils;,0,1,0.06666666666666667,1296
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.currency.util.CurrencyCodeIdentifiable;,0,1,0.06666666666666667,1297
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.extensibility.jpa.copy.DirectCopyTransform;,0,1,0.06666666666666667,1298
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.extensibility.jpa.copy.DirectCopyTransformMember;,0,1,0.06666666666666667,1299
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.extensibility.jpa.copy.DirectCopyTransformTypes;,0,1,0.06666666666666667,1300
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.AdminPresentation;,0,1,0.06666666666666667,1301
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.AdminPresentationClass;,0,1,0.06666666666666667,1302
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.AdminPresentationCollection;,0,1,0.06666666666666667,1303
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.PopulateToOneFieldsEnum;,0,1,0.06666666666666667,1304
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.client.SupportedFieldType;,0,1,0.06666666666666667,1305
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.override.AdminPresentationMergeEntry;,0,1,0.06666666666666667,1306
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.override.AdminPresentationMergeOverride;,0,1,0.06666666666666667,1307
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.JoinColumn;,0,1,0.06666666666666667,1308
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.ManyToOne;,0,1,0.06666666666666667,1309
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""DELIVERY_INSTRUCTION"")",0,1,0.06666666666666667,1310
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""SERVICE"")",0,1,0.06666666666666667,1311
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@DirectCopyTransformMember(templateTokens = DirectCopyTransformTypes.MULTITENANT_SITE),0,1,0.06666666666666667,1312
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@GeneratedValue(generator = ""FulfillmentGroupId"")",0,1,0.06666666666666667,1313
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""FULFILLMENT_GROUP_ID"")",0,1,0.06666666666666667,1314
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Long id;,0,1,0.06666666666666667,1315
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""REFERENCE_NUMBER"")",0,1,0.06666666666666667,1316
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,groupOrder = Presentation.Group.Order.General),0,1,0.06666666666666667,1317
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String referenceNumber;,0,1,0.06666666666666667,1318
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""METHOD"")",0,1,0.06666666666666667,1319
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String method;,0,1,0.06666666666666667,1320
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String service;,0,1,0.06666666666666667,1321
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.OneToMany;,0,1,0.06666666666666667,1322
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""RETAIL_PRICE"", precision=19, scale=5)",0,1,0.06666666666666667,1323
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""SALE_PRICE"", precision=19, scale=5)",0,1,0.06666666666666667,1324
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""PRICE"", precision=19, scale=5)",0,1,0.06666666666666667,1325
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TYPE"")",0,1,0.06666666666666667,1326
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String type;,0,1,0.06666666666666667,1327
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL_TAX"", precision=19, scale=5)",0,1,0.06666666666666667,1328
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL_ITEM_TAX"", precision=19, scale=5)",0,1,0.06666666666666667,1329
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL_FEE_TAX"", precision=19, scale=5)",0,1,0.06666666666666667,1330
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL_FG_TAX"", precision=19, scale=5)",0,1,0.06666666666666667,1331
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1332
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"overrideValue = ""NOT_REQUIRED"")",0,1,0.06666666666666667,1333
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.REQUIREDOVERRIDE,",0,1,0.06666666666666667,1334
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"overrideValue = ""General""),",0,1,0.06666666666666667,1335
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Table;,0,1,0.06666666666666667,1336
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Inheritance(strategy = InheritanceType.JOINED),0,1,0.06666666666666667,1337
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Table(name = ""BLC_FULFILLMENT_GROUP"")",0,1,0.06666666666666667,1338
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,{,0,1,0.06666666666666667,1339
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.READONLY,",0,1,0.06666666666666667,1340
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"booleanOverrideValue = true)),",0,1,0.06666666666666667,1341
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.PROMINENT,",0,1,0.06666666666666667,1342
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"booleanOverrideValue = false)),",0,1,0.06666666666666667,1343
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.TAB,",0,1,0.06666666666666667,1344
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"overrideValue = FulfillmentGroupImpl.Presentation.Tab.Name.Advanced),",0,1,0.06666666666666667,1345
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.TABORDER,",0,1,0.06666666666666667,1346
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,intOverrideValue = FulfillmentGroupImpl.Presentation.Tab.Order.Advanced),0,1,0.06666666666666667,1347
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"overrideValue = FulfillmentGroupImpl.Presentation.Tab.Name.Address),",0,1,0.06666666666666667,1348
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,intOverrideValue = FulfillmentGroupImpl.Presentation.Tab.Order.Address),0,1,0.06666666666666667,1349
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.EXCLUDED,",0,1,0.06666666666666667,1350
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"booleanOverrideValue = false),",0,1,0.06666666666666667,1351
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.ORDER,",0,1,0.06666666666666667,1352
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"intOverrideValue = FulfillmentGroupImpl.Presentation.FieldOrder.PHONE),",0,1,0.06666666666666667,1353
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.GROUP,",0,1,0.06666666666666667,1354
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* BroadleafCommerce Framework,1,1,0.06666666666666667,1355
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""ADDRESS_ID"")",1,1,0.06666666666666667,1356
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* (the ""Commercial License"" located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)",1,1,0.06666666666666667,1357
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupItems = fulfillmentGroupItems;,1,1,0.06666666666666667,1358
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return fulfillmentOption;,1,1,0.06666666666666667,1359
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentOption = fulfillmentOption;,1,1,0.06666666666666667,1360
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return referenceNumber;,1,1,0.06666666666666667,1361
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.referenceNumber = referenceNumber;,1,1,0.06666666666666667,1362
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return fulfillmentGroupItems;,1,1,0.06666666666666667,1363
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem orderItem = fgItem.getOrderItem();,1,1,0.06666666666666667,1364
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,BundleOrderItemImpl bundleOrderItem = (BundleOrderItemImpl)orderItem;,1,1,0.06666666666666667,1365
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,DiscreteOrderItem discreteOrderItem = (DiscreteOrderItem)orderItem;,1,1,0.06666666666666667,1366
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return discreteOrderItems;,1,1,0.06666666666666667,1367
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return address;,1,1,0.06666666666666667,1368
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return order;,1,1,0.06666666666666667,1369
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.address = address;,1,1,0.06666666666666667,1370
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return phone;,1,1,0.06666666666666667,1371
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.phone = phone;,1,1,0.06666666666666667,1372
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return method;,1,1,0.06666666666666667,1373
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.method = fulfillmentMethod;,1,1,0.06666666666666667,1374
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.retailFulfillmentPrice = Money.toAmount(retailFulfillmentPrice);,1,1,0.06666666666666667,1375
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getRetailFulfillmentPrice();,1,1,0.06666666666666667,1376
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return FulfillmentType.getInstance(type);,1,1,0.06666666666666667,1377
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return candidateOffers;,1,1,0.06666666666666667,1378
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.order = order;,1,1,0.06666666666666667,1379
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.id = id;,1,1,0.06666666666666667,1380
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* shall apply.,1,1,0.06666666666666667,1381
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""FULFILLMENT_GROUP_SEQUNCE"")",1,1,0.06666666666666667,1382
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""MERCHANDISE_TOTAL"", precision=19, scale=5)",1,1,0.06666666666666667,1383
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL"", precision=19, scale=5)",1,1,0.06666666666666667,1384
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""STATUS"")",1,1,0.06666666666666667,1385
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String status;,1,1,0.06666666666666667,1386
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""SHIPPING_PRICE_TAXABLE"")",1,1,0.06666666666666667,1387
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""FULFILLMENT_OPTION_ID"")",1,1,0.06666666666666667,1388
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected FulfillmentOption fulfillmentOption;,1,1,0.06666666666666667,1389
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@ManyToOne(targetEntity = OrderImpl.class, optional=false)",1,1,0.06666666666666667,1390
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""ORDER_ID"")",1,1,0.06666666666666667,1391
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Integer sequence;,1,1,0.06666666666666667,1392
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return id;,1,1,0.06666666666666667,1393
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"* (the ""Commercial License"" located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)",0,1,0.06666666666666667,1394
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Address address;,1,1,0.06666666666666667,1395
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,1,1,0.06666666666666667,1396
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""PHONE_ID"")",1,1,0.06666666666666667,1397
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Phone phone;,1,1,0.06666666666666667,1398
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@JoinColumn(name = ""PERSONAL_MESSAGE_ID"")",1,1,0.06666666666666667,1399
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected PersonalMessage personalMessage;,1,1,0.06666666666666667,1400
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""SHIPPING_OVERRIDE"")",1,1,0.06666666666666667,1401
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,1,1,0.06666666666666667,1402
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.candidateOffers = candidateOffers;,1,1,0.06666666666666667,1403
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return this.fulfillmentGroupAdjustments;,1,1,0.06666666666666667,1404
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return futureCreditAdjustments;,1,1,0.06666666666666667,1405
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return result;,1,1,0.06666666666666667,1406
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupFees = fulfillmentGroupFees;,1,1,0.06666666666666667,1407
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return isShippingPriceTaxable;,1,1,0.06666666666666667,1408
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.isShippingPriceTaxable = isShippingPriceTaxable;,1,1,0.06666666666666667,1409
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.sequence = sequence;,1,1,0.06666666666666667,1410
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return this.sequence;,1,1,0.06666666666666667,1411
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return service;,1,1,0.06666666666666667,1412
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.service = service;,1,1,0.06666666666666667,1413
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getOrder().getCurrency().getCurrencyCode();,1,1,0.06666666666666667,1414
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.shippingOverride = shippingOverride;,1,1,0.06666666666666667,1415
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,CreateResponse<G> createResponse = context.createOrRetrieveCopyInstance(this);,1,1,0.06666666666666667,1416
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustmentsValue = adjustmentsValue.add(adjustment.getValue());,1,1,0.06666666666666667,1417
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return createResponse;,1,1,0.06666666666666667,1418
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,FulfillmentGroup cloned = createResponse.getClone();,1,1,0.06666666666666667,1419
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,FulfillmentGroupItem fulfillmentGroupItem = fgi.createOrRetrieveCopyInstance(context).getClone();,1,1,0.06666666666666667,1420
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return  createResponse;,1,1,0.06666666666666667,1421
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,TaxDetail clonedTaxDetail = taxDetail.createOrRetrieveCopyInstance(context).getClone();,1,1,0.06666666666666667,1422
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,1,1,0.06666666666666667,1423
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,1,1,0.06666666666666667,1424
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,FulfillmentGroupImpl other = (FulfillmentGroupImpl) obj;,1,1,0.06666666666666667,1425
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return id.equals(other.id);,1,1,0.06666666666666667,1426
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return fulfillmentGroupFees;,1,1,0.06666666666666667,1427
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.status = status.getType();,1,1,0.06666666666666667,1428
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return FulfillmentGroupStatusType.getInstance(status);,1,1,0.06666666666666667,1429
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.total = Money.toAmount(orderTotal);,1,1,0.06666666666666667,1430
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return adjustmentsValue;,1,1,0.06666666666666667,1431
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupAdjustments = fulfillmentGroupAdjustments;,1,1,0.06666666666666667,1432
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.saleFulfillmentPrice = Money.toAmount(saleFulfillmentPrice);,1,1,0.06666666666666667,1433
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getSaleFulfillmentPrice();,1,1,0.06666666666666667,1434
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentPrice = Money.toAmount(fulfillmentPrice);,1,1,0.06666666666666667,1435
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getFulfillmentPrice();,1,1,0.06666666666666667,1436
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return taxes;,1,1,0.06666666666666667,1437
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.taxes = taxes;,1,1,0.06666666666666667,1438
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.totalTax = Money.toAmount(totalTax);,1,1,0.06666666666666667,1439
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.totalItemTax = Money.toAmount(totalItemTax);,1,1,0.06666666666666667,1440
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.totalFeeTax = Money.toAmount(totalFeeTax);,1,1,0.06666666666666667,1441
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.totalFulfillmentGroupTax = Money.toAmount(totalFulfillmentGroupTax);,1,1,0.06666666666666667,1442
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return deliveryInstruction;,1,1,0.06666666666666667,1443
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.deliveryInstruction = deliveryInstruction;,1,1,0.06666666666666667,1444
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return personalMessage;,1,1,0.06666666666666667,1445
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.personalMessage = personalMessage;,1,1,0.06666666666666667,1446
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return primary;,1,1,0.06666666666666667,1447
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.primary = primary;,1,1,0.06666666666666667,1448
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.merchandiseTotal = Money.toAmount(merchandiseTotal);,1,1,0.06666666666666667,1449
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""IS_PRIMARY"")",1,1,0.06666666666666667,1450
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String deliveryInstruction;,1,1,0.06666666666666667,1451
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""DELIVERY_INSTRUCTION"")",1,1,0.06666666666666667,1452
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.GenericGenerator;,1,1,0.06666666666666667,1453
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.FulfillmentGroupAdjustmentImpl;,1,1,0.06666666666666667,1454
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.order.service.type.FulfillmentGroupStatusType;,1,1,0.06666666666666667,1455
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.order.service.type.FulfillmentType;,1,1,0.06666666666666667,1456
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.profile.core.domain.Address;,1,1,0.06666666666666667,1457
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.profile.core.domain.AddressImpl;,1,1,0.06666666666666667,1458
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.profile.core.domain.Phone;,1,1,0.06666666666666667,1459
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.profile.core.domain.PhoneImpl;,1,1,0.06666666666666667,1460
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.Cache;,1,1,0.06666666666666667,1461
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.CacheConcurrencyStrategy;,1,1,0.06666666666666667,1462
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.Index;,1,1,0.06666666666666667,1463
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.JoinColumn;,1,1,0.06666666666666667,1464
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.annotations.Parameter;,1,1,0.06666666666666667,1465
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.Vector;,1,1,0.06666666666666667,1466
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.CascadeType;,1,1,0.06666666666666667,1467
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Column;,1,1,0.06666666666666667,1468
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Entity;,1,1,0.06666666666666667,1469
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.FetchType;,1,1,0.06666666666666667,1470
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.GeneratedValue;,1,1,0.06666666666666667,1471
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Id;,1,1,0.06666666666666667,1472
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Inheritance;,1,1,0.06666666666666667,1473
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.FulfillmentGroupAdjustment;,1,1,0.06666666666666667,1474
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.CandidateFulfillmentGroupOfferImpl;,1,1,0.06666666666666667,1475
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.CandidateFulfillmentGroupOffer;,1,1,0.06666666666666667,1476
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.override.PropertyType;,1,1,0.06666666666666667,1477
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,1,1,0.06666666666666667,1478
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* #L%,1,1,0.06666666666666667,1479
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,1,1,0.06666666666666667,1480
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,package org.broadleafcommerce.core.order.domain;,1,1,0.06666666666666667,1481
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.copy.CreateResponse;,1,1,0.06666666666666667,1482
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.copy.MultiTenantCopyContext;,1,1,0.06666666666666667,1483
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.currency.util.BroadleafCurrencyUtils;,1,1,0.06666666666666667,1484
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.currency.util.CurrencyCodeIdentifiable;,1,1,0.06666666666666667,1485
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.extensibility.jpa.copy.DirectCopyTransform;,1,1,0.06666666666666667,1486
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.extensibility.jpa.copy.DirectCopyTransformMember;,1,1,0.06666666666666667,1487
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.extensibility.jpa.copy.DirectCopyTransformTypes;,1,1,0.06666666666666667,1488
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.AdminPresentation;,1,1,0.06666666666666667,1489
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.AdminPresentationClass;,1,1,0.06666666666666667,1490
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.AdminPresentationCollection;,1,1,0.06666666666666667,1491
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.PopulateToOneFieldsEnum;,1,1,0.06666666666666667,1492
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.client.SupportedFieldType;,1,1,0.06666666666666667,1493
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.override.AdminPresentationMergeEntry;,1,1,0.06666666666666667,1494
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.override.AdminPresentationMergeOverride;,1,1,0.06666666666666667,1495
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.override.AdminPresentationMergeOverrides;,1,1,0.06666666666666667,1496
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.InheritanceType;,1,1,0.06666666666666667,1497
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.JoinTable;,1,1,0.06666666666666667,1498
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL_FG_TAX"", precision=19, scale=5)",1,1,0.06666666666666667,1499
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String method;,1,1,0.06666666666666667,1500
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1501
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@DirectCopyTransformMember(templateTokens = DirectCopyTransformTypes.MULTITENANT_SITE),1,1,0.06666666666666667,1502
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@GeneratedValue(generator = ""FulfillmentGroupId"")",1,1,0.06666666666666667,1503
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""FULFILLMENT_GROUP_ID"")",1,1,0.06666666666666667,1504
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected Long id;,1,1,0.06666666666666667,1505
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""REFERENCE_NUMBER"")",1,1,0.06666666666666667,1506
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,groupOrder = Presentation.Group.Order.General),1,1,0.06666666666666667,1507
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String referenceNumber;,1,1,0.06666666666666667,1508
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""METHOD"")",1,1,0.06666666666666667,1509
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""SERVICE"")",1,1,0.06666666666666667,1510
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.ManyToOne;,1,1,0.06666666666666667,1511
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String service;,1,1,0.06666666666666667,1512
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""RETAIL_PRICE"", precision=19, scale=5)",1,1,0.06666666666666667,1513
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""SALE_PRICE"", precision=19, scale=5)",1,1,0.06666666666666667,1514
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""PRICE"", precision=19, scale=5)",1,1,0.06666666666666667,1515
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TYPE"")",1,1,0.06666666666666667,1516
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected String type;,1,1,0.06666666666666667,1517
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL_TAX"", precision=19, scale=5)",1,1,0.06666666666666667,1518
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL_ITEM_TAX"", precision=19, scale=5)",1,1,0.06666666666666667,1519
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Column(name = ""TOTAL_FEE_TAX"", precision=19, scale=5)",1,1,0.06666666666666667,1520
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"overrideValue = ""NOT_REQUIRED"")",1,1,0.06666666666666667,1521
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.REQUIREDOVERRIDE,",1,1,0.06666666666666667,1522
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"overrideValue = ""General""),",1,1,0.06666666666666667,1523
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.GROUP,",1,1,0.06666666666666667,1524
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.OneToMany;,1,1,0.06666666666666667,1525
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import javax.persistence.Table;,1,1,0.06666666666666667,1526
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Inheritance(strategy = InheritanceType.JOINED),1,1,0.06666666666666667,1527
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Table(name = ""BLC_FULFILLMENT_GROUP"")",1,1,0.06666666666666667,1528
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,{,1,1,0.06666666666666667,1529
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.READONLY,",1,1,0.06666666666666667,1530
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"booleanOverrideValue = true)),",1,1,0.06666666666666667,1531
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.PROMINENT,",1,1,0.06666666666666667,1532
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"booleanOverrideValue = false)),",1,1,0.06666666666666667,1533
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.TAB,",1,1,0.06666666666666667,1534
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"overrideValue = FulfillmentGroupImpl.Presentation.Tab.Name.Advanced),",1,1,0.06666666666666667,1535
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.TABORDER,",1,1,0.06666666666666667,1536
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,intOverrideValue = FulfillmentGroupImpl.Presentation.Tab.Order.Advanced),1,1,0.06666666666666667,1537
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"overrideValue = FulfillmentGroupImpl.Presentation.Tab.Name.Address),",1,1,0.06666666666666667,1538
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,intOverrideValue = FulfillmentGroupImpl.Presentation.Tab.Order.Address),1,1,0.06666666666666667,1539
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.EXCLUDED,",1,1,0.06666666666666667,1540
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"booleanOverrideValue = false),",1,1,0.06666666666666667,1541
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationMergeEntry(propertyType = PropertyType.AdminPresentation.ORDER,",1,1,0.06666666666666667,1542
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"intOverrideValue = FulfillmentGroupImpl.Presentation.FieldOrder.PHONE),",1,1,0.06666666666666667,1543
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* shall apply.,0,1,0.06666666666666667,1544
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.presentation.override.AdminPresentationMergeOverrides;,0,1,0.06666666666666667,1545
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* %%,0,1,0.06666666666666667,1546
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected OrderItemDao orderItemDao;,0,1,0.06666666666666667,1547
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,1,1,0.06666666666666667,1548
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return price2.compareTo(price);,1,1,0.06666666666666667,1549
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* <p>,1,1,0.06666666666666667,1550
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* </p>,1,1,0.06666666666666667,1551
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,//qualifiedOrderOffers = removeTrailingNotCombinableOrderOffers(qualifiedOrderOffers);,1,1,0.06666666666666667,1552
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Iterator<PromotableCandidateItemOffer> offerIterator = qualifiedItemOffers.iterator();,1,1,0.06666666666666667,1553
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (offerIterator.hasNext()) {,1,1,0.06666666666666667,1554
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.OfferServiceUtilities;,0,1,0.06666666666666667,1555
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Resource(name = ""blOrderItemDao"")",0,1,0.06666666666666667,1556
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Resource(name = ""blOfferServiceUtilities"")",0,1,0.06666666666666667,1557
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifierQtyNeeded += qtyToMarkAsQualifier;,1,1,0.06666666666666667,1558
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected OfferServiceUtilities offerServiceUtilities;,0,1,0.06666666666666667,1559
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Map<OrderItem, PromotableOrderItem> promotableItemMap = offerServiceUtilities.buildPromotableItemMap(promotableOrder);",0,1,0.06666666666666667,1560
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<OrderItem> orderItemList = offerServiceUtilities.buildOrderItemList(order);,0,1,0.06666666666666667,1561
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1562
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return offerServiceUtilities;,0,1,0.06666666666666667,1563
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.offerServiceUtilities = offerServiceUtilities;,0,1,0.06666666666666667,1564
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.order.domain.OrderItemContainer;,1,1,0.06666666666666667,1565
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Resource(name = ""blOrderItemDao"")",1,1,0.06666666666666667,1566
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected OrderItemDao orderItemDao;,1,1,0.06666666666666667,1567
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,pq.setQuantity(pq.getQuantity() - qtyToMarkAsQualifier);,1,1,0.06666666666666667,1568
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,relatedOrderItem = oi;,1,1,0.06666666666666667,1569
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.offerName = offer.getName();,1,1,0.06666666666666667,1570
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableOrderItemPriceDetail detail) {,1,1,0.06666666666666667,1571
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return itemOffer.calculateSavingsForOrderItem(item, quantity);",0,1,0.06666666666666667,1572
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.PromotionQualifier;,1,1,0.06666666666666667,1573
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.domain.PromotableOrderItemPriceDetailAdjustment;,1,1,0.06666666666666667,1574
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.Comparator;,1,1,0.06666666666666667,1575
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,1,1,0.06666666666666667,1576
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,1,1,0.06666666666666667,1577
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,1,1,0.06666666666666667,1578
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotableOrderItemPriceDetailAdjustment promotableOrderItemPriceDetailAdjustment = promotableItemFactory.createPromotableOrderItemPriceDetailAdjustment(itemOffer, itemPriceDetail);",1,1,0.06666666666666667,1579
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1580
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// Not good enough,1,1,0.06666666666666667,1581
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// we succeed,1,1,0.06666666666666667,1582
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,1,1,0.06666666666666667,1583
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,1,1,0.06666666666666667,1584
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyItemQualifiersAndTargets(itemOffer, order);",1,1,0.06666666666666667,1585
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,relatedQualifierRoot = relatedQualifier;,1,1,0.06666666666666667,1586
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,relatedQualifierRoot = relatedQualifierRoot.getParentOrderItem();,1,1,0.06666666666666667,1587
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem thisItem = priceDetail.getPromotableOrderItem().getOrderItem();,1,1,0.06666666666666667,1588
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,!thisItem.equals(relatedQualifierRoot)) {,1,1,0.06666666666666667,1589
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem oi = detail.getPromotableOrderItem().getOrderItem();,1,1,0.06666666666666667,1590
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,previousQualifierCriteria = possibleQualifier.getItemCriteria();,1,1,0.06666666666666667,1591
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItemContainer container = (OrderItemContainer) currentItem;,1,1,0.06666666666666667,1592
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1593
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return orderItemList;,1,1,0.06666666666666667,1594
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Long qualifierOfferId = currentQualifier.getPromotion().getId();,1,1,0.06666666666666667,1595
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return this.split(discount.getQuantity(), offerId);",1,1,0.06666666666666667,1596
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.apache.commons.collections.CollectionUtils;,0,1,0.06666666666666667,1597
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Iterator<PromotionQualifier> qualifiers = promotionQualifiers.iterator();,0,1,0.06666666666666667,1598
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (qualifiers.hasNext()) {,0,1,0.06666666666666667,1599
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Long qualifierOfferId = currentQualifier.getPromotion().getId();,0,1,0.06666666666666667,1600
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1601
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return this.split(discount.getQuantity(), offerId, !CollectionUtils.isEmpty(discount.getCandidateItemOffer().getOffer().getQualifyingItemCriteria()));",0,1,0.06666666666666667,1602
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Iterator<PromotionQualifier> qualifiers = promotionQualifiers.iterator();,1,1,0.06666666666666667,1603
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (qualifiers.hasNext()) {,1,1,0.06666666666666667,1604
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1605
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Map<OrderItem, PromotableOrderItem> promotableItemMap = buildPromotableItemMap(promotableOrder);",1,1,0.06666666666666667,1606
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return this.split(discount.getQuantity(), offerId);",1,1,0.06666666666666667,1607
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return BigDecimal.valueOf(Integer.MAX_VALUE);,0,1,0.06666666666666667,1608
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return BigDecimal.ZERO;,0,1,0.06666666666666667,1609
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1610
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return BigDecimal.ZERO;,1,1,0.06666666666666667,1611
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemOffer.getOffer().getOrderMinSubTotal().lessThanOrEqual(order.getOrder().getSubTotal())) {,0,1,0.06666666666666667,1612
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,0,1,0.06666666666666667,1613
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1614
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,0,1,0.06666666666666667,1615
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1616
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Long qualifierOfferId = currentQualifier.getPromotion().getId();,1,1,0.06666666666666667,1617
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (qualifiers.hasNext()) {,1,1,0.06666666666666667,1618
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Iterator<PromotionQualifier> qualifiers = promotionQualifiers.iterator();,1,1,0.06666666666666667,1619
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<OrderItem> orderItemList = buildOrderItemList(order);,1,1,0.06666666666666667,1620
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return promotableItemMap;,1,1,0.06666666666666667,1621
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (pdIterator.hasNext()) {,1,1,0.06666666666666667,1622
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItemPriceDetail currentDetail = pdIterator.next();,1,1,0.06666666666666667,1623
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (qIterator.hasNext()) {,1,1,0.06666666666666667,1624
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItemQualifier currentQualifier = qIterator.next();,1,1,0.06666666666666667,1625
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableOrderItemPriceDetail promotableDetail) {,1,1,0.06666666666666667,1626
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItemPriceDetailAdjustment itemAdjustment = itemAdjustmentMap.remove(adjustment.getOfferId());,1,1,0.06666666666666667,1627
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItemPriceDetailAdjustment newItemAdjustment = offerDao.createOrderItemPriceDetailAdjustment();,1,1,0.06666666666666667,1628
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (iterator.hasNext()) {,1,1,0.06666666666666667,1629
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItemPriceDetailAdjustment adj = iterator.next();,1,1,0.06666666666666667,1630
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableOrderItemPriceDetailAdjustment promotableAdjustment) {,1,1,0.06666666666666667,1631
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return itemAdjustmentMap;,1,1,0.06666666666666667,1632
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.apache.commons.collections.CollectionUtils;,0,1,0.06666666666666667,1633
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Iterator<PromotionQualifier> qualifiers = promotionQualifiers.iterator();,0,1,0.06666666666666667,1634
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,while (qualifiers.hasNext()) {,0,1,0.06666666666666667,1635
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Long qualifierOfferId = currentQualifier.getPromotion().getId();,0,1,0.06666666666666667,1636
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1637
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return this.split(discount.getQuantity(), offerId, !CollectionUtils.isEmpty(discount.getCandidateItemOffer().getOffer().getQualifyingItemCriteria()));",0,1,0.06666666666666667,1638
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"o = contextMap.get(""quantity"");",0,1,0.06666666666666667,1639
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return (Money) o;,0,1,0.06666666666666667,1640
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Object o = contextMap.get(""savings"");",0,1,0.06666666666666667,1641
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,pq.setQuantity(pq.getQuantity() - qtyToMarkAsQualifier);,0,1,0.06666666666666667,1642
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,!thisItem.equals(relatedQualifierRoot)) {,0,1,0.06666666666666667,1643
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,0,1,0.06666666666666667,1644
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,0,1,0.06666666666666667,1645
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,0,1,0.06666666666666667,1646
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItem> promotableItems = entry.getValue();,0,1,0.06666666666666667,1647
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItemPriceDetail> priceDetails = buildPriceDetailListFromOrderItems(promotableItems);,0,1,0.06666666666666667,1648
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem oi = detail.getPromotableOrderItem().getOrderItem();,0,1,0.06666666666666667,1649
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,previousQualifierCriteria = possibleQualifier.getItemCriteria();,0,1,0.06666666666666667,1650
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifierQtyNeeded += qtyToMarkAsQualifier;,0,1,0.06666666666666667,1651
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,0,1,0.06666666666666667,1652
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,totalitarianOfferApplied = itemPriceDetail.isTotalitarianOfferApplied();,1,1,0.06666666666666667,1653
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,0,1,0.06666666666666667,1654
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifiersFound = qualifiersAndTargetsFound;,0,1,0.06666666666666667,1655
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,targetsFound = qualifiersAndTargetsFound;,0,1,0.06666666666666667,1656
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.springframework.util.CollectionUtils;,1,1,0.06666666666666667,1657
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return isTotalitarianFgOfferApplied() || isTotalitarianItemOfferApplied() || isTotalitarianOrderOfferApplied();,0,1,0.06666666666666667,1658
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1659
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1660
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,0,1,0.06666666666666667,1661
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,0,1,0.06666666666666667,1662
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem thisItem = priceDetail.getPromotableOrderItem().getOrderItem();,0,1,0.06666666666666667,1663
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1664
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,relatedQualifierRoot = relatedQualifierRoot.getParentOrderItem();,0,1,0.06666666666666667,1665
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,relatedQualifierRoot = relatedQualifier;,0,1,0.06666666666666667,1666
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,saleAdjustmentValue = itemAdjustment.getValue();,0,1,0.06666666666666667,1667
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,retailAdjustmentValue = itemAdjustment.getRetailPriceValue();,0,1,0.06666666666666667,1668
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,retailAdjustmentValue = itemAdjustment.getValue();,0,1,0.06666666666666667,1669
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,saleAdjustmentValue = itemAdjustment.getSalesPriceValue();,0,1,0.06666666666666667,1670
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1671
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,saleAdjustmentValue = itemAdjustment.getSalesPriceValue();,1,1,0.06666666666666667,1672
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,retailAdjustmentValue = itemAdjustment.getRetailPriceValue();,1,1,0.06666666666666667,1673
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,saleAdjustmentValue = itemAdjustment.getValue();,0,1,0.06666666666666667,1674
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,retailAdjustmentValue = itemAdjustment.getRetailPriceValue();,0,1,0.06666666666666667,1675
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,retailAdjustmentValue = itemAdjustment.getValue();,0,1,0.06666666666666667,1676
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,saleAdjustmentValue = itemAdjustment.getSalesPriceValue();,0,1,0.06666666666666667,1677
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1678
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,saleAdjustmentValue = itemAdjustment.getSalesPriceValue();,1,1,0.06666666666666667,1679
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,retailAdjustmentValue = itemAdjustment.getRetailPriceValue();,1,1,0.06666666666666667,1680
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return pq;,0,1,0.06666666666666667,1681
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.apache.commons.collections.CollectionUtils;,0,1,0.06666666666666667,1682
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.PromotionQualifier;,0,1,0.06666666666666667,1683
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.order.domain.OrderItem;,0,1,0.06666666666666667,1684
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.Map.Entry;,0,1,0.06666666666666667,1685
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,totalitarianOfferApplied = true;,1,1,0.06666666666666667,1686
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,1,1,0.06666666666666667,1687
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,0,1,0.06666666666666667,1688
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.OfferServiceExtensionManager;,0,1,0.06666666666666667,1689
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.Set;,1,1,0.06666666666666667,1690
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,0,1,0.06666666666666667,1691
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItem> promotableItems = itemOffer.getCandidateTargetsMap().get(itemCriteria);,0,1,0.06666666666666667,1692
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItemPriceDetail> priceDetails = buildPriceDetailListFromOrderItems(promotableItems);,0,1,0.06666666666666667,1693
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1694
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,0,1,0.06666666666666667,1695
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItem> promotableItems = itemOffer.getCandidateTargets();,1,1,0.06666666666666667,1696
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItemPriceDetail> priceDetails = buildPriceDetailListFromOrderItems(promotableItems);,1,1,0.06666666666666667,1697
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,receiveQtyNeeded += targetCriteria.getQuantity();,1,1,0.06666666666666667,1698
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.order.domain.dto.OrderItemHolder;,0,1,0.06666666666666667,1699
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1700
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.Map;,0,1,0.06666666666666667,1701
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,0,1,0.06666666666666667,1702
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return !Boolean.TRUE.equals(contextMap.get(OfferServiceExtensionManager.STOP_PROCESSING));,0,1,0.06666666666666667,1703
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return Boolean.TRUE;,0,1,0.06666666666666667,1704
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyItemQualifiersAndTargets(itemOffer, order);",0,1,0.06666666666666667,1705
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1706
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OrderItem relatedQualifierRoot = offerServiceUtilities.findRelatedQualifierRoot(relatedQualifier);,0,1,0.06666666666666667,1707
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"targetQtyNeeded = offerServiceUtilities.markTargetsForCriteria(itemOffer, relatedQualifier, checkOnly, promotion, relatedQualifierRoot, itemCriteria, priceDetails, targetQtyNeeded);",0,1,0.06666666666666667,1708
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,0,1,0.06666666666666667,1709
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.Set;,1,1,0.06666666666666667,1710
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.candidateTargets = candidateTargets;,1,1,0.06666666666666667,1711
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return candidateTargets;,1,1,0.06666666666666667,1712
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,returnQty += promotableOrderItem.getQuantity();,1,1,0.06666666666666667,1713
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return totalitarianOfferApplied;,1,1,0.06666666666666667,1714
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,1,1,0.06666666666666667,1715
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1716
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1717
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItem> candidateTargets = getCandidateTargetsMap().get(itemCriteria);,0,1,0.06666666666666667,1718
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,returnQty += promotableOrderItem.getQuantity();,0,1,0.06666666666666667,1719
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1720
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return candidateTargetsMap;,0,1,0.06666666666666667,1721
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.candidateTargetsMap = candidateItemsMap;,0,1,0.06666666666666667,1722
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1723
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return legacyCandidateTargets;,0,1,0.06666666666666667,1724
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.legacyCandidateTargets = candidateTargets;,0,1,0.06666666666666667,1725
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* BroadleafCommerce Framework,0,1,0.06666666666666667,1726
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,1,1,0.06666666666666667,1727
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* operation.,1,1,0.06666666666666667,1728
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,1,1,0.06666666666666667,1729
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,appliedCount = appliedCount + qtyToReceiveSavings;,1,1,0.06666666666666667,1730
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return savings;,1,1,0.06666666666666667,1731
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1732
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.offerName = offerName;,0,1,0.06666666666666667,1733
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,1,1,0.06666666666666667,1734
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,// dont clone,1,1,0.06666666666666667,1735
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1736
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money retailAdjustmentValue,",0,1,0.06666666666666667,1737
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.retailAdjustmentValue = retailAdjustmentValue;,0,1,0.06666666666666667,1738
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.saleAdjustmentValue = saleAdjustmentValue;,0,1,0.06666666666666667,1739
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,1,1,0.06666666666666667,1740
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"retailAdjustmentValue = PromotableOfferUtility.computeAdjustmentValue(currentPriceDetailRetailValue, offer.getValue(), this, this);",1,1,0.06666666666666667,1741
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"saleAdjustmentValue = PromotableOfferUtility.computeAdjustmentValue(currentPriceDetailSalesValue, offer.getValue(), this, this);",1,1,0.06666666666666667,1742
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1743
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,protected final PromotableOfferUtility promotableOfferUtility;,0,1,0.06666666666666667,1744
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.promotableOfferUtility = promotableOfferUtility;,0,1,0.06666666666666667,1745
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.OfferPriceData;,0,1,0.06666666666666667,1746
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return savings.multiply(qtyToReceiveSavings);,1,1,0.06666666666666667,1747
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @author Nick Crum ncrum,0,1,0.06666666666666667,1748
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"boolean itemMatchesOfferPriceData(OfferPriceData offerPriceData, PromotableOrderItem promotableOrderItem);",0,1,0.06666666666666667,1749
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money computeRetailAdjustmentValue(PromotableCandidateItemOffer promotableCandidateItemOffer, PromotableOrderItemPriceDetail orderItemPriceDetail);",0,1,0.06666666666666667,1750
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money computeSalesAdjustmentValue(PromotableCandidateItemOffer promotableCandidateItemOffer, PromotableOrderItemPriceDetail orderItemPriceDetail);",0,1,0.06666666666666667,1751
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.apache.commons.beanutils.BeanComparator;,1,1,0.06666666666666667,1752
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.AdvancedOffer;,1,1,0.06666666666666667,1753
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.OfferTier;,1,1,0.06666666666666667,1754
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.type.OfferDiscountType;,1,1,0.06666666666666667,1755
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.math.RoundingMode;,1,1,0.06666666666666667,1756
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1757
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,originalPrice = orderItem.getPriceBeforeAdjustments(getOffer().getApplyDiscountToSalePrice());,1,1,0.06666666666666667,1758
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int tmpReturnQty;,0,1,0.06666666666666667,1759
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return returnQty;,1,1,0.06666666666666667,1760
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,tmpReturnQty = (int)Math.floor(iterationQty / itemCriteria.getQuantity());,0,1,0.06666666666666667,1761
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,returnQty = tmpReturnQty;,0,1,0.06666666666666667,1762
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"returnQty = Math.min(tmpReturnQty, returnQty);",0,1,0.06666666666666667,1763
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,returnQty = 0;,0,1,0.06666666666666667,1764
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1765
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return useQtyOnlyTierCalculation;,0,1,0.06666666666666667,1766
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItem> candidateTargets = getCandidateTargetsMap().get(itemCriteria);,1,1,0.06666666666666667,1767
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,returnQty += promotableOrderItem.getQuantity();,1,1,0.06666666666666667,1768
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1769
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.springframework.beans.factory.annotation.Value;,0,1,0.06666666666666667,1770
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,1,1,0.06666666666666667,1771
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.OfferPriceData;,0,1,0.06666666666666667,1772
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"HashMap<OfferPriceData, List<PromotableOrderItem>> getCandidateFixedTargetsMap();",0,1,0.06666666666666667,1773
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,1,1,0.06666666666666667,1774
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,1,1,0.06666666666666667,1775
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.OfferPriceData;,0,1,0.06666666666666667,1776
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1777
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return candidateFixedTargetsMap;,0,1,0.06666666666666667,1778
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1779
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.candidateFixedTargetsMap = candidateFixedTargetsMap;,0,1,0.06666666666666667,1780
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import java.util.Collections;,1,1,0.06666666666666667,1781
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* PromotableCandidateItemOfferImpl,1,1,0.06666666666666667,1782
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* @author bpolster,1,1,0.06666666666666667,1783
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,1,1,0.06666666666666667,1784
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.domain.PromotableOfferUtilityImpl;,0,1,0.06666666666666667,1785
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.domain.PromotableOfferUtility;,0,1,0.06666666666666667,1786
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.domain.PromotableOfferUtilityImpl;,0,1,0.06666666666666667,1787
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,0,1,0.06666666666666667,1788
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return RoundingMode.HALF_EVEN;,0,1,0.06666666666666667,1789
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1790
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,1,1,0.06666666666666667,1791
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return roundOfferValues;,1,1,0.06666666666666667,1792
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1793
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,1,1,0.06666666666666667,1794
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*,1,1,0.06666666666666667,1795
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1796
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustmentValue = Money.trimUnnecessaryScaleToCurrency(adjustmentValue);,0,1,0.06666666666666667,1797
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerValue = offerValue.setScale(roundingScale, roundingMode);",1,1,0.06666666666666667,1798
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,boolean isRoundOfferValues();,1,1,0.06666666666666667,1799
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/**,1,1,0.06666666666666667,1800
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,1,1,0.06666666666666667,1801
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,int getRoundingScale();,1,1,0.06666666666666667,1802
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,* #%L,0,1,0.06666666666666667,1803
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.order.domain.FulfillmentGroup;,0,1,0.06666666666666667,1804
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.domain.PromotableOfferUtility;,0,1,0.06666666666666667,1805
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"saleAdjustmentValue = PromotableOfferUtility.computeAdjustmentValue(currentPriceDetailSalesValue, offerUnitValue, this, this);",1,1,0.06666666666666667,1806
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"retailAdjustmentValue = PromotableOfferUtility.computeAdjustmentValue(currentPriceDetailRetailValue, offerUnitValue, this, this);",1,1,0.06666666666666667,1807
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1808
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,OfferDiscountType discountType = offer.getDiscountType();,1,1,0.06666666666666667,1809
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money adjustmentValue;,1,1,0.06666666666666667,1810
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1811
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"adjustmentValue = currentPriceDetailValue.subtract(new Money(offerUnitValue, currency));",1,1,0.06666666666666667,1812
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerValue = offerValue.setScale(rounding.getRoundingScale(), rounding.getRoundingMode());",1,1,0.06666666666666667,1813
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustmentValue = currentPriceDetailValue;,1,1,0.06666666666666667,1814
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return adjustmentValue;,1,1,0.06666666666666667,1815
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<OfferTier> offerTiers = advancedOffer.getOfferTiers();,1,1,0.06666666666666667,1816
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Collections.sort(offerTiers, new BeanComparator(""minQuantity""));",1,1,0.06666666666666667,1817
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,maxTier = currentTier;,1,1,0.06666666666666667,1818
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return maxTier.getAmount();,1,1,0.06666666666666667,1819
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return BigDecimal.valueOf(Integer.MAX_VALUE);,1,1,0.06666666666666667,1820
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return BigDecimal.ZERO;,1,1,0.06666666666666667,1821
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Money retailAdjustmentValue,",0,1,0.06666666666666667,1822
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.retailAdjustmentValue = retailAdjustmentValue;,0,1,0.06666666666666667,1823
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.saleAdjustmentValue = saleAdjustmentValue;,0,1,0.06666666666666667,1824
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PromotableOrderItemPriceDetail orderItemPriceDetail) {,1,1,0.06666666666666667,1825
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,*/,1,1,0.06666666666666667,1826
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,currentPriceDetailSalesValue = currentPriceDetailRetailValue;,1,1,0.06666666666666667,1827
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,tmpReturnQty = 0;,0,1,0.06666666666666667,1828
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return offer.getValue();,1,1,0.06666666666666667,1829
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,iterationQty += promotableOrderItem.getQuantity();,0,1,0.06666666666666667,1830
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1831
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,subtotal = subtotal.add(lineItemAmount);,1,1,0.06666666666666667,1832
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return false;,1,1,0.06666666666666667,1833
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemOffer.getOffer().getOrderMinSubTotal().lessThanOrEqual(order.getOrder().getSubTotal())) {,1,1,0.06666666666666667,1834
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.OfferItemCriteria;,0,1,0.06666666666666667,1835
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.domain.PromotableCandidateItemOffer;,0,1,0.06666666666666667,1836
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1837
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return offerServiceUtilities.orderMeetsQualifyingSubtotalRequirements(order, orderOffer.getOffer(), orderOffer.getCandidateQualifiersMap());",0,1,0.06666666666666667,1838
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return offerServiceUtilities.orderMeetsSubtotalRequirements(order, orderOffer.getOffer());",0,1,0.06666666666666667,1839
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1840
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1841
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Long id = offer.getId();,0,1,0.06666666666666667,1842
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"returnPrice = returnPrice.add(child.getPriceBeforeAdjustments(allowSalesPrice, true));",0,1,0.06666666666666667,1843
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getSalePrice().add(returnPrice);,0,1,0.06666666666666667,1844
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getRetailPrice().add(returnPrice);,0,1,0.06666666666666667,1845
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getSalePrice();,1,1,0.06666666666666667,1846
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return getRetailPrice();,1,1,0.06666666666666667,1847
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.persistence.DefaultPostLoaderDao;,0,1,0.06666666666666667,1848
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.persistence.PostLoaderDao;,0,1,0.06666666666666667,1849
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.util.HibernateUtils;,0,1,0.06666666666666667,1850
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.proxy.HibernateProxy;,0,1,0.06666666666666667,1851
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItem> promotableItems = itemOffer.getCandidateQualifiersMap().get(itemCriteria);,1,1,0.06666666666666667,1852
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1853
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return true;,1,1,0.06666666666666667,1854
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return offerServiceUtilities.orderMeetsSubtotalRequirements(order, itemOffer.getOffer());",0,1,0.06666666666666667,1855
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Money fulfillmentCharges;,0,1,0.06666666666666667,1856
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return returnQty;,0,1,0.06666666666666667,1857
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentCharges = fulfillmentGroup.getFulfillmentPrice();,0,1,0.06666666666666667,1858
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentCharges = fulfillmentGroupMember.getFinalizedPriceWithAdjustments();,0,1,0.06666666666666667,1859
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1860
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,originalPrice = orderItem.getPriceBeforeAdjustments(getOffer().getApplyDiscountToSalePrice());,0,1,0.06666666666666667,1861
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1862
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1863
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return weightedPercentSaved;,0,1,0.06666666666666667,1864
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.weightedPercentSaved = weightedPercentSaved;,0,1,0.06666666666666667,1865
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return originalPrice;,0,1,0.06666666666666667,1866
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.originalPrice = originalPrice;,0,1,0.06666666666666667,1867
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,originalPrice = orderItem.getPriceBeforeAdjustments(getOffer().getApplyDiscountToSalePrice());,0,1,0.06666666666666667,1868
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Override,0,1,0.06666666666666667,1869
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1870
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return weightedPercentSaved;,0,1,0.06666666666666667,1871
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return originalPrice;,0,1,0.06666666666666667,1872
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.originalPrice = originalPrice;,0,1,0.06666666666666667,1873
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"return offerServiceUtilities.orderMeetsQualifyingSubtotalRequirements(order, itemOffer.getOffer(), itemOffer.getCandidateQualifiersMap());",0,1,0.06666666666666667,1874
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PostLoaderDao postLoaderDao = DefaultPostLoaderDao.getPostLoaderDao();,0,1,0.06666666666666667,1875
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.weightedPercentSaved = weightedPercentSaved;,0,1,0.06666666666666667,1876
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"deproxiedOffer = postLoaderDao.find(OfferImpl.class, id);",0,1,0.06666666666666667,1877
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return !fg.getFutureCreditFulfillmentGroupAdjustmentsValue().equals(Money.ZERO);,0,1,0.06666666666666667,1878
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = HibernateUtils.deproxy(offer);,0,1,0.06666666666666667,1879
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1880
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return deproxiedOffer;,0,1,0.06666666666666667,1881
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.orderItemPriceDetail = orderItemPriceDetail;,1,1,0.06666666666666667,1882
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1883
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Long offerId = adjustment.getOffer().getId();,0,1,0.06666666666666667,1884
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1885
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,syncNeededOnTotal = true;,0,1,0.06666666666666667,1886
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,syncFulfillmentPrice = fg.getFulfillmentPrice();,0,1,0.06666666666666667,1887
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.service.discount.domain.PromotableCandidateItemOffer;,1,1,0.06666666666666667,1888
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Long id = offer.getId();,0,1,0.06666666666666667,1889
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1890
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.config.service.SystemPropertiesService;,0,1,0.06666666666666667,1891
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.springframework.beans.factory.annotation.Value;,0,1,0.06666666666666667,1892
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"this(promotableOrder, offer);",0,1,0.06666666666666667,1893
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.useQtyOnlyTierCalculation = useQtyOnlyTierCalculation;,0,1,0.06666666666666667,1894
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1895
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = HibernateUtils.deproxy(offer);,0,1,0.06666666666666667,1896
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,List<PromotableOrderItem> candidateTargets = getCandidateTargetsMap().get(itemCriteria);,0,1,0.06666666666666667,1897
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,returnQty += promotableOrderItem.getQuantity();,0,1,0.06666666666666667,1898
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"deproxiedOffer = postLoaderDao.find(OfferImpl.class, id);",0,1,0.06666666666666667,1899
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.core.offer.domain.OfferItemCriteria;,1,1,0.06666666666666667,1900
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PostLoaderDao postLoaderDao = DefaultPostLoaderDao.getPostLoaderDao();,0,1,0.06666666666666667,1901
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"deproxiedOffer = postLoaderDao.find(OfferImpl.class, id);",0,1,0.06666666666666667,1902
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.orderItemPriceDetail = orderItemPriceDetail;,1,1,0.06666666666666667,1903
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return deproxiedOffer;,0,1,0.06666666666666667,1904
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.proxy.HibernateProxy;,0,1,0.06666666666666667,1905
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1906
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.persistence.DefaultPostLoaderDao;,0,1,0.06666666666666667,1907
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.persistence.PostLoaderDao;,0,1,0.06666666666666667,1908
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.hibernate.proxy.HibernateProxy;,0,1,0.06666666666666667,1909
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,PostLoaderDao postLoaderDao = DefaultPostLoaderDao.getPostLoaderDao();,0,1,0.06666666666666667,1910
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Long id = offer.getId();,0,1,0.06666666666666667,1911
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1912
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.util.HibernateUtils;,0,1,0.06666666666666667,1913
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,deproxiedOffer = HibernateUtils.deproxy(offer);,0,1,0.06666666666666667,1914
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,return deproxiedOffer;,0,1,0.06666666666666667,1915
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.orderItemPriceDetail = orderItemPriceDetail;,1,1,0.06666666666666667,1916
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.util.HibernateUtils;,0,1,0.06666666666666667,1917
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},1,1,0.06666666666666667,1918
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.persistence.PostLoaderDao;,0,1,0.06666666666666667,1919
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,},0,1,0.06666666666666667,1920
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,import org.broadleafcommerce.common.persistence.DefaultPostLoaderDao;,0,1,0.06666666666666667,1921
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_PRIMARY_INDEX"", columnNames={""IS_PRIMARY""})",0,0,0.0,1922
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_ADDRESS_INDEX"", columnNames={""ADDRESS_ID""})",0,0,0.0,1923
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_ORDER_INDEX"", columnNames={""ORDER_ID""})",0,0,0.0,1924
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"broadleafEnumeration=""org.broadleafcommerce.core.order.service.type.FulfillmentGroupStatusType"",",0,0,0.0,1925
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_STATUS_INDEX"", columnNames={""STATUS""})",0,0,0.0,1926
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"fieldType=SupportedFieldType.BROADLEAF_ENUMERATION,",0,0,0.0,1927
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"broadleafEnumeration=""org.broadleafcommerce.core.order.service.type.FulfillmentType"",",0,0,0.0,1928
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fieldType=SupportedFieldType.MONEY),0,0,0.0,1929
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_SERVICE_INDEX"", columnNames={""SERVICE""})",0,0,0.0,1930
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_METHOD_INDEX"", columnNames={""METHOD""})",0,0,0.0,1931
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_MESSAGE_INDEX"", columnNames={""PERSONAL_MESSAGE_ID""})",0,0,0.0,1932
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Deprecated,0,0,0.0,1933
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_PHONE_INDEX"", columnNames={""PHONE_ID""})",0,0,0.0,1934
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,offer.setFulfillmentGroup(null);,0,0,0.0,1935
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationCollection(friendlyName=""FulfillmentGroupImpl_Items"",",0,0,0.0,1936
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationCollection(friendlyName=""FulfillmentGroupImpl_Fees"",",0,0,0.0,1937
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationCollection(friendlyName=""FulfillmentGroupImpl_Adjustments"",",0,0,0.0,1938
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,discreteOrderItems.add(discreteOrderItem);,0,0,0.0,1939
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupItems.add(fulfillmentGroupItem);,0,0,0.0,1940
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"BroadleafCurrencyUtils.getMoney(retailFulfillmentPrice, getOrder().getCurrency());",0,0,0.0,1941
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setRetailFulfillmentPrice(retailShippingPrice);,0,0,0.0,1942
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,candidateOffers.add(candidateOffer);,0,0,0.0,1943
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,candidateOffers.clear();,0,0,0.0,1944
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,futureCreditAdjustments.add(adjustment);,0,0,0.0,1945
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustment.setFulfillmentGroup(null);,0,0,0.0,1946
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupAdjustments.clear();,0,0,0.0,1947
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Parameter(name=""entity_name"", value=""org.broadleafcommerce.core.order.domain.FulfillmentGroupImpl"")",0,0,0.0,1948
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setSaleFulfillmentPrice(saleShippingPrice);,0,0,0.0,1949
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,getOrder().getCurrency());,0,0,0.0,1950
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_REFERENCE_INDEX"", columnNames={""REFERENCE_NUMBER""})",0,0,0.0,1951
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,break;,1,0,0.0,1952
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Parameter(name=""segment_value"", value=""FulfillmentGroupImpl""),",0,0,0.0,1953
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"strategy=""org.broadleafcommerce.common.persistence.IdOverrideTableGenerator"",",0,0,0.0,1954
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,promotableAdjustment.getAdjustmentValue());,1,0,0.0,1955
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupFees.add(fulfillmentGroupFee);,0,0,0.0,1956
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustment.setValue(promotableAdjustment.getAdjustmentValue());,1,0,0.0,1957
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Value(""${use.quantity.only.tier.calculation:false}"")",0,0,0.0,1958
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,computeAdjustmentValues();,1,0,0.0,1959
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/*,1,0,0.0,1960
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableOfferUtility.computeRetailAdjustmentValue(promotableCandidateItemOffer, orderItemPriceDetail),",0,0,0.0,1961
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableOfferUtility.computeSalesAdjustmentValue(promotableCandidateItemOffer, orderItemPriceDetail));",0,0,0.0,1962
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableOfferUtility.computeRetailAdjustmentValue(promotableCandidateFulfillmentGroupOffer, fulfillmentGroup),",0,0,0.0,1963
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableOfferUtility.computeSalesAdjustmentValue(promotableCandidateFulfillmentGroupOffer, fulfillmentGroup));",0,0,0.0,1964
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@SuppressWarnings(""unchecked"")",1,0,0.0,1965
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"PromotableOrderItemPriceDetail orderItemPriceDetail,",0,0,0.0,1966
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableCandidateItemOffer, promotableOrderItemPriceDetail, retailAdjustmentValue, saleAdjustmentValue);",0,0,0.0,1967
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,computeAdjustmentValues();,1,0,0.0,1968
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/*,1,0,0.0,1969
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableCandidateItemOffer, promotableOrderItemPriceDetail);",1,0,0.0,1970
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,private PromotableOfferUtility promotableOfferUtility;,0,0,0.0,1971
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offer.getValue().divide(new BigDecimal(""100""), 5, RoundingMode.HALF_EVEN));",0,0,0.0,1972
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,Integer getRoundingScale();,0,0,0.0,1973
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/*-,0,0,0.0,1974
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Entity,0,0,0.0,1975
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@AdminPresentationMergeOverrides(,0,0,0.0,1976
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"}),",0,0,0.0,1977
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,}),0,0,0.0,1978
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,),0,0,0.0,1979
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@DirectCopyTransform({,0,0,0.0,1980
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Id,0,0,0.0,1981
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@GenericGenerator(,0,0,0.0,1982
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"name=""FulfillmentGroupId"",",0,0,0.0,1983
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setFulfillmentPrice(shippingPrice);,0,0,0.0,1984
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,candidateOffers.add(candidateOffer);,1,0,0.0,1985
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupFees.clear();,0,0,0.0,1986
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setDeliveryInstruction(deliveryInstruction);,0,0,0.0,1987
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_ADDRESS_INDEX"", columnNames={""ADDRESS_ID""})",1,0,0.0,1988
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_PHONE_INDEX"", columnNames={""PHONE_ID""})",1,0,0.0,1989
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_MESSAGE_INDEX"", columnNames={""PERSONAL_MESSAGE_ID""})",1,0,0.0,1990
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationCollection(friendlyName=""FulfillmentGroupImpl_Items"",",1,0,0.0,1991
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationCollection(friendlyName=""FulfillmentGroupImpl_Fees"",",1,0,0.0,1992
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@AdminPresentationCollection(friendlyName=""FulfillmentGroupImpl_Adjustments"",",1,0,0.0,1993
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,discreteOrderItems.add(discreteOrderItem);,1,0,0.0,1994
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,this.fulfillmentGroupItems.add(fulfillmentGroupItem);,1,0,0.0,1995
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"BroadleafCurrencyUtils.getMoney(retailFulfillmentPrice, getOrder().getCurrency());",1,0,0.0,1996
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setRetailFulfillmentPrice(retailShippingPrice);,1,0,0.0,1997
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,offer.setFulfillmentGroup(null);,1,0,0.0,1998
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,candidateOffers.clear();,1,0,0.0,1999
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,futureCreditAdjustments.add(adjustment);,1,0,0.0,2000
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustment.setFulfillmentGroup(null);,1,0,0.0,2001
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupAdjustments.clear();,1,0,0.0,2002
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,getOrder().getCurrency());,1,0,0.0,2003
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setSaleFulfillmentPrice(saleShippingPrice);,1,0,0.0,2004
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setFulfillmentPrice(shippingPrice);,1,0,0.0,2005
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupFees.add(fulfillmentGroupFee);,1,0,0.0,2006
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupFees.clear();,1,0,0.0,2007
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setDeliveryInstruction(deliveryInstruction);,1,0,0.0,2008
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setFulfillmentOption(fulfillmentOption);,1,0,0.0,2009
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"cloneTaxDetails(context, cloned);",1,0,0.0,2010
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setOrder(order);,1,0,0.0,2011
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setPrimary(primary);,1,0,0.0,2012
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setType(getType());,1,0,0.0,2013
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupItem.setFulfillmentGroup(cloned);,1,0,0.0,2014
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.getFulfillmentGroupItems().add(fulfillmentGroupItem);,1,0,0.0,2015
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,order.setTotalFulfillmentCharges(syncFulfillmentPrice);,0,0,0.0,2016
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_ORDER_INDEX"", columnNames={""ORDER_ID""})",1,0,0.0,2017
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"broadleafEnumeration=""org.broadleafcommerce.core.order.service.type.FulfillmentGroupStatusType"",",1,0,0.0,2018
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_STATUS_INDEX"", columnNames={""STATUS""})",1,0,0.0,2019
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,),1,0,0.0,2020
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setFulfillmentOption(fulfillmentOption);,0,0,0.0,2021
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"cloneTaxDetails(context, cloned);",0,0,0.0,2022
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setOrder(order);,0,0,0.0,2023
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setPrimary(primary);,0,0,0.0,2024
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setType(getType());,0,0,0.0,2025
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupItem.setFulfillmentGroup(cloned);,0,0,0.0,2026
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.getFulfillmentGroupItems().add(fulfillmentGroupItem);,0,0,0.0,2027
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.getTaxes().add(clonedTaxDetail);,0,0,0.0,2028
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,/*,1,0,0.0,2029
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Entity,1,0,0.0,2030
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@AdminPresentationMergeOverrides(,1,0,0.0,2031
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"}),",1,0,0.0,2032
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,}),1,0,0.0,2033
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@DirectCopyTransform({,1,0,0.0,2034
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_PRIMARY_INDEX"", columnNames={""IS_PRIMARY""})",1,0,0.0,2035
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Id,1,0,0.0,2036
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@GenericGenerator(,1,0,0.0,2037
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"name=""FulfillmentGroupId"",",1,0,0.0,2038
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"strategy=""org.broadleafcommerce.common.persistence.IdOverrideTableGenerator"",",1,0,0.0,2039
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Parameter(name=""segment_value"", value=""FulfillmentGroupImpl""),",1,0,0.0,2040
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Parameter(name=""entity_name"", value=""org.broadleafcommerce.core.order.domain.FulfillmentGroupImpl"")",1,0,0.0,2041
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_REFERENCE_INDEX"", columnNames={""REFERENCE_NUMBER""})",1,0,0.0,2042
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_METHOD_INDEX"", columnNames={""METHOD""})",1,0,0.0,2043
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Deprecated,1,0,0.0,2044
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"@Index(name=""FG_SERVICE_INDEX"", columnNames={""SERVICE""})",1,0,0.0,2045
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fieldType=SupportedFieldType.MONEY),1,0,0.0,2046
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"fieldType=SupportedFieldType.BROADLEAF_ENUMERATION,",1,0,0.0,2047
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"broadleafEnumeration=""org.broadleafcommerce.core.order.service.type.FulfillmentType"",",1,0,0.0,2048
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fg.setFulfillmentPrice(fulfillmentPrice);,0,0,0.0,2049
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,item.resetPriceDetails();,0,0,0.0,2050
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,syncFulfillmentPrice(fg);,0,0,0.0,2051
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustment.setFutureCredit(promotableAdjustment.isFutureCredit());,0,0,0.0,2052
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerServiceUtilities.sortTargetItemDetails(priceDetails, itemOffer.getOffer().getApplyDiscountToSalePrice());",0,0,0.0,2053
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"orderItemHolder, itemCriteria, priceDetails, this);",0,0,0.0,2054
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"extensionManager.getProxy().calculatePotentialSavings(itemOffer, item, quantity, contextMap);",0,0,0.0,2055
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,extensionManager.getProxy().resetPriceDetails(item);,0,0,0.0,2056
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,extensionManager.getProxy().chooseSaleOrRetailAdjustments(order);,0,0,0.0,2057
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemPriceDetail.addCandidateItemPriceDetailAdjustment(promotableOrderItemPriceDetailAdjustment);,1,0,0.0,2058
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,break;,1,0,0.0,2059
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyOrderItemAdjustment(itemOffer, itemPriceDetail);",1,0,0.0,2060
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,continue;,1,0,0.0,2061
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyLegacyAdjustments(order, itemOffer);",1,0,0.0,2062
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyAdjustments(order, itemOffer);",1,0,0.0,2063
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Collections.sort(priceDetails, getQualifierItemComparator(itemOffer.getOffer().getApplyDiscountToSalePrice()));",1,0,0.0,2064
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifierQtyNeeded -= qtyToMarkAsQualifier;,1,0,0.0,2065
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"detail.addPromotionQualifier(itemOffer, itemCriteria, qtyToMarkAsQualifier);",1,0,0.0,2066
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Collections.sort(priceDetails, getTargetItemComparator(itemOffer.getOffer().getApplyDiscountToSalePrice()));",1,0,0.0,2067
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,targetQtyNeeded -= qtyToMarkAsTarget;,1,0,0.0,2068
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"priceDetail.addPromotionDiscount(itemOffer, itemCriteria, qtyToMarkAsTarget);",1,0,0.0,2069
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,detail.getPromotionQualifiers().remove(pq);,1,0,0.0,2070
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,pq.setItemCriteria(previousQualifierCriteria);,1,0,0.0,2071
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,};,1,0,0.0,2072
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"itemOffer.calculateSavingsForOrderItem(item, discount.getQuantity()));",1,0,0.0,2073
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,offerIterator.next();,1,0,0.0,2074
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,offerIterator.remove();,1,0,0.0,2075
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerServiceUtilities.updatePriceDetail(existingDetail, priceDetail);",0,0,0.0,2076
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerServiceUtilities.updatePriceDetail(newPriceDetail, priceDetail);",0,0,0.0,2077
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerServiceUtilities.removeUnmatchedPriceDetails(unmatchedDetailsMap, pdIterator);",0,0,0.0,2078
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerServiceUtilities.removeUnmatchedQualifiers(unmatchedQualifiersMap, qIterator);",0,0,0.0,2079
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,offerServiceUtilities.buildItemDetailAdjustmentMap(itemDetail);,0,0,0.0,2080
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,extensionManager.getProxy().synchronizeAdjustmentsAndPrices(promotableOrder);,0,0,0.0,2081
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyAdjustments(order, itemOffer);",0,0,0.0,2082
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyLegacyAdjustments(order, itemOffer);",0,0,0.0,2083
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"extensionManager.getProxy().applyItemOffer(order, itemOffer, contextMap);",0,0,0.0,2084
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemOffer.addUse();,1,0,0.0,2085
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,continue;,0,0,0.0,2086
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Collections.sort(priceDetails, getQualifierItemComparator(itemOffer.getOffer().getApplyDiscountToSalePrice()));",0,0,0.0,2087
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,break;,0,0,0.0,2088
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifierQtyNeeded -= qtyToMarkAsQualifier;,0,0,0.0,2089
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,detail.getPromotionQualifiers().remove(pq);,0,0,0.0,2090
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,pq.setItemCriteria(previousQualifierCriteria);,0,0,0.0,2091
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,break;,1,0,0.0,2092
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,continue;,0,0,0.0,2093
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,continue;,1,0,0.0,2094
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"priceDetail.addPromotionDiscount(itemOffer, itemOffer.getOffer().getTargetItemCriteria(), qtyToMarkAsTarget);",0,0,0.0,2095
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemOffer.addUse();,0,0,0.0,2096
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,curQualifier++;,0,0,0.0,2097
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"priceDetail.addPromotionDiscount(itemOffer, itemOffer.getOffer().getTargetItemCriteria(), qtyToMarkAsTarget);",1,0,0.0,2098
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,candidate.getLegacyCandidateTargets().add(promotableOrderItem);,0,0,0.0,2099
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerServiceUtilities.applyOrderItemAdjustment(itemOffer, itemPriceDetail);",0,0,0.0,2100
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,candidateOffer.getCandidateTargetsMap().putAll(candidates.getCandidateTargetsMap());,0,0,0.0,2101
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Collections.sort(priceDetails, getTargetItemComparator(itemOffer.getOffer().getApplyDiscountToSalePrice()));",0,0,0.0,2102
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,targetQtyNeeded -= qtyToMarkAsTarget;,0,0,0.0,2103
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"detail.addPromotionDiscount(itemOffer, itemCriteria, qtyToMarkAsTarget);",0,0,0.0,2104
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,break;,0,0,0.0,2105
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,candidate.getCandidateTargets().add(promotableOrderItem);,1,0,0.0,2106
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,candidateOffer.getCandidateTargets().addAll(candidates.getCandidateTargets());,1,0,0.0,2107
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"Collections.sort(priceDetails, getTargetItemComparator(promotion.getApplyDiscountToSalePrice()));",1,0,0.0,2108
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,receiveQtyNeeded -= qtyToMarkAsTarget;,1,0,0.0,2109
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"priceDetail.addPromotionDiscount(itemOffer, itemOffer.getOffer().getTargetItemCriteria(), qtyToMarkAsTarget);",1,0,0.0,2110
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemOffer.addUse();,1,0,0.0,2111
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,break;,1,0,0.0,2112
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerServiceUtilities.applyAdjustmentsForItemPriceDetails(itemOffer, itemPriceDetails);",0,0,0.0,2113
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,orderItemList.add(currentItem);,1,0,0.0,2114
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,orderItemList.add(containedItem);,1,0,0.0,2115
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"promotableItemMap.put(item.getOrderItem(), item);",1,0,0.0,2116
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,continue;,1,0,0.0,2117
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setOrderItemPriceDetail(orderItemPriceDetail);,1,0,0.0,2118
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.setReason(reason);,1,0,0.0,2119
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroupMember.getFulfillmentGroup().setFulfillmentPrice(fulfillmentCharges);,0,0,0.0,2120
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,fulfillmentGroup.getFulfillmentGroup().setFulfillmentPrice(fulfillmentCharges);,1,0,0.0,2121
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,poid.chooseSaleOrRetailAdjustments();,0,0,0.0,2122
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,poid.chooseSaleOrRetailAdjustments();,1,0,0.0,2123
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemOffer.getOffer().getOrderMinSubTotal().lessThanOrEqual(Money.ZERO) ||,1,0,0.0,2124
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyOrderOffer(promotableOrder, orderOffer);",0,0,0.0,2125
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,compareAndAdjustOrderAndItemOffers(promotableOrder);,0,0,0.0,2126
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,continue;,0,0,0.0,2127
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,break;,0,0,0.0,2128
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"applyOrderOffer(promotableOrder, orderOffer);",1,0,0.0,2129
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,compareAndAdjustOrderAndItemOffers(promotableOrder);,1,0,0.0,2130
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,break;,1,0,0.0,2131
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemOffer.getOffer().getOrderMinSubTotal().lessThanOrEqual(Money.ZERO) ||,0,0,0.0,2132
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Transient,0,0,0.0,2133
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setOrderItemPriceDetail(orderItemPriceDetail);,0,0,0.0,2134
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setReason(reason);,0,0,0.0,2135
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Transient,0,0,0.0,2136
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setOrderItemPriceDetail(orderItemPriceDetail);,0,0,0.0,2137
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setReason(reason);,0,0,0.0,2138
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,@Transient,0,0,0.0,2139
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setOrderItemPriceDetail(orderItemPriceDetail);,0,0,0.0,2140
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,setReason(reason);,0,0,0.0,2141
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"updateAdjustmentIfChangesDetected(adjustment, promotableAdjustment);",0,0,0.0,2142
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,promotableAdjustment.getAdjustmentValue());,0,0,0.0,2143
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustment.setValue(promotableAdjustment.getAdjustmentValue());,0,0,0.0,2144
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,promotableAdjustment.isFutureCredit());,0,0,0.0,2145
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"cloned.init(orderItemPriceDetail, offer, reason);",0,0,0.0,2146
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerService.applyOffersToOrder(offers, promotableOrder.getOrder());",1,0,0.0,2147
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"updatePriceDetail(existingDetail, priceDetail);",1,0,0.0,2148
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemAdjustment.setRetailPriceValue(promotableAdjustment.getRetailAdjustmentValue());,1,0,0.0,2149
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"updatePriceDetail(newPriceDetail, priceDetail);",1,0,0.0,2150
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,pdIterator.remove();,1,0,0.0,2151
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qIterator.remove();,1,0,0.0,2152
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemDetail.setQuantity(promotableDetail.getQuantity());,1,0,0.0,2153
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemDetail.setUseSalePrice(promotableDetail.useSaleAdjustments());,1,0,0.0,2154
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"updateItemAdjustment(itemAdjustment, adjustment);",1,0,0.0,2155
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"newItemAdjustment.init(itemDetail, adjustment.getOffer(), null);",1,0,0.0,2156
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"updateItemAdjustment(newItemAdjustment, adjustment);",1,0,0.0,2157
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemDetail.getOrderItemPriceDetailAdjustments().add(newItemAdjustment);,1,0,0.0,2158
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,adjustmentIdsToRemove.add(adjustmentToRemove.getOffer().getId());,1,0,0.0,2159
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,iterator.remove();,1,0,0.0,2160
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemAdjustment.setValue(promotableAdjustment.getAdjustmentValue());,1,0,0.0,2161
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemAdjustment.setSalesPriceValue(promotableAdjustment.getSaleAdjustmentValue());,1,0,0.0,2162
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,itemAdjustment.setAppliedToSalePrice(promotableAdjustment.isAppliedToSalePrice());,1,0,0.0,2163
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"offerService.applyAndSaveOffersToOrder(offers, promotableOrder.getOrder());",0,0,0.0,2164
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,"itemAdjustmentMap.put(adjustment.getOffer().getId(), adjustment);",1,0,0.0,2165
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifiers.remove();,0,0,0.0,2166
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,newDetail.getPromotionQualifiers().add(currentQualifier);,0,0,0.0,2167
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,newDetail.getPromotionQualifiers().add(newQualifier);,0,0,0.0,2168
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifiers.remove();,1,0,0.0,2169
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,newDetail.getPromotionQualifiers().add(currentQualifier);,1,0,0.0,2170
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,newDetail.getPromotionQualifiers().add(newQualifier);,1,0,0.0,2171
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifiers.remove();,0,0,0.0,2172
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,newDetail.getPromotionQualifiers().add(currentQualifier);,0,0,0.0,2173
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,newDetail.getPromotionQualifiers().add(newQualifier);,0,0,0.0,2174
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,qualifiers.remove();,1,0,0.0,2175
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,newDetail.getPromotionQualifiers().add(currentQualifier);,1,0,0.0,2176
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,newDetail.getPromotionQualifiers().add(newQualifier);,1,0,0.0,2177
b842e4ba7fb4745f6ecfee6ababf1fdd8edac0f7,cloned.getTaxes().add(clonedTaxDetail);,1,0,0.0,2178

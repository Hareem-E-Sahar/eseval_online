commit_id,line,line_level_label,count,line_score,row
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String consoleUrl = KubernetesHelper.getServiceURL(kubernetes, ServiceNames.FABRIC8_CONSOLE, namespace, ""http"", true);",1,5,1.0,1
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String address = KubernetesHelper.getServiceURL(kubernetes, ServiceNames.JENKINS, namespace, ""http"", false);",1,5,1.0,2
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String address = getServiceUrl(ServiceNames.JENKINS, false, namespace, jenkinsNamespace);",0,4,0.8,3
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String consoleUrl = getServiceUrl(ServiceNames.FABRIC8_CONSOLE, namespace, fabric8ConsoleNamespace);",0,3,0.6000000000000001,4
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"protected boolean annotationLink(Map<String, String> annotations, String annotationPrefix, String issueTrackerUrl, String issueTrackerLabel) {",0,3,0.6000000000000001,5
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"name = username + ""-"" + name;",1,3,0.6000000000000001,6
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"jenkinsUrl = KubernetesHelper.getServiceURL(kubernetes, ServiceNames.JENKINS, KubernetesHelper.defaultNamespace(), ""http"", true);",1,3,0.6000000000000001,7
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String taigaTeamLink = getProjectPageLink(taiga, taigaProject, this.taigaTeamLinkPage);",0,2,0.4,8
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String taigaTeamLink = getProjectPageLink(taiga, taigaProject, this.taigaTeamLinkPage);",1,2,0.4,9
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String taigaLink = getProjectPageLink(taiga, taigaProject, this.taigaProjectLinkPage);",1,2,0.4,10
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String label = ""Job"";",1,2,0.4,11
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String label = ""Monitor"";",1,2,0.4,12
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"private String flowGitUrl = System.getenv(""JENKINS_WORKFLOW_GIT_REPOSITORY"");",1,2,0.4,13
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,kubernetes = new DefaultKubernetesClient();,0,2,0.4,14
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"return KubernetesHelper.getServiceURL(getKubernetes(), serviceName, namespace, ""http"", serviceExternal);",0,2,0.4,15
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String label = ""Pipeline"";",1,2,0.4,16
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String taigaLink = getProjectPageLink(taiga, taigaProject, this.taigaProjectLinkPage);",0,2,0.4,17
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,private String fabric8ConsoleNamespace = KubernetesHelper.defaultNamespace();,0,2,0.4,18
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"private String flowGitUrl = Systems.getEnvVar(""JENKINS_WORKFLOW_GIT_REPOSITORY"", ""https://github.com/fabric8io/jenkins-workflow-library.git"");",0,2,0.4,19
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"private String repositoryBrowseLabel = ""Repository"";",0,2,0.4,20
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"private String releasesLabel = ""Releases"";",0,2,0.4,21
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"private String teamLabel = ""Team"";",0,2,0.4,22
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"private String issueTrackerLabel = ""Issues"";",0,2,0.4,23
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,private String jenkinsNamespace = KubernetesHelper.defaultNamespace();,0,2,0.4,24
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getReleasesUrl() {,0,1,0.2,25
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.issueTrackerLabel = issueTrackerLabel;,0,1,0.2,26
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getIssueTrackerUrl() {,0,1,0.2,27
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.issueTrackerUrl = issueTrackerUrl;,0,1,0.2,28
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getTeamUrl() {,0,1,0.2,29
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.teamUrl = teamUrl;,0,1,0.2,30
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getTeamLabel() {,0,1,0.2,31
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.teamLabel = teamLabel;,0,1,0.2,32
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.repositoryBrowseLabel = repositoryBrowseLabel;,0,1,0.2,33
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getReleasesLabel() {,0,1,0.2,34
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.releasesLabel = releasesLabel;,0,1,0.2,35
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getRepositoryBrowseLabel() {,0,1,0.2,36
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getRepositoryBrowseLink() {,0,1,0.2,37
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.repositoryBrowseLink = repositoryBrowseLink;,0,1,0.2,38
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,name = repoName;,1,1,0.2,39
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.jenkinsNamespace = jenkinsNamespace;,0,1,0.2,40
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getIssueTrackerLabel() {,0,1,0.2,41
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.releasesUrl = releasesUrl;,0,1,0.2,42
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getJenkinsNamespace() {,0,1,0.2,43
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"return getServiceUrl(ServiceNames.JENKINS, namespace, jenkinsNamespace);",0,1,0.2,44
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,this.fabric8ConsoleNamespace = fabric8ConsoleNamespace;,0,1,0.2,45
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,private String issueTrackerUrl;,0,1,0.2,46
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,private String teamUrl;,0,1,0.2,47
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,private String releasesUrl;,0,1,0.2,48
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,private String repositoryBrowseLink;,0,1,0.2,49
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"name = ProjectRepositories.createBuildName(username, repoName);",0,1,0.2,50
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,protected String getJenkinsServiceUrl() {,0,1,0.2,51
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,jenkinsUrl = getJenkinsServiceUrl();,0,1,0.2,52
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"private String getServiceUrl(String serviceName, boolean serviceExternal, String... namespaces) {",0,1,0.2,53
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,List<String> namespaceList = new ArrayList<>(Arrays.asList(namespaces));,0,1,0.2,54
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"String[] defaults = { KubernetesHelper.defaultNamespace(), ""default"" };",0,1,0.2,55
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,for (String namespace : namespaceList) {,0,1,0.2,56
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(annotationPrefix + ""url"", issueTrackerUrl);",0,1,0.2,57
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"protected String getServiceUrl(String serviceName, String... namespaces) {",0,1,0.2,58
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public String getFabric8ConsoleNamespace() {,0,1,0.2,59
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(annotationPrefix + ""label"", issueTrackerLabel);",0,1,0.2,60
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import java.util.*;,1,0,0.0,61
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,controller.setNamespace(namespace);,0,0,0.0,62
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return repositoryBrowseLink;,0,0,0.0,63
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setRepositoryBrowseLink(String repositoryBrowseLink) {,0,0,0.0,64
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import io.fabric8.openshift.api.model.*;,1,0,0.0,65
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import io.fabric8.kubernetes.api.model.EnvVar;,1,0,0.0,66
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import io.fabric8.openshift.client.OpenShiftClient;,1,0,0.0,67
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return repositoryBrowseLabel;,0,0,0.0,68
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setRepositoryBrowseLabel(String repositoryBrowseLabel) {,0,0,0.0,69
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return teamUrl;,0,0,0.0,70
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setReleasesLabel(String releasesLabel) {,0,0,0.0,71
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return releasesLabel;,0,0,0.0,72
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setReleasesUrl(String releasesUrl) {,0,0,0.0,73
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return releasesUrl;,0,0,0.0,74
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setTeamLabel(String teamLabel) {,0,0,0.0,75
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return teamLabel;,0,0,0.0,76
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setTeamUrl(String teamUrl) {,0,0,0.0,77
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,},1,0,0.0,78
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setIssueTrackerUrl(String issueTrackerUrl) {,0,0,0.0,79
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return issueTrackerUrl;,0,0,0.0,80
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,if (Strings.isNotBlank(username)) {,1,0,0.0,81
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"addLink(label, jenkinsJobUrl);",1,0,0.0,82
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.jenkins.monitor/url"", url);",1,0,0.0,83
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.jenkins.monitor/label"", label);",1,0,0.0,84
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return issueTrackerLabel;,0,0,0.0,85
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,endStrategy();,1,0,0.0,86
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"addLink(letschatRoomLinkLabel, chatRoomLink);",1,0,0.0,87
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.letschat.room/label"", letschatRoomLinkLabel);",1,0,0.0,88
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.letschat.room/url"", chatRoomLink);",1,0,0.0,89
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,if (Strings.isNotBlank(chatRoomLink)) {,1,0,0.0,90
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"addLink(taigaTeamLinkLabel, taigaTeamLink);",1,0,0.0,91
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.taiga.team/label"", taigaTeamLinkLabel);",1,0,0.0,92
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.taiga.team/url"", taigaTeamLink);",1,0,0.0,93
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,if (Strings.isNotBlank(taigaTeamLink)) {,1,0,0.0,94
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"addLink(taigaProjectLinkLabel, taigaLink);",1,0,0.0,95
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.taiga/label"", taigaProjectLinkLabel);",1,0,0.0,96
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.taiga/url"", taigaLink);",1,0,0.0,97
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,if (Strings.isNotBlank(taigaLink)) {,1,0,0.0,98
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.jenkins.job/label"", label);",1,0,0.0,99
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.jenkins.job/url"", jenkinsJobUrl);",1,0,0.0,100
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.jenkins.pipeline/label"", label);",1,0,0.0,101
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotations.put(""fabric8.link.jenkins.pipeline/url"", url);",1,0,0.0,102
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"addLink(label, url);",1,0,0.0,103
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setIssueTrackerLabel(String issueTrackerLabel) {,0,0,0.0,104
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotationLink(annotations, ""fabric8.link.taiga/"", taigaLink, taigaProjectLinkLabel);",0,0,0.0,105
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setJenkinsNamespace(String jenkinsNamespace) {,0,0,0.0,106
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,endStrategy();,0,0,0.0,107
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotationLink(annotations, ""fabric8.link.letschat.room/"", chatRoomLink, letschatRoomLinkLabel);",0,0,0.0,108
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotationLink(annotations, ""fabric8.link.releases/"", releasesUrl, releasesLabel);",0,0,0.0,109
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotationLink(annotations, ""fabric8.link.taiga.team/"", taigaTeamLink, taigaTeamLinkLabel);",0,0,0.0,110
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"if (!annotationLink(annotations, ""fabric8.link.team/"", teamUrl, teamLabel)) {",0,0,0.0,111
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"if (!annotationLink(annotations, ""fabric8.link.issues/"", issueTrackerUrl, issueTrackerLabel)) {",0,0,0.0,112
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotationLink(annotations, ""fabric8.link.jenkins.job/"", jenkinsJobUrl, ""Job"");",0,0,0.0,113
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotationLink(annotations, ""fabric8.link.jenkins.pipeline/"", url, ""Pipeline"");",0,0,0.0,114
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotationLink(annotations, ""fabric8.link.jenkins.monitor/"", url, ""Monitor"");",0,0,0.0,115
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import java.util.Set;,0,0,0.0,116
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import java.util.Map;,0,0,0.0,117
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import java.util.List;,0,0,0.0,118
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import java.util.HashMap;,0,0,0.0,119
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import java.util.Arrays;,0,0,0.0,120
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import java.util.ArrayList;,0,0,0.0,121
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import io.fabric8.utils.Systems;,0,0,0.0,122
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import io.fabric8.openshift.api.model.BuildConfigFluent;,0,0,0.0,123
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import io.fabric8.openshift.api.model.BuildConfigBuilder;,0,0,0.0,124
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import io.fabric8.openshift.api.model.BuildConfig;,0,0,0.0,125
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,import io.fabric8.devops.ProjectRepositories;,0,0,0.0,126
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"annotationLink(annotations, ""fabric8.link.repository.browse/"", repositoryBrowseLink, repositoryBrowseLabel);",0,0,0.0,127
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,},0,0,0.0,128
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return jenkinsNamespace;,0,0,0.0,129
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,/**,0,0,0.0,130
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,public void setFabric8ConsoleNamespace(String fabric8ConsoleNamespace) {,0,0,0.0,131
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return fabric8ConsoleNamespace;,0,0,0.0,132
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return kubernetes;,0,0,0.0,133
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,if (kubernetes == null) {,0,0,0.0,134
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return false;,0,0,0.0,135
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,} else {,0,0,0.0,136
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return true;,0,0,0.0,137
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"addLink(issueTrackerLabel, issueTrackerUrl);",0,0,0.0,138
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,if (Strings.isNotBlank(issueTrackerUrl)) {,0,0,0.0,139
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return null;,0,0,0.0,140
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,// ignore,0,0,0.0,141
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,} catch (Exception e) {,0,0,0.0,142
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,try {,0,0,0.0,143
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,namespaceList.add(defaultNamespace);,0,0,0.0,144
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,if (namespaceList.contains(defaultNamespace)) {,0,0,0.0,145
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,for (String defaultNamespace : defaults) {,0,0,0.0,146
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,"return getServiceUrl(serviceName, true, namespaces);",0,0,0.0,147
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,*/,0,0,0.0,148
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,* Looks in the given namespaces for the given service or returns null if it could not be found,0,0,0.0,149
5f492eb585bd87d5c1f4dc8c0ad78e884214efa6,return new DefaultKubernetesClient();,1,0,0.0,150

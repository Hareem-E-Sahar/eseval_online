commit_id,line,line_level_label,count,line_score,row
18a095c429860840b16cfbe760cb38a8b0947070,"public static boolean isDefaultValue(CamelCatalog camelCatalog, String scheme, String key, String value) {",1,5,1.0,1
18a095c429860840b16cfbe760cb38a8b0947070,// lets find the camel component class,1,4,0.8,2
18a095c429860840b16cfbe760cb38a8b0947070,"private Result editEndpointXml(List<String> lines, String lineNumber, String endpointUrl, String uri, FileResource file, String xml) {",1,4,0.8,3
18a095c429860840b16cfbe760cb38a8b0947070,"public static void createCdiComponentProducerClass(JavaClassSource javaClass, CamelComponentDetails details, String camelComponentName, String componentInstanceName, String configurationCode) {",1,4,0.8,4
18a095c429860840b16cfbe760cb38a8b0947070,"public static void createSpringComponentFactoryClass(JavaClassSource javaClass, CamelComponentDetails details, String camelComponentName, String componentInstanceName, String configurationCode) {",1,4,0.8,5
18a095c429860840b16cfbe760cb38a8b0947070,"public static List<EndpointOptionByGroup> createUIInputsForCamelComponent(String camelComponentName, String uri, int maxOptionsPerPage, boolean consumerOnly, boolean producerOnly,",1,4,0.8,6
18a095c429860840b16cfbe760cb38a8b0947070,// lets find the camel component class,1,4,0.8,7
18a095c429860840b16cfbe760cb38a8b0947070,"public static String mandatoryAttributeValue(Map<Object, Object> attributeMap, String name) {",1,3,0.6000000000000001,8
18a095c429860840b16cfbe760cb38a8b0947070,"public static String mandatoryAttributeValue(Map<Object, Object> attributeMap, String name) {",1,3,0.6000000000000001,9
18a095c429860840b16cfbe760cb38a8b0947070,public class ConfigureEndpointPropertiesStep extends AbstractCamelProjectCommand implements UIWizardStep {,1,3,0.6000000000000001,10
18a095c429860840b16cfbe760cb38a8b0947070,"private Result addEndpointXml(Document root, String endpointInstanceName, String uri, FileResource file, String xml) throws Exception {",1,3,0.6000000000000001,11
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Could not find fully qualified class name in catalog for component name: "" + camelComponentName);",1,3,0.6000000000000001,12
18a095c429860840b16cfbe760cb38a8b0947070,"public static String optionalAttributeValue(Map<Object, Object> attributeMap, String name) {",1,3,0.6000000000000001,13
18a095c429860840b16cfbe760cb38a8b0947070,// use the camel catalog to find what components the artifact has,1,3,0.6000000000000001,14
18a095c429860840b16cfbe760cb38a8b0947070,"public static boolean isComponentConsumerOnly(CamelCatalog camelCatalog, String scheme) {",1,3,0.6000000000000001,15
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelNewSpringXmlCommand extends AbstractCamelProjectCommand {,1,3,0.6000000000000001,16
18a095c429860840b16cfbe760cb38a8b0947070,public class ConfigureComponentPropertiesStep extends AbstractCamelProjectCommand implements UIWizardStep {,1,3,0.6000000000000001,17
18a095c429860840b16cfbe760cb38a8b0947070,"public static boolean isComponentProducerOnly(CamelCatalog camelCatalog, String scheme) {",1,3,0.6000000000000001,18
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Class Name"", required = true, description = ""Name of the Spring Component class to generate"")",1,3,0.6000000000000001,19
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelNewComponentInstanceCDICommand extends AbstractCamelProjectCommand implements UIWizard {,1,3,0.6000000000000001,20
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelNewBlueprintXmlCommand extends AbstractCamelProjectCommand {,1,3,0.6000000000000001,21
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelAddLanguageCommand extends AbstractCamelProjectCommand {,1,3,0.6000000000000001,22
18a095c429860840b16cfbe760cb38a8b0947070,if (previous != null && previous.equals(camelComponentName) && previous2 != null && previous2.equals(endpointType.getValue())) {,1,3,0.6000000000000001,23
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelAddEndpointCommand extends AbstractCamelProjectCommand implements UIWizard {,1,3,0.6000000000000001,24
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelAddDataFormatCommand extends AbstractCamelProjectCommand {,1,3,0.6000000000000001,25
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Adds a Camel component to your project dependencies"");",1,3,0.6000000000000001,26
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelAddComponentCommand extends AbstractCamelProjectCommand {,1,3,0.6000000000000001,27
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelNewComponentInstanceSpringCommand extends AbstractCamelProjectCommand implements UIWizard {,1,3,0.6000000000000001,28
18a095c429860840b16cfbe760cb38a8b0947070,private static String findArtifactId(String json) {,1,2,0.4,29
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.addon.utils.CamelProjectHelper.findCamelArtifacts;,1,2,0.4,30
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createDataFormatDto;,1,2,0.4,31
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.dataFormatsFromArtifact;,1,2,0.4,32
18a095c429860840b16cfbe760cb38a8b0947070,// need to find camel-core so we known the camel version,1,2,0.4,33
18a095c429860840b16cfbe760cb38a8b0947070,// need to find camel-core so we known the camel version,1,2,0.4,34
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.addon.utils.CamelProjectHelper.findCamelArtifacts;,1,2,0.4,35
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createLanguageDto;,1,2,0.4,36
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.languagesFromArtifact;,1,2,0.4,37
18a095c429860840b16cfbe760cb38a8b0947070,// need to find camel-core so we known the camel version,1,2,0.4,38
18a095c429860840b16cfbe760cb38a8b0947070,private static String findArtifactId(String json) {,1,2,0.4,39
18a095c429860840b16cfbe760cb38a8b0947070,// find all available component labels,1,2,0.4,40
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(context);,1,2,0.4,41
18a095c429860840b16cfbe760cb38a8b0947070,"private static final String NAME = ""camel"";",1,2,0.4,42
18a095c429860840b16cfbe760cb38a8b0947070,"* To find the closet node that we need to insert the endpoints before, so the Camel schema is valid.",1,2,0.4,43
18a095c429860840b16cfbe760cb38a8b0947070,String find = Pattern.quote(endpointUrl);,1,2,0.4,44
18a095c429860840b16cfbe760cb38a8b0947070,"boolean cdi = findCamelArtifactDependency(project, ""camel-cdi"") != null;",1,2,0.4,45
18a095c429860840b16cfbe760cb38a8b0947070,"String componentName, String group,",1,2,0.4,46
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper.loadCamelComponentDetails;,1,2,0.4,47
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper.ensureCamelArtifactIdAdded;,1,2,0.4,48
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.isDefaultValue;,1,2,0.4,49
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.addon.utils.CamelProjectHelper.findCamelArtifactDependency;,1,2,0.4,50
18a095c429860840b16cfbe760cb38a8b0947070,// need to parse to be able to extends another class,1,2,0.4,51
18a095c429860840b16cfbe760cb38a8b0947070,public static String asTitleCase(String text) {,1,2,0.4,52
18a095c429860840b16cfbe760cb38a8b0947070,// find package names in the source code,1,2,0.4,53
18a095c429860840b16cfbe760cb38a8b0947070,public static boolean isCdiProject(Project project) {,1,2,0.4,54
18a095c429860840b16cfbe760cb38a8b0947070,public static String endpointComponentName(String uri) {,1,2,0.4,55
18a095c429860840b16cfbe760cb38a8b0947070,"public static Set<String> componentsFromArtifact(CamelCatalog camelCatalog, String artifactId) {",1,2,0.4,56
18a095c429860840b16cfbe760cb38a8b0947070,"throw new IllegalArgumentException(""Could not find catalog entry for component name: "" + camelComponentName);",1,2,0.4,57
18a095c429860840b16cfbe760cb38a8b0947070,private static Class loadPrimitiveWrapperType(String name) {,1,2,0.4,58
18a095c429860840b16cfbe760cb38a8b0947070,public static Class getPrimitiveWrapperClassType(String name) {,1,2,0.4,59
18a095c429860840b16cfbe760cb38a8b0947070,* @return the primitive Java Class type,1,2,0.4,60
18a095c429860840b16cfbe760cb38a8b0947070,private static Class loadStringSupportedType(String javaType) {,1,2,0.4,61
18a095c429860840b16cfbe760cb38a8b0947070,"// its a custom java type so use String as the input type, so you can refer to it using # lookup",1,2,0.4,62
18a095c429860840b16cfbe760cb38a8b0947070,"public static Class<Object> loadValidInputTypes(String javaType, String type) {",1,2,0.4,63
18a095c429860840b16cfbe760cb38a8b0947070,* Converts a java type as a string to a valid input type and returns the class or null if its not supported,1,2,0.4,64
18a095c429860840b16cfbe760cb38a8b0947070,"String body = componentClassName + "" component = new "" + componentClassName + ""();"" + configurationCode + ""\nreturn component;"";",1,2,0.4,65
18a095c429860840b16cfbe760cb38a8b0947070,public static boolean isBlueprintProject(Project project) {,1,2,0.4,66
18a095c429860840b16cfbe760cb38a8b0947070,public static boolean isSpringProject(Project project) {,1,2,0.4,67
18a095c429860840b16cfbe760cb38a8b0947070,"throw new IllegalArgumentException(""Could not find catalog entry for component name: "" + camelComponentName);",1,2,0.4,68
18a095c429860840b16cfbe760cb38a8b0947070,// we want to use same version as camel-core if its a camel component,1,2,0.4,69
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Could not find catalog entry for component name: "" + camelComponentName);",1,2,0.4,70
18a095c429860840b16cfbe760cb38a8b0947070,"public static Result loadCamelComponentDetails(CamelCatalog camelCatalog, String camelComponentName, CamelComponentDetails details) {",1,2,0.4,71
18a095c429860840b16cfbe760cb38a8b0947070,"public static Callable<Iterable<ComponentDto>> createComponentDtoValues(final Project project, final CamelCatalog camelCatalog,",1,2,0.4,72
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.endpointComponentName;,1,2,0.4,73
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.addon.utils.UIHelper.createUIInput;,1,2,0.4,74
18a095c429860840b16cfbe760cb38a8b0947070,"public static DataFormatDto createDataFormatDto(CamelCatalog camelCatalog, String name) {",1,2,0.4,75
18a095c429860840b16cfbe760cb38a8b0947070,"public static ComponentDto createComponentDto(CamelCatalog camelCatalog, String scheme) {",1,2,0.4,76
18a095c429860840b16cfbe760cb38a8b0947070,"throw new IllegalArgumentException(""Could not find catalog entry for component name: "" + scheme);",1,2,0.4,77
18a095c429860840b16cfbe760cb38a8b0947070,"public static Set<String> languagesFromArtifact(CamelCatalog camelCatalog, String artifactId) {",1,2,0.4,78
18a095c429860840b16cfbe760cb38a8b0947070,"public static Set<String> dataFormatsFromArtifact(CamelCatalog camelCatalog, String artifactId) {",1,2,0.4,79
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(context);,1,2,0.4,80
18a095c429860840b16cfbe760cb38a8b0947070,"public static LanguageDto createLanguageDto(CamelCatalog camelCatalog, String name) {",1,2,0.4,81
18a095c429860840b16cfbe760cb38a8b0947070,// lets create a field for each property on the component,1,2,0.4,82
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createComponentDto;,0,2,0.4,83
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(builder);,1,2,0.4,84
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Adds a Camel dataformat to your project dependencies"");",1,2,0.4,85
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createDataFormatDto;,1,2,0.4,86
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel component "" + dto.getScheme() + "" ("" + dto.getArtifactId() + "") to the project"");",1,2,0.4,87
18a095c429860840b16cfbe760cb38a8b0947070,// we want to use same version as camel-core if its a camel component,1,2,0.4,88
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(context);,1,2,0.4,89
18a095c429860840b16cfbe760cb38a8b0947070,final Project project = getSelectedProject(builder);,1,2,0.4,90
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createComponentDto;,1,2,0.4,91
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.findLanguageArchetype;,1,2,0.4,92
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.findDataFormatArchetype;,1,2,0.4,93
18a095c429860840b16cfbe760cb38a8b0947070,"throw new IllegalArgumentException(""Could not find catalog entry for component name: "" + camelComponentName);",1,2,0.4,94
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createComponentDto;,0,2,0.4,95
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createComponentDto;,1,2,0.4,96
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createComponentDto;,0,2,0.4,97
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel component "" + name.getValue() + "" ("" + artifactId + "") to the project"");",1,2,0.4,98
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.findComponentArchetype;,1,2,0.4,99
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel component "" + dto.getScheme() + "" ("" + dto.getArtifactId() + "") to the project"");",0,2,0.4,100
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createComponentDto;,0,2,0.4,101
18a095c429860840b16cfbe760cb38a8b0947070,"throw new IllegalArgumentException(""Could not find catalog entry for component name: "" + camelComponentName);",1,2,0.4,102
18a095c429860840b16cfbe760cb38a8b0947070,"// either we have an uri from an existing endpoint to edit, or we only have the component name to create a new endpoint",1,2,0.4,103
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.endpointComponentName;,1,2,0.4,104
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.addon.utils.UIHelper.createUIInput;,1,2,0.4,105
18a095c429860840b16cfbe760cb38a8b0947070,private static Class loadStringSupportedType(String javaType) {,0,2,0.4,106
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper.loadValidInputTypes;,1,2,0.4,107
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(context);,1,2,0.4,108
18a095c429860840b16cfbe760cb38a8b0947070,// lets create a field for each property on the component,1,2,0.4,109
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper.createUIInputsForCamelComponent;,1,2,0.4,110
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Creates a new Camel component instance configuration using CDI"");",1,2,0.4,111
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(builder.getUIContext());,1,2,0.4,112
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper.ensureCamelArtifactIdAdded;,1,2,0.4,113
18a095c429860840b16cfbe760cb38a8b0947070,// create the new file and set the content,1,2,0.4,114
18a095c429860840b16cfbe760cb38a8b0947070,boolean blueprint = CamelCommandsHelper.isBlueprintProject(project);,1,2,0.4,115
18a095c429860840b16cfbe760cb38a8b0947070,boolean cdi = CamelCommandsHelper.isCdiProject(project);,1,2,0.4,116
18a095c429860840b16cfbe760cb38a8b0947070,// not enable for cdi or blueprint projects,1,2,0.4,117
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(context);,1,2,0.4,118
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(builder.getUIContext());,1,2,0.4,119
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Creates a new Camel component instance configuration using Spring"");",1,2,0.4,120
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createComponentDto;,1,2,0.4,121
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(builder.getUIContext());,1,2,0.4,122
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.addon.utils.UIHelper.createUIInput;,1,2,0.4,123
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createComponentDto;,1,2,0.4,124
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(context);,1,2,0.4,125
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper.createLanguageDto;,1,2,0.4,126
18a095c429860840b16cfbe760cb38a8b0947070,// create the new file and set the content,1,2,0.4,127
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Adds a Camel language to your project dependencies"");",1,2,0.4,128
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(builder);,1,2,0.4,129
18a095c429860840b16cfbe760cb38a8b0947070,import static io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper.loadCamelComponentDetails;,1,2,0.4,130
18a095c429860840b16cfbe760cb38a8b0947070,boolean spring = CamelCommandsHelper.isSpringProject(project);,1,2,0.4,131
18a095c429860840b16cfbe760cb38a8b0947070,Project project = getSelectedProject(context);,1,2,0.4,132
18a095c429860840b16cfbe760cb38a8b0947070,// not enable for cdi or spring projects,1,2,0.4,133
18a095c429860840b16cfbe760cb38a8b0947070,boolean cdi = CamelCommandsHelper.isCdiProject(project);,1,2,0.4,134
18a095c429860840b16cfbe760cb38a8b0947070,String lineNumber = null;,1,1,0.2,135
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,136
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,137
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.wizard.UIWizardStep;,1,1,0.2,138
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.source.AnnotationSource;,1,1,0.2,139
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.source.FieldSource;,1,1,0.2,140
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.source.JavaClassSource;,1,1,0.2,141
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.source.MethodSource;,1,1,0.2,142
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.util.Strings;,1,1,0.2,143
18a095c429860840b16cfbe760cb38a8b0947070,import org.w3c.dom.Document;,1,1,0.2,144
18a095c429860840b16cfbe760cb38a8b0947070,import org.w3c.dom.Node;,1,1,0.2,145
18a095c429860840b16cfbe760cb38a8b0947070,private final String componentName;,1,1,0.2,146
18a095c429860840b16cfbe760cb38a8b0947070,import org.w3c.dom.NodeList;,1,1,0.2,147
18a095c429860840b16cfbe760cb38a8b0947070,"String xml = mandatoryAttributeValue(attributeMap, ""xml"");",1,1,0.2,148
18a095c429860840b16cfbe760cb38a8b0947070,private final String group;,1,1,0.2,149
18a095c429860840b16cfbe760cb38a8b0947070,private final boolean last;,1,1,0.2,150
18a095c429860840b16cfbe760cb38a8b0947070,for (InputComponent input : inputs) {,1,1,0.2,151
18a095c429860840b16cfbe760cb38a8b0947070,"String kind = mandatoryAttributeValue(attributeMap, ""kind"");",1,1,0.2,152
18a095c429860840b16cfbe760cb38a8b0947070,"String camelComponentName = optionalAttributeValue(attributeMap, ""componentName"");",1,1,0.2,153
18a095c429860840b16cfbe760cb38a8b0947070,"String endpointInstanceName = optionalAttributeValue(attributeMap, ""instanceName"");",1,1,0.2,154
18a095c429860840b16cfbe760cb38a8b0947070,"String mode = mandatoryAttributeValue(attributeMap, ""mode"");",1,1,0.2,155
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,156
18a095c429860840b16cfbe760cb38a8b0947070,"boolean last, int index, int total) {",1,1,0.2,157
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,158
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,159
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.NavigationResult;,1,1,0.2,160
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.LineNumberHelper;,1,1,0.2,161
18a095c429860840b16cfbe760cb38a8b0947070,// does the project already have camel?,1,1,0.2,162
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.XmlLineNumberParser;,1,1,0.2,163
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelJavaParserHelper;,1,1,0.2,164
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.StringHelper;,1,1,0.2,165
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.model.CamelComponentDetails;,1,1,0.2,166
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.CamelCatalog;,1,1,0.2,167
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,168
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.facets.JavaSourceFacet;,1,1,0.2,169
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.resources.JavaResource;,1,1,0.2,170
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,171
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.ProjectFactory;,1,1,0.2,172
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ResourcesFacet;,1,1,0.2,173
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.WebResourcesFacet;,1,1,0.2,174
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.FileResource;,1,1,0.2,175
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,176
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,177
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,178
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UINavigationContext;,1,1,0.2,179
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.2,180
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,181
18a095c429860840b16cfbe760cb38a8b0947070,String endpointUrl = null;,1,1,0.2,182
18a095c429860840b16cfbe760cb38a8b0947070,boolean updated = true;,1,1,0.2,183
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""The project does not include camel-core"");",1,1,0.2,184
18a095c429860840b16cfbe760cb38a8b0947070,// collect all the options that was set,1,1,0.2,185
18a095c429860840b16cfbe760cb38a8b0947070,// cdi uses @Inject @Uri,1,1,0.2,186
18a095c429860840b16cfbe760cb38a8b0947070,// make sure to import what we use,1,1,0.2,187
18a095c429860840b16cfbe760cb38a8b0947070,// replace the unformatted class soure code,1,1,0.2,188
18a095c429860840b16cfbe760cb38a8b0947070,String code = clazz.toUnformattedString();,1,1,0.2,189
18a095c429860840b16cfbe760cb38a8b0947070,"String endpointUrl = mandatoryAttributeValue(attributeMap, ""endpointUri"");",1,1,0.2,190
18a095c429860840b16cfbe760cb38a8b0947070,String name = found.getNodeName();,1,1,0.2,191
18a095c429860840b16cfbe760cb38a8b0947070,// if no endpoints then try to find cut-off according the XSD rules,1,1,0.2,192
18a095c429860840b16cfbe760cb38a8b0947070,* Returns the mandatory String value of the given name,1,1,0.2,193
18a095c429860840b16cfbe760cb38a8b0947070,String text = value.toString();,1,1,0.2,194
18a095c429860840b16cfbe760cb38a8b0947070,* Returns the optional String value of the given name,1,1,0.2,195
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project.archetype;,1,1,0.2,196
18a095c429860840b16cfbe760cb38a8b0947070,import java.io.StringReader;,1,1,0.2,197
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.logging.Level;,1,1,0.2,198
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.logging.Logger;,1,1,0.2,199
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.DefaultCamelCatalog;,1,1,0.2,200
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.maven.archetype.catalog.ArchetypeCatalog;,1,1,0.2,201
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.maven.archetype.catalog.io.xpp3.ArchetypeCatalogXpp3Reader;,1,1,0.2,202
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.maven.archetype.ArchetypeCatalogFactory;,1,1,0.2,203
18a095c429860840b16cfbe760cb38a8b0947070,* The Apache Camel archetypes,1,1,0.2,204
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelArchetypeCatalogFactory implements ArchetypeCatalogFactory {,1,1,0.2,205
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,206
18a095c429860840b16cfbe760cb38a8b0947070,// special for CDI as we use different set of annotations,1,1,0.2,207
18a095c429860840b16cfbe760cb38a8b0947070,"String uri = camelCatalog.asEndpointUri(camelComponentName, options, false);",1,1,0.2,208
18a095c429860840b16cfbe760cb38a8b0947070,"String routeBuilder = mandatoryAttributeValue(attributeMap, ""routeBuilder"");",1,1,0.2,209
18a095c429860840b16cfbe760cb38a8b0947070,"// we are in add mode, so parse dom to find <camelContext> and insert the endpoint where its needed",1,1,0.2,210
18a095c429860840b16cfbe760cb38a8b0947070,for (InputComponent input : allInputs) {,1,1,0.2,211
18a095c429860840b16cfbe760cb38a8b0947070,String key = input.getName();,1,1,0.2,212
18a095c429860840b16cfbe760cb38a8b0947070,// only use the value if a value was set (and the value is not the same as the default value),1,1,0.2,213
18a095c429860840b16cfbe760cb38a8b0947070,String value = input.getValue().toString();,1,1,0.2,214
18a095c429860840b16cfbe760cb38a8b0947070,"boolean matchDefault = isDefaultValue(camelCatalog, camelComponentName, key, value);",1,1,0.2,215
18a095c429860840b16cfbe760cb38a8b0947070,} else if (input.isRequired() && input.hasDefaultValue()) {,1,1,0.2,216
18a095c429860840b16cfbe760cb38a8b0947070,"String uri = camelCatalog.asEndpointUriXml(camelComponentName, options, false);",1,1,0.2,217
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Cannot create endpoint uri"");",1,1,0.2,218
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Cannot find XML file "" + xml);",1,1,0.2,219
18a095c429860840b16cfbe760cb38a8b0947070,String line = lines.get(idx);,1,1,0.2,220
18a095c429860840b16cfbe760cb38a8b0947070,"String camelComponentName = mandatoryAttributeValue(attributeMap, ""componentName"");",1,1,0.2,221
18a095c429860840b16cfbe760cb38a8b0947070,String content = LineNumberHelper.linesToString(lines);,1,1,0.2,222
18a095c429860840b16cfbe760cb38a8b0947070,String lineNumber;,1,1,0.2,223
18a095c429860840b16cfbe760cb38a8b0947070,if (camels != null && camels.getLength() == 1) {,1,1,0.2,224
18a095c429860840b16cfbe760cb38a8b0947070,Node camel = camels.item(0);,1,1,0.2,225
18a095c429860840b16cfbe760cb38a8b0947070,boolean created = false;,1,1,0.2,226
18a095c429860840b16cfbe760cb38a8b0947070,// find existing by id,1,1,0.2,227
18a095c429860840b16cfbe760cb38a8b0947070,"String id = child.getAttributes().getNamedItem(""id"").getNodeValue();",1,1,0.2,228
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Cannot find <camelContext> in XML file "" + xml);",1,1,0.2,229
18a095c429860840b16cfbe760cb38a8b0947070,"String line = String.format(""<endpoint id=\""%s\"" uri=\""%s\""/>"", endpointInstanceName, uri);",1,1,0.2,230
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.CamelProjectHelper;,1,1,0.2,231
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,232
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.regex.Pattern;,1,1,0.2,233
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponentFactory;,1,1,0.2,234
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.ArrayList;,1,1,0.2,235
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.HashSet;,1,1,0.2,236
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,237
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,238
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Set;,1,1,0.2,239
18a095c429860840b16cfbe760cb38a8b0947070,public String getName() {,1,1,0.2,240
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.CamelProjectHelper;,1,1,0.2,241
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper;,1,1,0.2,242
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.model.CamelComponentDetails;,1,1,0.2,243
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.CamelCatalog;,1,1,0.2,244
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.JSonSchemaHelper;,1,1,0.2,245
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,246
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.DependencyResolver;,1,1,0.2,247
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.facets.JavaSourceFacet;,1,1,0.2,248
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.resources.JavaResource;,1,1,0.2,249
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,250
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,251
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,252
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,253
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,254
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UINavigationContext;,1,1,0.2,255
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,256
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Created new Spring XML file "" + fullName);",1,1,0.2,257
18a095c429860840b16cfbe760cb38a8b0947070,String output = template.process(params);,1,1,0.2,258
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,259
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,260
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.facets.HintsFacet;,1,1,0.2,261
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.hints.InputType;,1,1,0.2,262
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UIInput;,1,1,0.2,263
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,264
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.2,265
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,266
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,267
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,268
18a095c429860840b16cfbe760cb38a8b0947070,public boolean isEnabled(UIContext context) {,1,1,0.2,269
18a095c429860840b16cfbe760cb38a8b0947070,"DependencyBuilder spring = DependencyBuilder.create().setGroupId(""org.apache.camel"")",1,1,0.2,270
18a095c429860840b16cfbe760cb38a8b0947070,boolean enabled = super.isEnabled(context);,1,1,0.2,271
18a095c429860840b16cfbe760cb38a8b0947070,return !cdi && !blueprint;,1,1,0.2,272
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Creates a new Spring XML file with CamelContext to your project"");",1,1,0.2,273
18a095c429860840b16cfbe760cb38a8b0947070,String projectName = project.getRoot().getName();,1,1,0.2,274
18a095c429860840b16cfbe760cb38a8b0947070,String fileName = directory.getValue() != null ? directory.getValue() + File.separator + name.getValue() : name.getValue();,1,1,0.2,275
18a095c429860840b16cfbe760cb38a8b0947070,"String fullName = ""src"" + File.separator + ""main"" + File.separator + ""resources"" + File.separator + fileName;",1,1,0.2,276
18a095c429860840b16cfbe760cb38a8b0947070,// this will get a file in the src/main/resources directory where we want to store the spring xml file,1,1,0.2,277
18a095c429860840b16cfbe760cb38a8b0947070,// does the project already have camel?,1,1,0.2,278
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""The project does not include camel-core"");",1,1,0.2,279
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.2,280
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,281
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,282
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.NavigationResult;,1,1,0.2,283
18a095c429860840b16cfbe760cb38a8b0947070,"String generatePackageName = mandatoryAttributeValue(attributeMap, ""targetPackage"");",1,1,0.2,284
18a095c429860840b16cfbe760cb38a8b0947070,"String generateClassName = mandatoryAttributeValue(attributeMap, ""className"");",1,1,0.2,285
18a095c429860840b16cfbe760cb38a8b0947070,"String kind = mandatoryAttributeValue(attributeMap, ""kind"");",1,1,0.2,286
18a095c429860840b16cfbe760cb38a8b0947070,// does the project already have camel?,1,1,0.2,287
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""The project does not include camel-core"");",1,1,0.2,288
18a095c429860840b16cfbe760cb38a8b0947070,// do we already have a class with the name,1,1,0.2,289
18a095c429860840b16cfbe760cb38a8b0947070,"String fqn = generatePackageName != null ? generatePackageName + ""."" + generateClassName : generateClassName;",1,1,0.2,290
18a095c429860840b16cfbe760cb38a8b0947070,if (existing != null && existing.exists()) {,1,1,0.2,291
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""A class with name "" + fqn + "" already exists"");",1,1,0.2,292
18a095c429860840b16cfbe760cb38a8b0947070,// generate the correct class payload based on the style...,1,1,0.2,293
18a095c429860840b16cfbe760cb38a8b0947070,for (InputComponent input : inputs) {,1,1,0.2,294
18a095c429860840b16cfbe760cb38a8b0947070,// only use value if there was a value set,1,1,0.2,295
18a095c429860840b16cfbe760cb38a8b0947070,String valueExpression = null;,1,1,0.2,296
18a095c429860840b16cfbe760cb38a8b0947070,String text = value.toString();,1,1,0.2,297
18a095c429860840b16cfbe760cb38a8b0947070,String configurationCode = buffer.toString();,1,1,0.2,298
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Created new class "" + generateClassName);",1,1,0.2,299
18a095c429860840b16cfbe760cb38a8b0947070,* Returns the mandatory String value of the given name,1,1,0.2,300
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,301
18a095c429860840b16cfbe760cb38a8b0947070,import java.io.ByteArrayInputStream;,1,1,0.2,302
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.HashMap;,1,1,0.2,303
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,304
18a095c429860840b16cfbe760cb38a8b0947070,"String componentInstanceName = mandatoryAttributeValue(attributeMap, ""instanceName"");",1,1,0.2,305
18a095c429860840b16cfbe760cb38a8b0947070,"InputComponent input = createUIInput(componentFactory, getConverterFactory(), name, inputClazz, required, currentValue, defaultValue, enums, description);",1,1,0.2,306
18a095c429860840b16cfbe760cb38a8b0947070,"String enums = propertyMap.get(""enum"");",1,1,0.2,307
18a095c429860840b16cfbe760cb38a8b0947070,"String camelComponentName = mandatoryAttributeValue(attributeMap, ""componentName"");",1,1,0.2,308
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,309
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,310
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,311
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,312
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.wizard.UIWizardStep;,1,1,0.2,313
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.Roaster;,1,1,0.2,314
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.source.JavaClassSource;,1,1,0.2,315
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.util.Strings;,1,1,0.2,316
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Configure the component options to use"");",1,1,0.2,317
18a095c429860840b16cfbe760cb38a8b0947070,String json = camelCatalog.componentJSonSchema(camelComponentName);,1,1,0.2,318
18a095c429860840b16cfbe760cb38a8b0947070,"String description = propertyMap.get(""description"");",1,1,0.2,319
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""componentProperties"", json, true);",1,1,0.2,320
18a095c429860840b16cfbe760cb38a8b0947070,"String name = propertyMap.get(""name"");",1,1,0.2,321
18a095c429860840b16cfbe760cb38a8b0947070,"String kind = propertyMap.get(""kind"");",1,1,0.2,322
18a095c429860840b16cfbe760cb38a8b0947070,"String type = propertyMap.get(""type"");",1,1,0.2,323
18a095c429860840b16cfbe760cb38a8b0947070,"String javaType = propertyMap.get(""javaType"");",1,1,0.2,324
18a095c429860840b16cfbe760cb38a8b0947070,"String deprecated = propertyMap.get(""deprecated"");",1,1,0.2,325
18a095c429860840b16cfbe760cb38a8b0947070,"String required = propertyMap.get(""required"");",1,1,0.2,326
18a095c429860840b16cfbe760cb38a8b0947070,String currentValue = null;,1,1,0.2,327
18a095c429860840b16cfbe760cb38a8b0947070,"String defaultValue = propertyMap.get(""defaultValue"");",1,1,0.2,328
18a095c429860840b16cfbe760cb38a8b0947070,public String toString() {,1,1,0.2,329
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.ArrayList;,1,1,0.2,330
18a095c429860840b16cfbe760cb38a8b0947070,// use the camel catalog to load the archetypes,1,1,0.2,331
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.source.JavaClassSource;,1,1,0.2,332
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,333
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Set;,1,1,0.2,334
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.concurrent.Callable;,1,1,0.2,335
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.CamelProjectHelper;,1,1,0.2,336
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.completer.CamelComponentsCompleter;,1,1,0.2,337
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.completer.CamelComponentsLabelCompleter;,1,1,0.2,338
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,1,1,0.2,339
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.model.CamelComponentDetails;,1,1,0.2,340
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.model.EndpointOptionByGroup;,1,1,0.2,341
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.CamelCatalog;,1,1,0.2,342
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.JSonSchemaHelper;,1,1,0.2,343
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.ConverterFactory;,1,1,0.2,344
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,345
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.builder.DependencyBuilder;,1,1,0.2,346
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,347
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,348
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,349
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.2,350
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponentFactory;,1,1,0.2,351
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.2,352
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,353
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,354
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.HashSet;,1,1,0.2,355
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Date;,1,1,0.2,356
18a095c429860840b16cfbe760cb38a8b0947070,// use the camel catalog,1,1,0.2,357
18a095c429860840b16cfbe760cb38a8b0947070,String json = camelCatalog.dataFormatJSonSchema(name);,1,1,0.2,358
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""dataformat"", json, false);",1,1,0.2,359
18a095c429860840b16cfbe760cb38a8b0947070,String df = null;,1,1,0.2,360
18a095c429860840b16cfbe760cb38a8b0947070,if (artifactId.equals(artifact) && df != null) {,1,1,0.2,361
18a095c429860840b16cfbe760cb38a8b0947070,String json = camelCatalog.languageJSonSchema(name);,1,1,0.2,362
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""language"", json, false);",1,1,0.2,363
18a095c429860840b16cfbe760cb38a8b0947070,String lan = null;,1,1,0.2,364
18a095c429860840b16cfbe760cb38a8b0947070,if (artifactId.equals(artifact) && lan != null) {,1,1,0.2,365
18a095c429860840b16cfbe760cb38a8b0947070,* @param scheme the component name,1,1,0.2,366
18a095c429860840b16cfbe760cb38a8b0947070,String json = camelCatalog.componentJSonSchema(scheme);,1,1,0.2,367
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Collections;,1,1,0.2,368
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""properties"", json, true);",1,1,0.2,369
18a095c429860840b16cfbe760cb38a8b0947070,"String name = propertyMap.get(""name"");",1,1,0.2,370
18a095c429860840b16cfbe760cb38a8b0947070,"String defaultValue = propertyMap.get(""defaultValue"");",1,1,0.2,371
18a095c429860840b16cfbe760cb38a8b0947070,* Whether the component is consumer only,1,1,0.2,372
18a095c429860840b16cfbe760cb38a8b0947070,"String consumerOnly = propertyMap.get(""consumerOnly"");",1,1,0.2,373
18a095c429860840b16cfbe760cb38a8b0947070,"String consumerOnly = propertyMap.get(""producerOnly"");",1,1,0.2,374
18a095c429860840b16cfbe760cb38a8b0947070,"String labelText = row.get(""label"");",1,1,0.2,375
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project.helper;,1,1,0.2,376
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.ArrayList;,1,1,0.2,377
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,378
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.source.MethodSource;,1,1,0.2,379
18a095c429860840b16cfbe760cb38a8b0947070,String artifact = null;,1,1,0.2,380
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.util.Strings;,1,1,0.2,381
18a095c429860840b16cfbe760cb38a8b0947070,"// reset the filters as the component can only be one of them anyway, so we should show all options",1,1,0.2,382
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""properties"", json, true);",1,1,0.2,383
18a095c429860840b16cfbe760cb38a8b0947070,"String name = propertyMap.get(""name"");",1,1,0.2,384
18a095c429860840b16cfbe760cb38a8b0947070,"String kind = propertyMap.get(""kind"");",1,1,0.2,385
18a095c429860840b16cfbe760cb38a8b0947070,"String group = propertyMap.get(""group"");",1,1,0.2,386
18a095c429860840b16cfbe760cb38a8b0947070,"String label = propertyMap.get(""label"");",1,1,0.2,387
18a095c429860840b16cfbe760cb38a8b0947070,"String type = propertyMap.get(""type"");",1,1,0.2,388
18a095c429860840b16cfbe760cb38a8b0947070,"String javaType = propertyMap.get(""javaType"");",1,1,0.2,389
18a095c429860840b16cfbe760cb38a8b0947070,"String deprecated = propertyMap.get(""deprecated"");",1,1,0.2,390
18a095c429860840b16cfbe760cb38a8b0947070,"String required = propertyMap.get(""required"");",1,1,0.2,391
18a095c429860840b16cfbe760cb38a8b0947070,String currentValue = currentValues.get(name);,1,1,0.2,392
18a095c429860840b16cfbe760cb38a8b0947070,"String defaultValue = propertyMap.get(""defaultValue"");",1,1,0.2,393
18a095c429860840b16cfbe760cb38a8b0947070,"String description = propertyMap.get(""description"");",1,1,0.2,394
18a095c429860840b16cfbe760cb38a8b0947070,"String enums = propertyMap.get(""enum"");",1,1,0.2,395
18a095c429860840b16cfbe760cb38a8b0947070,if (group != null && !group.equals(current.getGroup())) {,1,1,0.2,396
18a095c429860840b16cfbe760cb38a8b0947070,if (consumerOnly && label != null) {,1,1,0.2,397
18a095c429860840b16cfbe760cb38a8b0947070,if (producerOnly && label != null) {,1,1,0.2,398
18a095c429860840b16cfbe760cb38a8b0947070,boolean gui = ui.getProvider().isGUI();,1,1,0.2,399
18a095c429860840b16cfbe760cb38a8b0947070,"if (enums != null && required == null || ""false"".equals(required)) {",1,1,0.2,400
18a095c429860840b16cfbe760cb38a8b0947070,"InputComponent input = createUIInput(componentFactory, converterFactory, name, inputClazz, required, currentValue, defaultValue, enums, description);",1,1,0.2,401
18a095c429860840b16cfbe760cb38a8b0947070,// if we hit max options then create a new group,1,1,0.2,402
18a095c429860840b16cfbe760cb38a8b0947070,"boolean componentProducerOnly = CamelCatalogHelper.isComponentProducerOnly(camelCatalog, camelComponentName);",1,1,0.2,403
18a095c429860840b16cfbe760cb38a8b0947070,"boolean componentConsumerOnly = CamelCatalogHelper.isComponentConsumerOnly(camelCatalog, camelComponentName);",1,1,0.2,404
18a095c429860840b16cfbe760cb38a8b0947070,"// is the component consumer or producer only, if so we do not need any kind of filter",1,1,0.2,405
18a095c429860840b16cfbe760cb38a8b0947070,"String version = row.get(""version"");",1,1,0.2,406
18a095c429860840b16cfbe760cb38a8b0947070,public final class CamelCommandsHelper {,1,1,0.2,407
18a095c429860840b16cfbe760cb38a8b0947070,"public static Iterable<String> createComponentLabelValues(Project project, CamelCatalog camelCatalog) {",1,1,0.2,408
18a095c429860840b16cfbe760cb38a8b0947070,final boolean excludeComponentsOnClasspath) {,1,1,0.2,409
18a095c429860840b16cfbe760cb38a8b0947070,String label = componentCategoryFilter.getValue();,1,1,0.2,410
18a095c429860840b16cfbe760cb38a8b0947070,String json = camelCatalog.componentJSonSchema(camelComponentName);,1,1,0.2,411
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""component"", json, false);",1,1,0.2,412
18a095c429860840b16cfbe760cb38a8b0947070,"String javaType = row.get(""javaType"");",1,1,0.2,413
18a095c429860840b16cfbe760cb38a8b0947070,"String groupId = row.get(""groupId"");",1,1,0.2,414
18a095c429860840b16cfbe760cb38a8b0947070,"String artifactId = row.get(""artifactId"");",1,1,0.2,415
18a095c429860840b16cfbe760cb38a8b0947070,"public static Result ensureCamelArtifactIdAdded(Project project, CamelComponentDetails details, DependencyInstaller dependencyInstaller) {",1,1,0.2,416
18a095c429860840b16cfbe760cb38a8b0947070,if (camelComponentName == null && uri != null) {,1,1,0.2,417
18a095c429860840b16cfbe760cb38a8b0947070,String groupId = details.getGroupId();,1,1,0.2,418
18a095c429860840b16cfbe760cb38a8b0947070,String artifactId = details.getArtifactId();,1,1,0.2,419
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""The project does not include camel-core"");",1,1,0.2,420
18a095c429860840b16cfbe760cb38a8b0947070,String version;,1,1,0.2,421
18a095c429860840b16cfbe760cb38a8b0947070,DependencyBuilder component = DependencyBuilder.create().setGroupId(groupId),1,1,0.2,422
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,1,1,0.2,423
18a095c429860840b16cfbe760cb38a8b0947070,String componentClassName = details.getComponentClassName();,1,1,0.2,424
18a095c429860840b16cfbe760cb38a8b0947070,"String methodName = ""create"" + Strings.capitalize(componentInstanceName) + ""Component"";",1,1,0.2,425
18a095c429860840b16cfbe760cb38a8b0947070,if (clazz != null && (clazz.equals(String.class) || clazz.equals(Date.class) || clazz.equals(Boolean.class),1,1,0.2,426
18a095c429860840b16cfbe760cb38a8b0947070,if (artifactId.equals(artifact) && scheme != null) {,1,1,0.2,427
18a095c429860840b16cfbe760cb38a8b0947070,String scheme = null;,1,1,0.2,428
18a095c429860840b16cfbe760cb38a8b0947070,String xml = new DefaultCamelCatalog().archetypeCatalogAsXml();,1,1,0.2,429
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.JSonSchemaHelper;,1,1,0.2,430
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,431
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,432
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,433
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.2,434
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UICompleter;,1,1,0.2,435
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelDataFormatsCompleter implements UICompleter<DataFormatDto> {,1,1,0.2,436
18a095c429860840b16cfbe760cb38a8b0947070,private final Project project;,1,1,0.2,437
18a095c429860840b16cfbe760cb38a8b0947070,"public Iterable<DataFormatDto> getCompletionProposals(UIContext context, InputComponent input, String value) {",1,1,0.2,438
18a095c429860840b16cfbe760cb38a8b0947070,// find all available dataformat names,1,1,0.2,439
18a095c429860840b16cfbe760cb38a8b0947070,String json = camelCatalog.dataFormatJSonSchema(name);,1,1,0.2,440
18a095c429860840b16cfbe760cb38a8b0947070,String artifactId = findArtifactId(json);,1,1,0.2,441
18a095c429860840b16cfbe760cb38a8b0947070,boolean already = false;,1,1,0.2,442
18a095c429860840b16cfbe760cb38a8b0947070,"Set<String> languages = dataFormatsFromArtifact(camelCatalog, dep.getCoordinate().getArtifactId());",1,1,0.2,443
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""dataformat"", json, false);",1,1,0.2,444
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project.completer;,1,1,0.2,445
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.ArrayList;,1,1,0.2,446
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,447
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,448
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Set;,1,1,0.2,449
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.CamelProjectHelper;,1,1,0.2,450
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.LanguageDto;,1,1,0.2,451
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.JSonSchemaHelper;,1,1,0.2,452
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.CamelCatalog;,1,1,0.2,453
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.DataFormatDto;,1,1,0.2,454
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,455
18a095c429860840b16cfbe760cb38a8b0947070,public boolean equals(Object o) {,1,1,0.2,456
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project.completer;,1,1,0.2,457
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.ArrayList;,1,1,0.2,458
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,459
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Set;,1,1,0.2,460
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.CamelProjectHelper;,1,1,0.2,461
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.CamelCatalog;,1,1,0.2,462
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,463
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,464
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.2,465
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.CamelProjectHelper;,1,1,0.2,466
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UICompleter;,1,1,0.2,467
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelComponentsLabelCompleter implements UICompleter<String> {,1,1,0.2,468
18a095c429860840b16cfbe760cb38a8b0947070,private final Project project;,1,1,0.2,469
18a095c429860840b16cfbe760cb38a8b0947070,"public Iterable<String> getCompletionProposals(UIContext context, InputComponent input, String value) {",1,1,0.2,470
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project.completer;,1,1,0.2,471
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.ArrayList;,1,1,0.2,472
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,473
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,474
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Set;,1,1,0.2,475
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.CamelCatalog;,1,1,0.2,476
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,477
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""component"", json, false);",1,1,0.2,478
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,479
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,480
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.2,481
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UICompleter;,1,1,0.2,482
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.JavaClass;,1,1,0.2,483
18a095c429860840b16cfbe760cb38a8b0947070,String superType = clazz.getSuperType();,1,1,0.2,484
18a095c429860840b16cfbe760cb38a8b0947070,if (superType != null && RouteBuilder.class.getName().equals(superType)) {,1,1,0.2,485
18a095c429860840b16cfbe760cb38a8b0947070,"public Iterable<String> getCompletionProposals(UIContext context, InputComponent input, String value) {",1,1,0.2,486
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project.helper;,1,1,0.2,487
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,488
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,489
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Set;,1,1,0.2,490
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.TreeSet;,1,1,0.2,491
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,1,1,0.2,492
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.DataFormatDto;,1,1,0.2,493
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.LanguageDto;,1,1,0.2,494
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.utils.Strings;,1,1,0.2,495
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.CamelCatalog;,1,1,0.2,496
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.JSonSchemaHelper;,1,1,0.2,497
18a095c429860840b16cfbe760cb38a8b0947070,public final class CamelCatalogHelper {,1,1,0.2,498
18a095c429860840b16cfbe760cb38a8b0947070,boolean next = true;,1,1,0.2,499
18a095c429860840b16cfbe760cb38a8b0947070,String json = camelCatalog.componentJSonSchema(name);,1,1,0.2,500
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.visit.VisitContext;,1,1,0.2,501
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.resources.JavaResourceVisitor;,1,1,0.2,502
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.resources.JavaResource;,1,1,0.2,503
18a095c429860840b16cfbe760cb38a8b0947070,boolean already = false;,1,1,0.2,504
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,505
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.2,506
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UICompleter;,1,1,0.2,507
18a095c429860840b16cfbe760cb38a8b0947070,public class CamelLanguagesCompleter implements UICompleter<LanguageDto> {,1,1,0.2,508
18a095c429860840b16cfbe760cb38a8b0947070,private final Project project;,1,1,0.2,509
18a095c429860840b16cfbe760cb38a8b0947070,"public Iterable<LanguageDto> getCompletionProposals(UIContext context, InputComponent input, String value) {",1,1,0.2,510
18a095c429860840b16cfbe760cb38a8b0947070,// find all available language names,1,1,0.2,511
18a095c429860840b16cfbe760cb38a8b0947070,String json = camelCatalog.languageJSonSchema(name);,1,1,0.2,512
18a095c429860840b16cfbe760cb38a8b0947070,String artifactId = findArtifactId(json);,1,1,0.2,513
18a095c429860840b16cfbe760cb38a8b0947070,// filter out existing languages we already have,1,1,0.2,514
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.facets.JavaSourceFacet;,1,1,0.2,515
18a095c429860840b16cfbe760cb38a8b0947070,"Set<String> languages = languagesFromArtifact(camelCatalog, dep.getCoordinate().getArtifactId());",1,1,0.2,516
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""language"", json, false);",1,1,0.2,517
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project.completer;,1,1,0.2,518
18a095c429860840b16cfbe760cb38a8b0947070,import java.io.FileNotFoundException;,1,1,0.2,519
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,520
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,521
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Set;,1,1,0.2,522
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.TreeSet;,1,1,0.2,523
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.builder.RouteBuilder;,1,1,0.2,524
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,525
18a095c429860840b16cfbe760cb38a8b0947070,public class RouteBuilderCompleter implements UICompleter<String> {,1,1,0.2,526
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.templates.freemarker.FreemarkerTemplate;,1,1,0.2,527
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,528
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,529
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.2,530
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.ValueChangeListener;,1,1,0.2,531
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.events.ValueChangeEvent;,1,1,0.2,532
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,533
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.2,534
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,535
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,536
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,537
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,538
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: Add DataFormat"").category(Categories.create(CATEGORY))",1,1,0.2,539
18a095c429860840b16cfbe760cb38a8b0947070,// use value choices instead of completer as that works better in web console,1,1,0.2,540
18a095c429860840b16cfbe760cb38a8b0947070,// show note about the chosen data format,1,1,0.2,541
18a095c429860840b16cfbe760cb38a8b0947070,String description = dataFormat.getDescription();,1,1,0.2,542
18a095c429860840b16cfbe760cb38a8b0947070,// does the project already have camel?,1,1,0.2,543
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""The project does not include camel-core"");",1,1,0.2,544
18a095c429860840b16cfbe760cb38a8b0947070,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),1,1,0.2,545
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,1,1,0.2,546
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel dataformat "" + dto.getName() + "" ("" + dto.getArtifactId() + "") to the project"");",1,1,0.2,547
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Unknown Camel dataformat"");",1,1,0.2,548
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,549
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,550
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,551
18a095c429860840b16cfbe760cb38a8b0947070,"String previous = (String) attributeMap.get(""componentName"");",1,1,0.2,552
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,553
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,554
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,555
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,556
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Name"", required = true, description = ""Name of component type to add"")",1,1,0.2,557
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: Add Component"").category(Categories.create(CATEGORY))",1,1,0.2,558
18a095c429860840b16cfbe760cb38a8b0947070,// show note about the chosen component,1,1,0.2,559
18a095c429860840b16cfbe760cb38a8b0947070,ComponentDto component = (ComponentDto) event.getNewValue();,1,1,0.2,560
18a095c429860840b16cfbe760cb38a8b0947070,String description = component.getDescription();,1,1,0.2,561
18a095c429860840b16cfbe760cb38a8b0947070,// does the project already have camel?,1,1,0.2,562
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""The project does not include camel-core"");",1,1,0.2,563
18a095c429860840b16cfbe760cb38a8b0947070,String version;,1,1,0.2,564
18a095c429860840b16cfbe760cb38a8b0947070,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),1,1,0.2,565
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,1,1,0.2,566
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Unknown Camel component"");",1,1,0.2,567
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,568
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,569
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.completer.CamelDataFormatsCompleter;,1,1,0.2,570
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.DataFormatDto;,1,1,0.2,571
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,1,1,0.2,572
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,573
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.builder.DependencyBuilder;,1,1,0.2,574
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.ArrayList;,1,1,0.2,575
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Arrays;,1,1,0.2,576
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.List;,1,1,0.2,577
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,578
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.NavigationResult;,1,1,0.2,579
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,580
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,581
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.navigation.NavigationResultBuilder;,1,1,0.2,582
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,583
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,584
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.wizard.UIWizard;,1,1,0.2,585
18a095c429860840b16cfbe760cb38a8b0947070,private static final int MAX_OPTIONS = 20;,1,1,0.2,586
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Name"", required = true, description = ""Name of component to use for the endpoint"")",1,1,0.2,587
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""RouteBuilder Class"", required = true, description = ""The RouteBuilder class to use"")",1,1,0.2,588
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: Add Endpoint"").category(Categories.create(CATEGORY))",1,1,0.2,589
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Adds a Camel endpoint to an existing RouteBuilder class"");",1,1,0.2,590
18a095c429860840b16cfbe760cb38a8b0947070,// show note about the chosen component,1,1,0.2,591
18a095c429860840b16cfbe760cb38a8b0947070,ComponentDto component = (ComponentDto) event.getNewValue();,1,1,0.2,592
18a095c429860840b16cfbe760cb38a8b0947070,String description = component.getDescription();,1,1,0.2,593
18a095c429860840b16cfbe760cb38a8b0947070,// limit the endpoint types what is possible with this chosen component,1,1,0.2,594
18a095c429860840b16cfbe760cb38a8b0947070,boolean consumerOnly = component.isConsumerOnly();,1,1,0.2,595
18a095c429860840b16cfbe760cb38a8b0947070,boolean producerOnly = component.isProducerOnly();,1,1,0.2,596
18a095c429860840b16cfbe760cb38a8b0947070,// use value choices instead of completer as that works better in web console,1,1,0.2,597
18a095c429860840b16cfbe760cb38a8b0947070,ComponentDto component = componentName.getValue();,1,1,0.2,598
18a095c429860840b16cfbe760cb38a8b0947070,String camelComponentName = component.getScheme();,1,1,0.2,599
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.2,600
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,601
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.events.ValueChangeEvent;,1,1,0.2,602
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,603
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,604
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.completer.RouteBuilderCompleter;,1,1,0.2,605
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,1,1,0.2,606
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper;,1,1,0.2,607
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.model.EndpointOptionByGroup;,1,1,0.2,608
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,1,1,0.2,609
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.facets.constraints.FacetConstraint;,1,1,0.2,610
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.facets.JavaSourceFacet;,1,1,0.2,611
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,612
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ClassLoaderFacet;,1,1,0.2,613
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.ValueChangeListener;,1,1,0.2,614
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ResourcesFacet;,1,1,0.2,615
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,616
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,617
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,618
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UINavigationContext;,1,1,0.2,619
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponent;,1,1,0.2,620
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponentFactory;,1,1,0.2,621
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UIInput;,1,1,0.2,622
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.2,623
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,624
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.2,625
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,626
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,0,1,0.2,627
18a095c429860840b16cfbe760cb38a8b0947070,"String type = propertyMap.get(""type"");",1,1,0.2,628
18a095c429860840b16cfbe760cb38a8b0947070,"String javaType = propertyMap.get(""javaType"");",1,1,0.2,629
18a095c429860840b16cfbe760cb38a8b0947070,"String required = propertyMap.get(""required"");",1,1,0.2,630
18a095c429860840b16cfbe760cb38a8b0947070,String currentValue = currentValues.get(name);,1,1,0.2,631
18a095c429860840b16cfbe760cb38a8b0947070,"String defaultValue = propertyMap.get(""defaultValue"");",1,1,0.2,632
18a095c429860840b16cfbe760cb38a8b0947070,"String description = propertyMap.get(""description"");",1,1,0.2,633
18a095c429860840b16cfbe760cb38a8b0947070,"String enums = propertyMap.get(""enum"");",1,1,0.2,634
18a095c429860840b16cfbe760cb38a8b0947070,"InputComponent input = createUIInput(componentFactory, getConverterFactory(), name, inputClazz, required, currentValue, defaultValue, enums, description);",1,1,0.2,635
18a095c429860840b16cfbe760cb38a8b0947070,"String kind = mandatoryAttributeValue(attributeMap, ""kind"");",1,1,0.2,636
18a095c429860840b16cfbe760cb38a8b0947070,for (InputComponent input : inputs) {,1,1,0.2,637
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,0,1,0.2,638
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,0,1,0.2,639
18a095c429860840b16cfbe760cb38a8b0947070,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),0,1,0.2,640
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,0,1,0.2,641
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Unknown Camel component"");",0,1,0.2,642
18a095c429860840b16cfbe760cb38a8b0947070,String artifactId = findComponentArchetype(name.getValue());,1,1,0.2,643
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Camel component "" + name.getValue() + "" is unknown."");",1,1,0.2,644
18a095c429860840b16cfbe760cb38a8b0947070,"DependencyBuilder component = DependencyBuilder.create().setGroupId(""org.apache.camel"")",1,1,0.2,645
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,1,1,0.2,646
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,0,1,0.2,647
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,0,1,0.2,648
18a095c429860840b16cfbe760cb38a8b0947070,"String kind = propertyMap.get(""kind"");",1,1,0.2,649
18a095c429860840b16cfbe760cb38a8b0947070,"String name = propertyMap.get(""name"");",1,1,0.2,650
18a095c429860840b16cfbe760cb38a8b0947070,"List<Map<String, String>> data = JSonSchemaHelper.parseJsonSchema(""properties"", json, true);",1,1,0.2,651
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.ArrayList;,1,1,0.2,652
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelProjectHelper;,1,1,0.2,653
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.templates.TemplateFactory;,1,1,0.2,654
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.JavaHelper;,1,1,0.2,655
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.ProjectFactory;,0,1,0.2,656
18a095c429860840b16cfbe760cb38a8b0947070,private final boolean last;,0,1,0.2,657
18a095c429860840b16cfbe760cb38a8b0947070,boolean last) {,0,1,0.2,658
18a095c429860840b16cfbe760cb38a8b0947070,for (InputComponent input : inputs) {,0,1,0.2,659
18a095c429860840b16cfbe760cb38a8b0947070,"String kind = mandatoryAttributeValue(attributeMap, ""kind"");",0,1,0.2,660
18a095c429860840b16cfbe760cb38a8b0947070,for (InputComponent input : allInputs) {,0,1,0.2,661
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Collections;,1,1,0.2,662
18a095c429860840b16cfbe760cb38a8b0947070,String json = catalog.componentJSonSchema(camelComponentName);,1,1,0.2,663
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.HashSet;,1,1,0.2,664
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Set;,1,1,0.2,665
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper;,1,1,0.2,666
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.JSonSchemaHelper;,1,1,0.2,667
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.DependencyResolver;,1,1,0.2,668
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.InputComponentFactory;,1,1,0.2,669
18a095c429860840b16cfbe760cb38a8b0947070,"String camelComponentName = optionalAttributeValue(attributeMap, ""componentName"");",1,1,0.2,670
18a095c429860840b16cfbe760cb38a8b0947070,"String uri = optionalAttributeValue(attributeMap, ""endpointUri"");",1,1,0.2,671
18a095c429860840b16cfbe760cb38a8b0947070,if (camelComponentName == null && uri != null) {,1,1,0.2,672
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,0,1,0.2,673
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,0,1,0.2,674
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.events.ValueChangeEvent;,1,1,0.2,675
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,0,1,0.2,676
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper;,1,1,0.2,677
18a095c429860840b16cfbe760cb38a8b0947070,String language = event.getNewValue() != null ? event.getNewValue().toString() : null;,1,1,0.2,678
18a095c429860840b16cfbe760cb38a8b0947070,String description = CamelCatalogHelper.getLanguageDescription(language);,1,1,0.2,679
18a095c429860840b16cfbe760cb38a8b0947070,String artifactId = findLanguageArchetype(name.getValue());,1,1,0.2,680
18a095c429860840b16cfbe760cb38a8b0947070,"DependencyBuilder component = DependencyBuilder.create().setGroupId(""org.apache.camel"")",1,1,0.2,681
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,1,1,0.2,682
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel language "" + name.getValue() + "" ("" + artifactId + "") to the project"");",1,1,0.2,683
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,684
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,685
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,1,1,0.2,686
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper;,1,1,0.2,687
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,1,1,0.2,688
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,689
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.builder.DependencyBuilder;,1,1,0.2,690
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,691
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,692
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,693
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,694
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,695
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.2,696
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.ValueChangeListener;,1,1,0.2,697
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Unknown Camel language"");",0,1,0.2,698
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel language "" + dto.getName() + "" ("" + dto.getArtifactId() + "") to the project"");",0,1,0.2,699
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,0,1,0.2,700
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel dataformat "" + name.getValue().getName() + "" ("" + dto.getArtifactId() + "") to the project"");",0,1,0.2,701
18a095c429860840b16cfbe760cb38a8b0947070,String camelComponentName = componentName.getValue().getScheme();,0,1,0.2,702
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.CamelCatalog;,1,1,0.2,703
18a095c429860840b16cfbe760cb38a8b0947070,import org.apache.camel.catalog.DefaultCamelCatalog;,1,1,0.2,704
18a095c429860840b16cfbe760cb38a8b0947070,String camelComponentName = componentName.getValue();,1,1,0.2,705
18a095c429860840b16cfbe760cb38a8b0947070,String json = catalog.componentJSonSchema(camelComponentName);,1,1,0.2,706
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.DataFormatDto;,0,1,0.2,707
18a095c429860840b16cfbe760cb38a8b0947070,String description = dataFormat.getDescription();,0,1,0.2,708
18a095c429860840b16cfbe760cb38a8b0947070,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),0,1,0.2,709
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,0,1,0.2,710
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Unknown Camel dataformat"");",0,1,0.2,711
18a095c429860840b16cfbe760cb38a8b0947070,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),0,1,0.2,712
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCatalogHelper;,1,1,0.2,713
18a095c429860840b16cfbe760cb38a8b0947070,String dataFormat = event.getNewValue() != null ? event.getNewValue().toString() : null;,1,1,0.2,714
18a095c429860840b16cfbe760cb38a8b0947070,String description = CamelCatalogHelper.getDataFormatDescription(dataFormat);,1,1,0.2,715
18a095c429860840b16cfbe760cb38a8b0947070,String artifactId = findDataFormatArchetype(name.getValue());,1,1,0.2,716
18a095c429860840b16cfbe760cb38a8b0947070,"DependencyBuilder component = DependencyBuilder.create().setGroupId(""org.apache.camel"")",1,1,0.2,717
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,1,1,0.2,718
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel dataformat "" + name.getValue() + "" ("" + artifactId + "") to the project"");",1,1,0.2,719
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.LanguageDto;,0,1,0.2,720
18a095c429860840b16cfbe760cb38a8b0947070,String description = language.getDescription();,0,1,0.2,721
18a095c429860840b16cfbe760cb38a8b0947070,// must be same component name and endpoint type to allow reusing existing navigation result,1,1,0.2,722
18a095c429860840b16cfbe760cb38a8b0947070,"String deprecated = propertyMap.get(""deprecated"");",1,1,0.2,723
18a095c429860840b16cfbe760cb38a8b0947070,"String previous2 = (String) attributeMap.get(""endpointType"");",1,1,0.2,724
18a095c429860840b16cfbe760cb38a8b0947070,ComponentDto component = (ComponentDto) event.getNewValue();,1,1,0.2,725
18a095c429860840b16cfbe760cb38a8b0947070,public String call() throws Exception {,1,1,0.2,726
18a095c429860840b16cfbe760cb38a8b0947070,protected String getDefaultProducerClassName() {,1,1,0.2,727
18a095c429860840b16cfbe760cb38a8b0947070,String name = instanceName.getValue();,1,1,0.2,728
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,729
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,730
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.concurrent.Callable;,1,1,0.2,731
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,732
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.completer.PackageNameCompleter;,1,1,0.2,733
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.validator.ClassNameValidator;,1,1,0.2,734
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.validator.PackageNameValidator;,1,1,0.2,735
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,1,1,0.2,736
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper;,1,1,0.2,737
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,1,1,0.2,738
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.DependencyResolver;,1,1,0.2,739
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.facets.constraints.FacetConstraint;,1,1,0.2,740
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.facets.JavaSourceFacet;,1,1,0.2,741
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,742
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,743
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ClassLoaderFacet;,1,1,0.2,744
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ResourcesFacet;,1,1,0.2,745
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,746
18a095c429860840b16cfbe760cb38a8b0947070,String description = component.getDescription();,1,1,0.2,747
18a095c429860840b16cfbe760cb38a8b0947070,// show note about the chosen component,1,1,0.2,748
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,749
18a095c429860840b16cfbe760cb38a8b0947070,boolean enabled = super.isEnabled(context);,1,1,0.2,750
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UINavigationContext;,1,1,0.2,751
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.facets.HintsFacet;,1,1,0.2,752
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.hints.InputType;,1,1,0.2,753
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UIInput;,1,1,0.2,754
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.2,755
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.ValueChangeListener;,1,1,0.2,756
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.events.ValueChangeEvent;,1,1,0.2,757
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,758
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.2,759
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.NavigationResult;,1,1,0.2,760
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,761
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,762
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,763
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,764
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.wizard.UIWizard;,1,1,0.2,765
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.util.Strings;,1,1,0.2,766
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Component Name"", required = true, description = ""Name of component type to add"")",1,1,0.2,767
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Instance Name"", required = true, description = ""Name of component instance to add"")",1,1,0.2,768
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Package Name"", required = false, description = ""The package name where this type will be created"")",1,1,0.2,769
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: New Component CDI"").category(Categories.create(CATEGORY))",1,1,0.2,770
18a095c429860840b16cfbe760cb38a8b0947070,public boolean isEnabled(UIContext context) {,1,1,0.2,771
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,772
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,773
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UINavigationContext;,1,1,0.2,774
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.facets.HintsFacet;,1,1,0.2,775
18a095c429860840b16cfbe760cb38a8b0947070,protected String getDefaultProducerClassName() {,1,1,0.2,776
18a095c429860840b16cfbe760cb38a8b0947070,String name = instanceName.getValue();,1,1,0.2,777
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,778
18a095c429860840b16cfbe760cb38a8b0947070,import java.io.File;,1,1,0.2,779
18a095c429860840b16cfbe760cb38a8b0947070,import java.net.URL;,1,1,0.2,780
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.HashMap;,1,1,0.2,781
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,782
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.validator.ResourceNameValidator;,1,1,0.2,783
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper;,1,1,0.2,784
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,785
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.builder.DependencyBuilder;,1,1,0.2,786
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.facets.constraints.FacetConstraint;,1,1,0.2,787
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,788
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,789
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ResourcesFacet;,1,1,0.2,790
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.FileResource;,1,1,0.2,791
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.Resource;,1,1,0.2,792
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.ResourceFactory;,1,1,0.2,793
18a095c429860840b16cfbe760cb38a8b0947070,String type = endpointType.getValue();,1,1,0.2,794
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.templates.Template;,1,1,0.2,795
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.URLResource;,1,1,0.2,796
18a095c429860840b16cfbe760cb38a8b0947070,public String call() throws Exception {,1,1,0.2,797
18a095c429860840b16cfbe760cb38a8b0947070,String description = component.getDescription();,1,1,0.2,798
18a095c429860840b16cfbe760cb38a8b0947070,ComponentDto component = (ComponentDto) event.getNewValue();,1,1,0.2,799
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,800
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.hints.InputType;,1,1,0.2,801
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UIInput;,1,1,0.2,802
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.2,803
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.ValueChangeListener;,1,1,0.2,804
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.events.ValueChangeEvent;,1,1,0.2,805
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,806
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.2,807
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.NavigationResult;,1,1,0.2,808
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,809
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,810
18a095c429860840b16cfbe760cb38a8b0947070,// show note about the chosen component,1,1,0.2,811
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,812
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.wizard.UIWizard;,1,1,0.2,813
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.roaster.model.util.Strings;,1,1,0.2,814
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Component Name"", required = true, description = ""Name of component type to add"")",1,1,0.2,815
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Instance Name"", required = true, description = ""Name of component instance to add"")",1,1,0.2,816
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Target Package"", required = false, description = ""The package name where this type will be created"")",1,1,0.2,817
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: New Component Spring"").category(Categories.create(CATEGORY))",1,1,0.2,818
18a095c429860840b16cfbe760cb38a8b0947070,public boolean isEnabled(UIContext context) {,1,1,0.2,819
18a095c429860840b16cfbe760cb38a8b0947070,boolean enabled = super.isEnabled(context);,1,1,0.2,820
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,821
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,822
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,823
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.Resource;,1,1,0.2,824
18a095c429860840b16cfbe760cb38a8b0947070,String description = language.getDescription();,1,1,0.2,825
18a095c429860840b16cfbe760cb38a8b0947070,// does the project already have camel?,1,1,0.2,826
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""The project does not include camel-core"");",1,1,0.2,827
18a095c429860840b16cfbe760cb38a8b0947070,DependencyBuilder component = DependencyBuilder.create().setGroupId(dto.getGroupId()),1,1,0.2,828
18a095c429860840b16cfbe760cb38a8b0947070,// install the component,1,1,0.2,829
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added Camel language "" + dto.getName() + "" ("" + dto.getArtifactId() + "") to the project"");",1,1,0.2,830
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Unknown Camel language"");",1,1,0.2,831
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,832
18a095c429860840b16cfbe760cb38a8b0947070,import java.io.File;,1,1,0.2,833
18a095c429860840b16cfbe760cb38a8b0947070,import java.net.URL;,1,1,0.2,834
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.HashMap;,1,1,0.2,835
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,836
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,837
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.validator.ResourceNameValidator;,1,1,0.2,838
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper;,1,1,0.2,839
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,840
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.builder.DependencyBuilder;,1,1,0.2,841
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.facets.constraints.FacetConstraint;,1,1,0.2,842
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,843
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,844
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ResourcesFacet;,1,1,0.2,845
18a095c429860840b16cfbe760cb38a8b0947070,// use value choices instead of completer as that works better in web console,1,1,0.2,846
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: Add Language"").category(Categories.create(CATEGORY))",1,1,0.2,847
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,848
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,849
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,850
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,851
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ResourcesFacet;,1,1,0.2,852
18a095c429860840b16cfbe760cb38a8b0947070,boolean last = i == pages - 1;,1,1,0.2,853
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.completer.CamelLanguagesCompleter;,1,1,0.2,854
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.LanguageDto;,1,1,0.2,855
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,1,1,0.2,856
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.Dependency;,1,1,0.2,857
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.builder.DependencyBuilder;,1,1,0.2,858
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,859
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,860
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,861
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,862
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UISelectOne;,1,1,0.2,863
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.ValueChangeListener;,1,1,0.2,864
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.events.ValueChangeEvent;,1,1,0.2,865
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,866
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.2,867
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,868
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,869
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.FileResource;,1,1,0.2,870
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,871
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.ResourceFactory;,1,1,0.2,872
18a095c429860840b16cfbe760cb38a8b0947070,"String fullName = ""src"" + File.separator + ""main"" + File.separator + ""resources"" + File.separator + fileName;",1,1,0.2,873
18a095c429860840b16cfbe760cb38a8b0947070,// does the project already have camel?,1,1,0.2,874
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""The project does not include camel-core"");",1,1,0.2,875
18a095c429860840b16cfbe760cb38a8b0947070,"DependencyBuilder spring = DependencyBuilder.create().setGroupId(""org.apache.camel"")",1,1,0.2,876
18a095c429860840b16cfbe760cb38a8b0947070,String output = template.process(params);,1,1,0.2,877
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Created new Blueprint XML file "" + fullName);",1,1,0.2,878
18a095c429860840b16cfbe760cb38a8b0947070,package io.fabric8.forge.camel.commands.project;,1,1,0.2,879
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.Map;,1,1,0.2,880
18a095c429860840b16cfbe760cb38a8b0947070,import java.util.concurrent.Callable;,1,1,0.2,881
18a095c429860840b16cfbe760cb38a8b0947070,import javax.inject.Inject;,1,1,0.2,882
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.completer.PackageNameCompleter;,1,1,0.2,883
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.validator.ClassNameValidator;,1,1,0.2,884
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.addon.utils.validator.PackageNameValidator;,1,1,0.2,885
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.dto.ComponentDto;,1,1,0.2,886
18a095c429860840b16cfbe760cb38a8b0947070,import io.fabric8.forge.camel.commands.project.helper.CamelCommandsHelper;,1,1,0.2,887
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.convert.Converter;,1,1,0.2,888
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.dependencies.DependencyResolver;,1,1,0.2,889
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.facets.constraints.FacetConstraint;,1,1,0.2,890
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.resource.URLResource;,1,1,0.2,891
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.Project;,1,1,0.2,892
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.dependencies.DependencyInstaller;,1,1,0.2,893
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.projects.facets.ClassLoaderFacet;,1,1,0.2,894
18a095c429860840b16cfbe760cb38a8b0947070,// this will get a file in the src/main/resources directory where we want to store the spring xml file,1,1,0.2,895
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.parser.java.facets.JavaSourceFacet;,1,1,0.2,896
18a095c429860840b16cfbe760cb38a8b0947070,String fileName = directory.getValue() != null ? directory.getValue() + File.separator + name.getValue() : name.getValue();,1,1,0.2,897
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Result;,1,1,0.2,898
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.templates.TemplateFactory;,1,1,0.2,899
18a095c429860840b16cfbe760cb38a8b0947070,String projectName = project.getRoot().getName();,1,1,0.2,900
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.templates.Template;,1,1,0.2,901
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIContext;,1,1,0.2,902
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIBuilder;,1,1,0.2,903
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.facets.HintsFacet;,1,1,0.2,904
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.hints.InputType;,1,1,0.2,905
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.input.UIInput;,1,1,0.2,906
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.UICommandMetadata;,1,1,0.2,907
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.metadata.WithAttributes;,1,1,0.2,908
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.context.UIExecutionContext;,1,1,0.2,909
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.result.Results;,1,1,0.2,910
18a095c429860840b16cfbe760cb38a8b0947070,boolean enabled = super.isEnabled(context);,1,1,0.2,911
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Categories;,1,1,0.2,912
18a095c429860840b16cfbe760cb38a8b0947070,return !cdi && !spring;,1,1,0.2,913
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.templates.freemarker.FreemarkerTemplate;,1,1,0.2,914
18a095c429860840b16cfbe760cb38a8b0947070,".description(""Creates a new Blueprint XML file with CamelContext"");",1,1,0.2,915
18a095c429860840b16cfbe760cb38a8b0947070,public boolean isEnabled(UIContext context) {,1,1,0.2,916
18a095c429860840b16cfbe760cb38a8b0947070,import org.jboss.forge.addon.ui.util.Metadata;,1,1,0.2,917
18a095c429860840b16cfbe760cb38a8b0947070,* @throws IllegalArgumentException if the value is not available in the given attribute map,1,0,0.0,918
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,919
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,920
18a095c429860840b16cfbe760cb38a8b0947070,"throw new IllegalArgumentException(""The attribute value '"" + name + ""' did not get passed on from the previous wizard page"");",1,0,0.0,921
18a095c429860840b16cfbe760cb38a8b0947070,return text;,1,0,0.0,922
18a095c429860840b16cfbe760cb38a8b0947070,"if (""dataFormats"".equals(name) || ""redeliveryPolicyProfile"".equals(name)",1,0,0.0,923
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isBlank(text)) {,1,0,0.0,924
18a095c429860840b16cfbe760cb38a8b0947070,Object value = attributeMap.get(name);,1,0,0.0,925
18a095c429860840b16cfbe760cb38a8b0947070,return last;,1,0,0.0,926
18a095c429860840b16cfbe760cb38a8b0947070,last = found;,1,0,0.0,927
18a095c429860840b16cfbe760cb38a8b0947070,if (found.getNodeType() == Node.ELEMENT_NODE) {,1,0,0.0,928
18a095c429860840b16cfbe760cb38a8b0947070,"|| ""intercept"".equals(name) || ""interceptFrom"".equals(name)",1,0,0.0,929
18a095c429860840b16cfbe760cb38a8b0947070,"|| ""onException"".equals(name) || ""onCompletion"".equals(name)",1,0,0.0,930
18a095c429860840b16cfbe760cb38a8b0947070,return found;,1,0,0.0,931
18a095c429860840b16cfbe760cb38a8b0947070,"|| ""rest"".equals(name) || ""route"".equals(name)) {",1,0,0.0,932
18a095c429860840b16cfbe760cb38a8b0947070,"|| ""interceptSendToEndpoint"".equals(name) || ""restConfiguration"".equals(name)",1,0,0.0,933
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,934
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,935
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,936
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,937
18a095c429860840b16cfbe760cb38a8b0947070,} catch (Exception e) {,1,0,0.0,938
18a095c429860840b16cfbe760cb38a8b0947070,cachedArchetypes = new ArchetypeCatalogXpp3Reader().read(new StringReader(xml));,1,0,0.0,939
18a095c429860840b16cfbe760cb38a8b0947070,try {,1,0,0.0,940
18a095c429860840b16cfbe760cb38a8b0947070,if (xml != null) {,1,0,0.0,941
18a095c429860840b16cfbe760cb38a8b0947070,if (cachedArchetypes == null) {,1,0,0.0,942
18a095c429860840b16cfbe760cb38a8b0947070,public ArchetypeCatalog getArchetypeCatalog() {,1,0,0.0,943
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,944
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,945
18a095c429860840b16cfbe760cb38a8b0947070,return NAME;,1,0,0.0,946
18a095c429860840b16cfbe760cb38a8b0947070,private ArchetypeCatalog cachedArchetypes;,1,0,0.0,947
18a095c429860840b16cfbe760cb38a8b0947070,private final Logger logger = Logger.getLogger(getClass().getName());,1,0,0.0,948
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,949
18a095c429860840b16cfbe760cb38a8b0947070,return endpoint;,1,0,0.0,950
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,951
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,952
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,953
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,954
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,955
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,956
18a095c429860840b16cfbe760cb38a8b0947070,Node last = null;,1,0,0.0,957
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Cannot update endpoint"");",1,0,0.0,958
18a095c429860840b16cfbe760cb38a8b0947070,if (endpoint != null) {,1,0,0.0,959
18a095c429860840b16cfbe760cb38a8b0947070,"field.addAnnotation(""javax.inject.Inject"");",1,0,0.0,960
18a095c429860840b16cfbe760cb38a8b0947070,"annotation.setStringValue(""uri"", uri);",1,0,0.0,961
18a095c429860840b16cfbe760cb38a8b0947070,"annotation = field.getAnnotation(""org.apache.camel.EndpointInject"");",1,0,0.0,962
18a095c429860840b16cfbe760cb38a8b0947070,"field.addAnnotation(""org.apache.camel.EndpointInject"");",1,0,0.0,963
18a095c429860840b16cfbe760cb38a8b0947070,"if (!field.hasAnnotation(""org.apache.camel.EndpointInject"")) {",1,0,0.0,964
18a095c429860840b16cfbe760cb38a8b0947070,annotation.setStringValue(uri);,1,0,0.0,965
18a095c429860840b16cfbe760cb38a8b0947070,"annotation = field.getAnnotation(""org.apache.camel.cdi.Uri"");",1,0,0.0,966
18a095c429860840b16cfbe760cb38a8b0947070,"field.addAnnotation(""org.apache.camel.cdi.Uri"");",1,0,0.0,967
18a095c429860840b16cfbe760cb38a8b0947070,"if (!field.hasAnnotation(""org.apache.camel.cdi.Uri"")) {",1,0,0.0,968
18a095c429860840b16cfbe760cb38a8b0947070,"if (!field.hasAnnotation(""javax.inject.Inject"")) {",1,0,0.0,969
18a095c429860840b16cfbe760cb38a8b0947070,endpoint = found;,1,0,0.0,970
18a095c429860840b16cfbe760cb38a8b0947070,if (cdi) {,1,0,0.0,971
18a095c429860840b16cfbe760cb38a8b0947070,updated = false;,1,0,0.0,972
18a095c429860840b16cfbe760cb38a8b0947070,field.setPrivate();,1,0,0.0,973
18a095c429860840b16cfbe760cb38a8b0947070,"field.setType(""org.apache.camel.Endpoint"");",1,0,0.0,974
18a095c429860840b16cfbe760cb38a8b0947070,return cachedArchetypes;,1,0,0.0,975
18a095c429860840b16cfbe760cb38a8b0947070,field.setName(endpointInstanceName);,1,0,0.0,976
18a095c429860840b16cfbe760cb38a8b0947070,if (field == null) {,1,0,0.0,977
18a095c429860840b16cfbe760cb38a8b0947070,field = clazz.addField();,1,0,0.0,978
18a095c429860840b16cfbe760cb38a8b0947070,"clazz.addImport(""org.apache.camel.Endpoint"");",1,0,0.0,979
18a095c429860840b16cfbe760cb38a8b0947070,"clazz.addImport(""javax.inject.Inject"");",1,0,0.0,980
18a095c429860840b16cfbe760cb38a8b0947070,"clazz.addImport(""org.apache.camel.cdi.Uri"");",1,0,0.0,981
18a095c429860840b16cfbe760cb38a8b0947070,"clazz.addImport(""org.apache.camel.EndpointInject"");",1,0,0.0,982
18a095c429860840b16cfbe760cb38a8b0947070,"if (""endpoint"".equals(name)) {",1,0,0.0,983
18a095c429860840b16cfbe760cb38a8b0947070,Node found = camel.getChildNodes().item(i);,1,0,0.0,984
18a095c429860840b16cfbe760cb38a8b0947070,Node endpoint = null;,1,0,0.0,985
18a095c429860840b16cfbe760cb38a8b0947070,// if there is endpoints then the cut-off is after the last,1,0,0.0,986
18a095c429860840b16cfbe760cb38a8b0947070,private Node insertEndpointBefore(Node camel) {,1,0,0.0,987
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Updated endpoint "" + endpointUrl + "" -> "" + uri + "" in "" + routeBuilder);",1,0,0.0,988
18a095c429860840b16cfbe760cb38a8b0947070,"existing.setContents(new ByteArrayInputStream(code.getBytes()), null);",1,0,0.0,989
18a095c429860840b16cfbe760cb38a8b0947070,// use this code currently to save content unformatted,1,0,0.0,990
18a095c429860840b16cfbe760cb38a8b0947070,"code = code.replaceFirst(find, uri);",1,0,0.0,991
18a095c429860840b16cfbe760cb38a8b0947070,"// wonder if we should have better way, than a replaceFirst?",1,0,0.0,992
18a095c429860840b16cfbe760cb38a8b0947070,// we do not want to change the current code formatting so we need to search,1,0,0.0,993
18a095c429860840b16cfbe760cb38a8b0947070,if (method != null) {,1,0,0.0,994
18a095c429860840b16cfbe760cb38a8b0947070,MethodSource<JavaClassSource> method = CamelJavaParserHelper.findConfigureMethod(clazz);,1,0,0.0,995
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added endpoint "" + endpointInstanceName + "" in "" + routeBuilder);",1,0,0.0,996
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Updated endpoint "" + endpointInstanceName + "" in "" + routeBuilder);",1,0,0.0,997
18a095c429860840b16cfbe760cb38a8b0947070,if (updated) {,1,0,0.0,998
18a095c429860840b16cfbe760cb38a8b0947070,facet.saveJavaSource(clazz);,1,0,0.0,999
18a095c429860840b16cfbe760cb38a8b0947070,"logger.log(Level.SEVERE, ""Error while retrieving archetypes"", e);",1,0,0.0,1000
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1001
18a095c429860840b16cfbe760cb38a8b0947070,if (this == o) return true;,1,0,0.0,1002
18a095c429860840b16cfbe760cb38a8b0947070,"public CamelDataFormatsCompleter(Project project, CamelCatalog camelCatalog) {",1,0,0.0,1003
18a095c429860840b16cfbe760cb38a8b0947070,List<DataFormatDto> answer = new ArrayList<>();,1,0,0.0,1004
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,1005
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,1006
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1007
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1008
18a095c429860840b16cfbe760cb38a8b0947070,core = CamelProjectHelper.findCamelCoreDependency(project);,1,0,0.0,1009
18a095c429860840b16cfbe760cb38a8b0947070,this.camelCatalog = camelCatalog;,1,0,0.0,1010
18a095c429860840b16cfbe760cb38a8b0947070,this.project = project;,1,0,0.0,1011
18a095c429860840b16cfbe760cb38a8b0947070,private final Dependency core;,1,0,0.0,1012
18a095c429860840b16cfbe760cb38a8b0947070,// filter non matching names first,1,0,0.0,1013
18a095c429860840b16cfbe760cb38a8b0947070,private final CamelCatalog camelCatalog;,1,0,0.0,1014
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1015
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1016
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1017
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1018
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1019
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1020
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1021
18a095c429860840b16cfbe760cb38a8b0947070,List<String> names = camelCatalog.findDataFormatNames();,1,0,0.0,1022
18a095c429860840b16cfbe760cb38a8b0947070,List<String> filtered = new ArrayList<String>();,1,0,0.0,1023
18a095c429860840b16cfbe760cb38a8b0947070,if (o == null || getClass() != o.getClass()) return false;,1,0,0.0,1024
18a095c429860840b16cfbe760cb38a8b0947070,answer.add(dto);,1,0,0.0,1025
18a095c429860840b16cfbe760cb38a8b0947070,"DataFormatDto dto = createDataFormatDto(camelCatalog, name);",1,0,0.0,1026
18a095c429860840b16cfbe760cb38a8b0947070,names.removeAll(languages);,1,0,0.0,1027
18a095c429860840b16cfbe760cb38a8b0947070,FieldSource field = clazz.getField(endpointInstanceName);,1,0,0.0,1028
18a095c429860840b16cfbe760cb38a8b0947070,for (Dependency dep : artifacts) {,1,0,0.0,1029
18a095c429860840b16cfbe760cb38a8b0947070,Set<Dependency> artifacts = findCamelArtifacts(project);,1,0,0.0,1030
18a095c429860840b16cfbe760cb38a8b0947070,// filter out existing dataformats we already have,1,0,0.0,1031
18a095c429860840b16cfbe760cb38a8b0947070,public Iterable<DataFormatDto> getValueChoices() {,1,0,0.0,1032
18a095c429860840b16cfbe760cb38a8b0947070,return answer;,1,0,0.0,1033
18a095c429860840b16cfbe760cb38a8b0947070,"DataFormatDto dto = createDataFormatDto(camelCatalog, json);",1,0,0.0,1034
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : names) {,1,0,0.0,1035
18a095c429860840b16cfbe760cb38a8b0947070,if (!already) {,1,0,0.0,1036
18a095c429860840b16cfbe760cb38a8b0947070,"already = CamelProjectHelper.hasDependency(project, ""org.apache.camel"", artifactId);",1,0,0.0,1037
18a095c429860840b16cfbe760cb38a8b0947070,if (artifactId != null) {,1,0,0.0,1038
18a095c429860840b16cfbe760cb38a8b0947070,// skip if we already have the dependency,1,0,0.0,1039
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : filtered) {,1,0,0.0,1040
18a095c429860840b16cfbe760cb38a8b0947070,// filter names which are already on the classpath,1,0,0.0,1041
18a095c429860840b16cfbe760cb38a8b0947070,filtered.add(name);,1,0,0.0,1042
18a095c429860840b16cfbe760cb38a8b0947070,if (value == null || name.startsWith(value)) {,1,0,0.0,1043
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1044
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1045
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1046
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1047
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1048
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1049
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1050
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1051
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1052
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1053
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1054
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1055
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1056
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1057
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1058
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1059
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1060
18a095c429860840b16cfbe760cb38a8b0947070,return NAME.hashCode();,1,0,0.0,1061
18a095c429860840b16cfbe760cb38a8b0947070,public int hashCode() {,1,0,0.0,1062
18a095c429860840b16cfbe760cb38a8b0947070,return true;,1,0,0.0,1063
18a095c429860840b16cfbe760cb38a8b0947070,if (!NAME.equals(that.NAME)) return false;,1,0,0.0,1064
18a095c429860840b16cfbe760cb38a8b0947070,CamelArchetypeCatalogFactory that = (CamelArchetypeCatalogFactory) o;,1,0,0.0,1065
18a095c429860840b16cfbe760cb38a8b0947070,private final CamelCatalog camelCatalog;,1,0,0.0,1066
18a095c429860840b16cfbe760cb38a8b0947070,private final Dependency core;,1,0,0.0,1067
18a095c429860840b16cfbe760cb38a8b0947070,"public CamelComponentsLabelCompleter(Project project, CamelCatalog camelCatalog) {",1,0,0.0,1068
18a095c429860840b16cfbe760cb38a8b0947070,this.project = project;,1,0,0.0,1069
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1070
18a095c429860840b16cfbe760cb38a8b0947070,return names;,1,0,0.0,1071
18a095c429860840b16cfbe760cb38a8b0947070,"names.add(""<all>"");",1,0,0.0,1072
18a095c429860840b16cfbe760cb38a8b0947070,Set<String> names = camelCatalog.findComponentLabels();,1,0,0.0,1073
18a095c429860840b16cfbe760cb38a8b0947070,public Iterable<String> getValueChoices() {,1,0,0.0,1074
18a095c429860840b16cfbe760cb38a8b0947070,return filtered;,1,0,0.0,1075
18a095c429860840b16cfbe760cb38a8b0947070,filtered.add(name);,1,0,0.0,1076
18a095c429860840b16cfbe760cb38a8b0947070,if (value == null || name.startsWith(value)) {,1,0,0.0,1077
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : names) {,1,0,0.0,1078
18a095c429860840b16cfbe760cb38a8b0947070,List<String> filtered = new ArrayList<String>();,1,0,0.0,1079
18a095c429860840b16cfbe760cb38a8b0947070,Iterable<String> names = getValueChoices();,1,0,0.0,1080
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,1081
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,1082
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1083
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1084
18a095c429860840b16cfbe760cb38a8b0947070,this.core = CamelProjectHelper.findCamelCoreDependency(project);,1,0,0.0,1085
18a095c429860840b16cfbe760cb38a8b0947070,this.camelCatalog = camelCatalog;,1,0,0.0,1086
18a095c429860840b16cfbe760cb38a8b0947070,AnnotationSource annotation;,1,0,0.0,1087
18a095c429860840b16cfbe760cb38a8b0947070,"if (""xml"".equals(kind)) {",1,0,0.0,1088
18a095c429860840b16cfbe760cb38a8b0947070,// add the endpoint as a field,1,0,0.0,1089
18a095c429860840b16cfbe760cb38a8b0947070,this.componentName = componentName;,1,0,0.0,1090
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1091
18a095c429860840b16cfbe760cb38a8b0947070,this.total = total;,1,0,0.0,1092
18a095c429860840b16cfbe760cb38a8b0947070,this.index = index + 1;,1,0,0.0,1093
18a095c429860840b16cfbe760cb38a8b0947070,// we want to 1-based,1,0,0.0,1094
18a095c429860840b16cfbe760cb38a8b0947070,this.last = last;,1,0,0.0,1095
18a095c429860840b16cfbe760cb38a8b0947070,this.inputs = inputs;,1,0,0.0,1096
18a095c429860840b16cfbe760cb38a8b0947070,this.allInputs = allInputs;,1,0,0.0,1097
18a095c429860840b16cfbe760cb38a8b0947070,this.group = group;,1,0,0.0,1098
18a095c429860840b16cfbe760cb38a8b0947070,this.camelCatalog = camelCatalog;,1,0,0.0,1099
18a095c429860840b16cfbe760cb38a8b0947070,private final List<InputComponent> inputs;,1,0,0.0,1100
18a095c429860840b16cfbe760cb38a8b0947070,this.dependencyInstaller = dependencyInstaller;,1,0,0.0,1101
18a095c429860840b16cfbe760cb38a8b0947070,this.projectFactory = projectFactory;,1,0,0.0,1102
18a095c429860840b16cfbe760cb38a8b0947070,"List<InputComponent> inputs,",1,0,0.0,1103
18a095c429860840b16cfbe760cb38a8b0947070,"List<InputComponent> allInputs,",1,0,0.0,1104
18a095c429860840b16cfbe760cb38a8b0947070,"CamelCatalog camelCatalog,",1,0,0.0,1105
18a095c429860840b16cfbe760cb38a8b0947070,"DependencyInstaller dependencyInstaller,",1,0,0.0,1106
18a095c429860840b16cfbe760cb38a8b0947070,"public ConfigureEndpointPropertiesStep(ProjectFactory projectFactory,",1,0,0.0,1107
18a095c429860840b16cfbe760cb38a8b0947070,private final int total;,1,0,0.0,1108
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1109
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,1110
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(ConfigureEndpointPropertiesStep.class).name(,1,0,0.0,1111
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: Endpoint options"").category(Categories.create(CATEGORY))",1,0,0.0,1112
18a095c429860840b16cfbe760cb38a8b0947070,"if (""edit"".equals(mode)) {",1,0,0.0,1113
18a095c429860840b16cfbe760cb38a8b0947070,// edit mode includes the existing uri and line number,1,0,0.0,1114
18a095c429860840b16cfbe760cb38a8b0947070,"protected Result executeXml(UIExecutionContext context, Map<Object, Object> attributeMap) throws Exception {",1,0,0.0,1115
18a095c429860840b16cfbe760cb38a8b0947070,"return executeJava(context, attributeMap);",1,0,0.0,1116
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,1117
18a095c429860840b16cfbe760cb38a8b0947070,"return executeXml(context, attributeMap);",1,0,0.0,1118
18a095c429860840b16cfbe760cb38a8b0947070,if (last) {,1,0,0.0,1119
18a095c429860840b16cfbe760cb38a8b0947070,// only execute if we are last,1,0,0.0,1120
18a095c429860840b16cfbe760cb38a8b0947070,"Map<Object, Object> attributeMap = context.getUIContext().getAttributeMap();",1,0,0.0,1121
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,1122
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,1123
18a095c429860840b16cfbe760cb38a8b0947070,public NavigationResult next(UINavigationContext context) throws Exception {,1,0,0.0,1124
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(input);,1,0,0.0,1125
18a095c429860840b16cfbe760cb38a8b0947070,if (inputs != null) {,1,0,0.0,1126
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,1127
18a095c429860840b16cfbe760cb38a8b0947070,"@SuppressWarnings(""unchecked"")",1,0,0.0,1128
18a095c429860840b16cfbe760cb38a8b0947070,".description(String.format(""Configure %s options (%s of %s)"", group, index, total));",1,0,0.0,1129
18a095c429860840b16cfbe760cb38a8b0947070,private final int index;,1,0,0.0,1130
18a095c429860840b16cfbe760cb38a8b0947070,private final List<InputComponent> allInputs;,1,0,0.0,1131
18a095c429860840b16cfbe760cb38a8b0947070,"endpointUrl = mandatoryAttributeValue(attributeMap, ""endpointUri"");",1,0,0.0,1132
18a095c429860840b16cfbe760cb38a8b0947070,"buffer.append(""component.set"");",1,0,0.0,1133
18a095c429860840b16cfbe760cb38a8b0947070,"CamelCommandsHelper.createSpringComponentFactoryClass(javaClass, details, camelComponentName, componentInstanceName, configurationCode);",1,0,0.0,1134
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,1135
18a095c429860840b16cfbe760cb38a8b0947070,"CamelCommandsHelper.createCdiComponentProducerClass(javaClass, details, camelComponentName, componentInstanceName, configurationCode);",1,0,0.0,1136
18a095c429860840b16cfbe760cb38a8b0947070,"if (kind.equals(""cdi"")) {",1,0,0.0,1137
18a095c429860840b16cfbe760cb38a8b0947070,"buffer.append("");"");",1,0,0.0,1138
18a095c429860840b16cfbe760cb38a8b0947070,buffer.append(valueExpression);,1,0,0.0,1139
18a095c429860840b16cfbe760cb38a8b0947070,"buffer.append(""("");",1,0,0.0,1140
18a095c429860840b16cfbe760cb38a8b0947070,buffer.append(Strings.capitalize(input.getName()));,1,0,0.0,1141
18a095c429860840b16cfbe760cb38a8b0947070,"buffer.append(""\n"");",1,0,0.0,1142
18a095c429860840b16cfbe760cb38a8b0947070,private final CamelCatalog camelCatalog;,1,0,0.0,1143
18a095c429860840b16cfbe760cb38a8b0947070,if (valueExpression != null) {,1,0,0.0,1144
18a095c429860840b16cfbe760cb38a8b0947070,valueExpression = value.toString();,1,0,0.0,1145
18a095c429860840b16cfbe760cb38a8b0947070,if (value instanceof Number) {,1,0,0.0,1146
18a095c429860840b16cfbe760cb38a8b0947070,"valueExpression = ""\"""" + text + ""\"""";",1,0,0.0,1147
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isBlank(text)) {,1,0,0.0,1148
18a095c429860840b16cfbe760cb38a8b0947070,if (value instanceof String) {,1,0,0.0,1149
18a095c429860840b16cfbe760cb38a8b0947070,"if (row.get(""artifactId"") != null) {",1,0,0.0,1150
18a095c429860840b16cfbe760cb38a8b0947070,if (value != null) {,1,0,0.0,1151
18a095c429860840b16cfbe760cb38a8b0947070,facet.saveJavaSource(javaClass);,1,0,0.0,1152
18a095c429860840b16cfbe760cb38a8b0947070,} catch (IllegalArgumentException e) {,1,0,0.0,1153
18a095c429860840b16cfbe760cb38a8b0947070,return Results.fail(e.getMessage());,1,0,0.0,1154
18a095c429860840b16cfbe760cb38a8b0947070,* @throws IllegalArgumentException if the value is not available in the given attribute map,1,0,0.0,1155
18a095c429860840b16cfbe760cb38a8b0947070,private final DependencyInstaller dependencyInstaller;,1,0,0.0,1156
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1157
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1158
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1159
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1160
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1161
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1162
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1163
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1164
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1165
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1166
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1167
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1168
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1169
18a095c429860840b16cfbe760cb38a8b0947070,"throw new IllegalArgumentException(""The attribute value '"" + name + ""' did not get passed on from the previous wizard page"");",1,0,0.0,1170
18a095c429860840b16cfbe760cb38a8b0947070,return text;,1,0,0.0,1171
18a095c429860840b16cfbe760cb38a8b0947070,Object value = attributeMap.get(name);,1,0,0.0,1172
18a095c429860840b16cfbe760cb38a8b0947070,"lineNumber = mandatoryAttributeValue(attributeMap, ""lineNumber"");",1,0,0.0,1173
18a095c429860840b16cfbe760cb38a8b0947070,// since this is XML we need to escape & as &amp;,1,0,0.0,1174
18a095c429860840b16cfbe760cb38a8b0947070,if (endpointInstanceName != null) {,1,0,0.0,1175
18a095c429860840b16cfbe760cb38a8b0947070,camelContext = child;,1,0,0.0,1176
18a095c429860840b16cfbe760cb38a8b0947070,if (found == null) {,1,0,0.0,1177
18a095c429860840b16cfbe760cb38a8b0947070,int extraLines = 0;,1,0,0.0,1178
18a095c429860840b16cfbe760cb38a8b0947070,int extraSpaces = 0;,1,0,0.0,1179
18a095c429860840b16cfbe760cb38a8b0947070,break;,1,0,0.0,1180
18a095c429860840b16cfbe760cb38a8b0947070,found = child;,1,0,0.0,1181
18a095c429860840b16cfbe760cb38a8b0947070,if (endpointInstanceName.equals(id)) {,1,0,0.0,1182
18a095c429860840b16cfbe760cb38a8b0947070,// okay its an endpoint so if we can match by id attribute,1,0,0.0,1183
18a095c429860840b16cfbe760cb38a8b0947070,"if (""endpoint"".equals(child.getNodeName())) {",1,0,0.0,1184
18a095c429860840b16cfbe760cb38a8b0947070,"if (""camelContext"".equals(child.getNodeName())) {",1,0,0.0,1185
18a095c429860840b16cfbe760cb38a8b0947070,// The DOM api is so fucking terrible!,1,0,0.0,1186
18a095c429860840b16cfbe760cb38a8b0947070,Node child = camel.getChildNodes().item(i);,1,0,0.0,1187
18a095c429860840b16cfbe760cb38a8b0947070,camelContext = camel;,1,0,0.0,1188
18a095c429860840b16cfbe760cb38a8b0947070,"if (""camelContext"".equals(camel.getNodeName())) {",1,0,0.0,1189
18a095c429860840b16cfbe760cb38a8b0947070,for (int i = 0; i < camel.getChildNodes().getLength(); i++) {,1,0,0.0,1190
18a095c429860840b16cfbe760cb38a8b0947070,Node found = null;,1,0,0.0,1191
18a095c429860840b16cfbe760cb38a8b0947070,Node camelContext = null;,1,0,0.0,1192
18a095c429860840b16cfbe760cb38a8b0947070,// TODO: what about 2+ camel's ?,1,0,0.0,1193
18a095c429860840b16cfbe760cb38a8b0947070,"NodeList camels = root.getElementsByTagName(""camelContext"");",1,0,0.0,1194
18a095c429860840b16cfbe760cb38a8b0947070,created = true;,1,0,0.0,1195
18a095c429860840b16cfbe760cb38a8b0947070,found = insertEndpointBefore(camel);,1,0,0.0,1196
18a095c429860840b16cfbe760cb38a8b0947070,// empty so use <camelContext> node,1,0,0.0,1197
18a095c429860840b16cfbe760cb38a8b0947070,found = camelContext;,1,0,0.0,1198
18a095c429860840b16cfbe760cb38a8b0947070,JavaClassSource clazz = existing.getJavaType();,1,0,0.0,1199
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""RouteBuilder "" + routeBuilder + "" does not exist"");",1,0,0.0,1200
18a095c429860840b16cfbe760cb38a8b0947070,if (existing == null || !existing.exists()) {,1,0,0.0,1201
18a095c429860840b16cfbe760cb38a8b0947070,JavaResource existing = facet.getJavaResource(routeBuilder);,1,0,0.0,1202
18a095c429860840b16cfbe760cb38a8b0947070,JavaSourceFacet facet = project.getFacet(JavaSourceFacet.class);,1,0,0.0,1203
18a095c429860840b16cfbe760cb38a8b0947070,"protected Result executeJava(UIExecutionContext context, Map<Object, Object> attributeMap) throws Exception {",1,0,0.0,1204
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Added endpoint uri: "" + uri + "" in XML file "" + xml);",1,0,0.0,1205
18a095c429860840b16cfbe760cb38a8b0947070,"lines.add(idx, line);",1,0,0.0,1206
18a095c429860840b16cfbe760cb38a8b0947070,if (created) {,1,0,0.0,1207
18a095c429860840b16cfbe760cb38a8b0947070,"line = LineNumberHelper.padString(line, spaces);",1,0,0.0,1208
18a095c429860840b16cfbe760cb38a8b0947070,"int spaces = LineNumberHelper.leadingSpaces(lines, idx) + extraSpaces;",1,0,0.0,1209
18a095c429860840b16cfbe760cb38a8b0947070,idx += extraLines;,1,0,0.0,1210
18a095c429860840b16cfbe760cb38a8b0947070,int idx = lineNumber != null ? Integer.valueOf(lineNumber) - 1 : 0;,1,0,0.0,1211
18a095c429860840b16cfbe760cb38a8b0947070,"// if we created a new endpoint, then insert a new line with the endpoint details",1,0,0.0,1212
18a095c429860840b16cfbe760cb38a8b0947070,lineNumber = (String) found.getUserData(XmlLineNumberParser.LINE_NUMBER);,1,0,0.0,1213
18a095c429860840b16cfbe760cb38a8b0947070,extraLines = 1;,1,0,0.0,1214
18a095c429860840b16cfbe760cb38a8b0947070,extraSpaces = 2;,1,0,0.0,1215
18a095c429860840b16cfbe760cb38a8b0947070,if (root != null) {,1,0,0.0,1216
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.success(""Update endpoint uri: "" + uri + "" in file "" + xml);",1,0,0.0,1217
18a095c429860840b16cfbe760cb38a8b0947070,// to be safe that & is not already &amp; we need to revert it first,1,0,0.0,1218
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,1219
18a095c429860840b16cfbe760cb38a8b0947070,if (input.hasValue()) {,1,0,0.0,1220
18a095c429860840b16cfbe760cb38a8b0947070,"Map<String, String> options = new HashMap<String, String>();",1,0,0.0,1221
18a095c429860840b16cfbe760cb38a8b0947070,"result = ensureCamelArtifactIdAdded(project, details, dependencyInstaller);",1,0,0.0,1222
18a095c429860840b16cfbe760cb38a8b0947070,// and make sure its dependency is added,1,0,0.0,1223
18a095c429860840b16cfbe760cb38a8b0947070,return result;,1,0,0.0,1224
18a095c429860840b16cfbe760cb38a8b0947070,if (result != null) {,1,0,0.0,1225
18a095c429860840b16cfbe760cb38a8b0947070,"Result result = loadCamelComponentDetails(camelCatalog, camelComponentName, details);",1,0,0.0,1226
18a095c429860840b16cfbe760cb38a8b0947070,CamelComponentDetails details = new CamelComponentDetails();,1,0,0.0,1227
18a095c429860840b16cfbe760cb38a8b0947070,Dependency core = CamelProjectHelper.findCamelCoreDependency(project);,1,0,0.0,1228
18a095c429860840b16cfbe760cb38a8b0947070,file.setContents(content);,1,0,0.0,1229
18a095c429860840b16cfbe760cb38a8b0947070,webResourcesFacet = project.getFacet(WebResourcesFacet.class);,1,0,0.0,1230
18a095c429860840b16cfbe760cb38a8b0947070,if (project.hasFacet(WebResourcesFacet.class)) {,1,0,0.0,1231
18a095c429860840b16cfbe760cb38a8b0947070,WebResourcesFacet webResourcesFacet = null;,1,0,0.0,1232
18a095c429860840b16cfbe760cb38a8b0947070,ResourcesFacet facet = project.getFacet(ResourcesFacet.class);,1,0,0.0,1233
18a095c429860840b16cfbe760cb38a8b0947070,"endpointUrl = StringHelper.replaceAll(endpointUrl, "">"", ""&gt;"");",1,0,0.0,1234
18a095c429860840b16cfbe760cb38a8b0947070,"endpointUrl = StringHelper.replaceAll(endpointUrl, ""<"", ""&lt;"");",1,0,0.0,1235
18a095c429860840b16cfbe760cb38a8b0947070,"endpointUrl = StringHelper.replaceAll(endpointUrl, ""&"", ""&amp;"");",1,0,0.0,1236
18a095c429860840b16cfbe760cb38a8b0947070,"endpointUrl = StringHelper.replaceAll(endpointUrl, ""&amp;"", ""&"");",1,0,0.0,1237
18a095c429860840b16cfbe760cb38a8b0947070,if (value != null) {,1,0,0.0,1238
18a095c429860840b16cfbe760cb38a8b0947070,// do not add the value if it match the default value,1,0,0.0,1239
18a095c429860840b16cfbe760cb38a8b0947070,if (!matchDefault) {,1,0,0.0,1240
18a095c429860840b16cfbe760cb38a8b0947070,"options.put(key, value);",1,0,0.0,1241
18a095c429860840b16cfbe760cb38a8b0947070,// and save the file back,1,0,0.0,1242
18a095c429860840b16cfbe760cb38a8b0947070,"lines.set(idx, line);",1,0,0.0,1243
18a095c429860840b16cfbe760cb38a8b0947070,"line = StringHelper.replaceAll(line, endpointUrl, uri);",1,0,0.0,1244
18a095c429860840b16cfbe760cb38a8b0947070,// replace uri with new value,1,0,0.0,1245
18a095c429860840b16cfbe760cb38a8b0947070,int idx = Integer.valueOf(lineNumber) - 1;,1,0,0.0,1246
18a095c429860840b16cfbe760cb38a8b0947070,"// the list is 0-based, and line number is 1-based",1,0,0.0,1247
18a095c429860840b16cfbe760cb38a8b0947070,"return addEndpointXml(root, endpointInstanceName, uri, file, xml);",1,0,0.0,1248
18a095c429860840b16cfbe760cb38a8b0947070,Document root = XmlLineNumberParser.parseXml(file.getResourceInputStream());,1,0,0.0,1249
18a095c429860840b16cfbe760cb38a8b0947070,"return editEndpointXml(lines, lineNumber, endpointUrl, uri, file, xml);",1,0,0.0,1250
18a095c429860840b16cfbe760cb38a8b0947070,List<String> lines = LineNumberHelper.readLines(file.getResourceInputStream());,1,0,0.0,1251
18a095c429860840b16cfbe760cb38a8b0947070,if (lineNumber != null) {,1,0,0.0,1252
18a095c429860840b16cfbe760cb38a8b0947070,// if we have a line number then use that to edit the existing value,1,0,0.0,1253
18a095c429860840b16cfbe760cb38a8b0947070,file = webResourcesFacet != null ? webResourcesFacet.getWebResource(xml) : null;,1,0,0.0,1254
18a095c429860840b16cfbe760cb38a8b0947070,if (file == null || !file.exists()) {,1,0,0.0,1255
18a095c429860840b16cfbe760cb38a8b0947070,FileResource file = facet != null ? facet.getResource(xml) : null;,1,0,0.0,1256
18a095c429860840b16cfbe760cb38a8b0947070,if (uri == null) {,1,0,0.0,1257
18a095c429860840b16cfbe760cb38a8b0947070,// if its required then we need to grab the value,1,0,0.0,1258
18a095c429860840b16cfbe760cb38a8b0947070,"for (Map<String, String> row : data) {",1,0,0.0,1259
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isNullOrEmpty(groupId)) {,1,0,0.0,1260
18a095c429860840b16cfbe760cb38a8b0947070,"return row.get(""artifactId"");",1,0,0.0,1261
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addAnnotation(""Component"");",1,0,0.0,1262
18a095c429860840b16cfbe760cb38a8b0947070,"method.addAnnotation(""Scope"").setLiteralValue(""BeanDefinition.SCOPE_SINGLETON"");",1,0,0.0,1263
18a095c429860840b16cfbe760cb38a8b0947070,"method.addAnnotation(""Bean"");",1,0,0.0,1264
18a095c429860840b16cfbe760cb38a8b0947070,"method.addAnnotation(""Qualifier"").setStringValue(camelComponentName);",1,0,0.0,1265
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addImport(""org.springframework.stereotype.Component"");",1,0,0.0,1266
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addImport(""org.springframework.context.annotation.Scope"");",1,0,0.0,1267
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addImport(""org.springframework.context.annotation.Bean"");",1,0,0.0,1268
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addImport(""org.springframework.beans.factory.annotation.Qualifier"");",1,0,0.0,1269
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addImport(""org.springframework.beans.factory.config.BeanDefinition"");",1,0,0.0,1270
18a095c429860840b16cfbe760cb38a8b0947070,"method.addAnnotation(""Singleton"");",1,0,0.0,1271
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addImport(""javax.inject.Named"");",1,0,0.0,1272
18a095c429860840b16cfbe760cb38a8b0947070,"method.addAnnotation(""Produces"");",1,0,0.0,1273
18a095c429860840b16cfbe760cb38a8b0947070,"method.addAnnotation(""Named"").setStringValue(camelComponentName);",1,0,0.0,1274
18a095c429860840b16cfbe760cb38a8b0947070,.addThrows(Exception.class);,1,0,0.0,1275
18a095c429860840b16cfbe760cb38a8b0947070,.setBody(body),1,0,0.0,1276
18a095c429860840b16cfbe760cb38a8b0947070,.setName(methodName),1,0,0.0,1277
18a095c429860840b16cfbe760cb38a8b0947070,.setReturnType(componentClassName),1,0,0.0,1278
18a095c429860840b16cfbe760cb38a8b0947070,.setPublic(),1,0,0.0,1279
18a095c429860840b16cfbe760cb38a8b0947070,MethodSource<JavaClassSource> method = javaClass.addMethod(),1,0,0.0,1280
18a095c429860840b16cfbe760cb38a8b0947070,"// we have generics in the javatype, if so remove it so its loadable from a classloader",1,0,0.0,1281
18a095c429860840b16cfbe760cb38a8b0947070,int idx = javaType.indexOf('<');,1,0,0.0,1282
18a095c429860840b16cfbe760cb38a8b0947070,if (idx > 0) {,1,0,0.0,1283
18a095c429860840b16cfbe760cb38a8b0947070,"javaType = javaType.substring(0, idx);",1,0,0.0,1284
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.net.URI"".equals(javaType)) {",1,0,0.0,1285
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.net.URL"".equals(javaType)) {",1,0,0.0,1286
18a095c429860840b16cfbe760cb38a8b0947070,return String.class;,1,0,0.0,1287
18a095c429860840b16cfbe760cb38a8b0947070,"if (""java.io.File"".equals(javaType)) {",1,0,0.0,1288
18a095c429860840b16cfbe760cb38a8b0947070,// ignore errors,1,0,0.0,1289
18a095c429860840b16cfbe760cb38a8b0947070,return clazz;,1,0,0.0,1290
18a095c429860840b16cfbe760cb38a8b0947070,|| clazz.isPrimitive() || Number.class.isAssignableFrom(clazz))) {,1,0,0.0,1291
18a095c429860840b16cfbe760cb38a8b0947070,// favor specialized UI for these types,1,0,0.0,1292
18a095c429860840b16cfbe760cb38a8b0947070,"clazz = loadPrimitiveWrapperType(""java.lang.String"");",1,0,0.0,1293
18a095c429860840b16cfbe760cb38a8b0947070,"if (""object"".equals(type)) {",1,0,0.0,1294
18a095c429860840b16cfbe760cb38a8b0947070,} catch (Throwable e) {,1,0,0.0,1295
18a095c429860840b16cfbe760cb38a8b0947070,clazz = (Class<Object>) Class.forName(javaType);,1,0,0.0,1296
18a095c429860840b16cfbe760cb38a8b0947070,clazz = loadStringSupportedType(javaType);,1,0,0.0,1297
18a095c429860840b16cfbe760cb38a8b0947070,clazz = loadPrimitiveWrapperType(javaType);,1,0,0.0,1298
18a095c429860840b16cfbe760cb38a8b0947070,if (clazz == null) {,1,0,0.0,1299
18a095c429860840b16cfbe760cb38a8b0947070,Class<Object> clazz = getPrimitiveWrapperClassType(type);,1,0,0.0,1300
18a095c429860840b16cfbe760cb38a8b0947070,try {,1,0,0.0,1301
18a095c429860840b16cfbe760cb38a8b0947070,javaClass.addImport(details.getComponentClassQName());,1,0,0.0,1302
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addImport(""javax.inject.Singleton"");",1,0,0.0,1303
18a095c429860840b16cfbe760cb38a8b0947070,* @param name the json type,1,0,0.0,1304
18a095c429860840b16cfbe760cb38a8b0947070,// use callable so we can live update the filter,1,0,0.0,1305
18a095c429860840b16cfbe760cb38a8b0947070,"for (Map<String, String> row : data) {",1,0,0.0,1306
18a095c429860840b16cfbe760cb38a8b0947070,if (json == null) {,1,0,0.0,1307
18a095c429860840b16cfbe760cb38a8b0947070,"* Populates the details for the given component, returning a Result if it fails.",1,0,0.0,1308
18a095c429860840b16cfbe760cb38a8b0947070,};,1,0,0.0,1309
18a095c429860840b16cfbe760cb38a8b0947070,"return new CamelComponentsCompleter(project, camelCatalog, null, excludeComponentsOnClasspath).getValueChoices(label);",1,0,0.0,1310
18a095c429860840b16cfbe760cb38a8b0947070,public Iterable<ComponentDto> call() throws Exception {,1,0,0.0,1311
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1312
18a095c429860840b16cfbe760cb38a8b0947070,return new Callable<Iterable<ComponentDto>>() {,1,0,0.0,1313
18a095c429860840b16cfbe760cb38a8b0947070,"final UISelectOne<String> componentCategoryFilter,",1,0,0.0,1314
18a095c429860840b16cfbe760cb38a8b0947070,"javaClass.addImport(""javax.enterprise.inject.Produces"");",1,0,0.0,1315
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1316
18a095c429860840b16cfbe760cb38a8b0947070,"return new CamelComponentsLabelCompleter(project, camelCatalog).getValueChoices();",1,0,0.0,1317
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1318
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1319
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1320
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1321
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1322
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1323
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isNullOrEmpty(javaType)) {,1,0,0.0,1324
18a095c429860840b16cfbe760cb38a8b0947070,details.setComponentClassQName(javaType);,1,0,0.0,1325
18a095c429860840b16cfbe760cb38a8b0947070,details.setGroupId(groupId);,1,0,0.0,1326
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isNullOrEmpty(artifactId)) {,1,0,0.0,1327
18a095c429860840b16cfbe760cb38a8b0947070,return CamelProjectHelper.findCamelBlueprintDependency(project) != null;,1,0,0.0,1328
18a095c429860840b16cfbe760cb38a8b0947070,return CamelProjectHelper.findCamelSpringDependency(project) != null;,1,0,0.0,1329
18a095c429860840b16cfbe760cb38a8b0947070,return CamelProjectHelper.findCamelCDIDependency(project) != null;,1,0,0.0,1330
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",1,0,0.0,1331
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(artifactId).setVersion(version);,1,0,0.0,1332
18a095c429860840b16cfbe760cb38a8b0947070,version = details.getVersion();,1,0,0.0,1333
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,1334
18a095c429860840b16cfbe760cb38a8b0947070,version = core.getCoordinate().getVersion();,1,0,0.0,1335
18a095c429860840b16cfbe760cb38a8b0947070,"if (""org.apache.camel"".equals(groupId)) {",1,0,0.0,1336
18a095c429860840b16cfbe760cb38a8b0947070,// otherwise use the version from the dto,1,0,0.0,1337
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,1338
18a095c429860840b16cfbe760cb38a8b0947070,Dependency core = CamelProjectHelper.findCamelCoreDependency(project);,1,0,0.0,1339
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,1340
18a095c429860840b16cfbe760cb38a8b0947070,if (Strings.isNullOrEmpty(details.getComponentClassQName())) {,1,0,0.0,1341
18a095c429860840b16cfbe760cb38a8b0947070,details.setVersion(version);,1,0,0.0,1342
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isNullOrEmpty(version)) {,1,0,0.0,1343
18a095c429860840b16cfbe760cb38a8b0947070,details.setArtifactId(artifactId);,1,0,0.0,1344
18a095c429860840b16cfbe760cb38a8b0947070,* Gets the JSon schema primitive type.,1,0,0.0,1345
18a095c429860840b16cfbe760cb38a8b0947070,"if (""string"".equals(name)) {",1,0,0.0,1346
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1347
18a095c429860840b16cfbe760cb38a8b0947070,if (!current.getInputs().isEmpty()) {,1,0,0.0,1348
18a095c429860840b16cfbe760cb38a8b0947070,continue;,1,0,0.0,1349
18a095c429860840b16cfbe760cb38a8b0947070,"if (!label.contains(""consumer"")) {",1,0,0.0,1350
18a095c429860840b16cfbe760cb38a8b0947070,// filter out options in case we should only include consumers or producers only,1,0,0.0,1351
18a095c429860840b16cfbe760cb38a8b0947070,current = new EndpointOptionByGroup();,1,0,0.0,1352
18a095c429860840b16cfbe760cb38a8b0947070,inputs = new ArrayList<>();,1,0,0.0,1353
18a095c429860840b16cfbe760cb38a8b0947070,// get ready for a new group,1,0,0.0,1354
18a095c429860840b16cfbe760cb38a8b0947070,answer.add(current);,1,0,0.0,1355
18a095c429860840b16cfbe760cb38a8b0947070,// this group is now done so add to answer,1,0,0.0,1356
18a095c429860840b16cfbe760cb38a8b0947070,// its a new group,1,0,0.0,1357
18a095c429860840b16cfbe760cb38a8b0947070,"Map<String, String> currentValues = uri != null ? camelCatalog.endpointProperties(uri) : Collections.EMPTY_MAP;",1,0,0.0,1358
18a095c429860840b16cfbe760cb38a8b0947070,current.setGroup(group);,1,0,0.0,1359
18a095c429860840b16cfbe760cb38a8b0947070,if (current.getGroup() == null) {,1,0,0.0,1360
18a095c429860840b16cfbe760cb38a8b0947070,"for (Map<String, String> propertyMap : data) {",1,0,0.0,1361
18a095c429860840b16cfbe760cb38a8b0947070,Set<String> namesAdded = new HashSet<>();,1,0,0.0,1362
18a095c429860840b16cfbe760cb38a8b0947070,current.setInputs(inputs);,1,0,0.0,1363
18a095c429860840b16cfbe760cb38a8b0947070,current.setGroup(null);,1,0,0.0,1364
18a095c429860840b16cfbe760cb38a8b0947070,EndpointOptionByGroup current = new EndpointOptionByGroup();,1,0,0.0,1365
18a095c429860840b16cfbe760cb38a8b0947070,List<InputComponent> inputs = new ArrayList<>();,1,0,0.0,1366
18a095c429860840b16cfbe760cb38a8b0947070,"if (!label.contains(""producer"")) {",1,0,0.0,1367
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isNullOrEmpty(name)) {,1,0,0.0,1368
18a095c429860840b16cfbe760cb38a8b0947070,"Class<Object> inputClazz = CamelCommandsHelper.loadValidInputTypes(javaType, type);",1,0,0.0,1369
18a095c429860840b16cfbe760cb38a8b0947070,if (inputClazz != null) {,1,0,0.0,1370
18a095c429860840b16cfbe760cb38a8b0947070,if (input.hasValue()) {,1,0,0.0,1371
18a095c429860840b16cfbe760cb38a8b0947070,if (!inputs.isEmpty()) {,1,0,0.0,1372
18a095c429860840b16cfbe760cb38a8b0947070,// add last group if there was some new inputs,1,0,0.0,1373
18a095c429860840b16cfbe760cb38a8b0947070,if (inputs.size() == maxOptionsPerPage) {,1,0,0.0,1374
18a095c429860840b16cfbe760cb38a8b0947070,inputs.add(input);,1,0,0.0,1375
18a095c429860840b16cfbe760cb38a8b0947070,if (input != null) {,1,0,0.0,1376
18a095c429860840b16cfbe760cb38a8b0947070,"enums = ""none,"" + enums;",1,0,0.0,1377
18a095c429860840b16cfbe760cb38a8b0947070,"if (!enums.startsWith(""none,"")) {",1,0,0.0,1378
18a095c429860840b16cfbe760cb38a8b0947070,"defaultValue = ""none"";",1,0,0.0,1379
18a095c429860840b16cfbe760cb38a8b0947070,if (defaultValue == null || defaultValue.isEmpty()) {,1,0,0.0,1380
18a095c429860840b16cfbe760cb38a8b0947070,// otherwise the GUI makes us force to select an option which is not what we want,1,0,0.0,1381
18a095c429860840b16cfbe760cb38a8b0947070,// if no default value exists then add none as the 1st choice default value,1,0,0.0,1382
18a095c429860840b16cfbe760cb38a8b0947070,// if its an enum and its optional then make sure there is a default value,1,0,0.0,1383
18a095c429860840b16cfbe760cb38a8b0947070,"description = """";",1,0,0.0,1384
18a095c429860840b16cfbe760cb38a8b0947070,if (!gui) {,1,0,0.0,1385
18a095c429860840b16cfbe760cb38a8b0947070,// we do not want descriptions in CLI mode as it makes the UI clutter,1,0,0.0,1386
18a095c429860840b16cfbe760cb38a8b0947070,if (namesAdded.add(name)) {,1,0,0.0,1387
18a095c429860840b16cfbe760cb38a8b0947070,if (data != null) {,1,0,0.0,1388
18a095c429860840b16cfbe760cb38a8b0947070,producerOnly = false;,1,0,0.0,1389
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""boolean"".equals(name)) {",1,0,0.0,1390
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Object[]"".equals(name) || ""Object[]"".equals(name)) {",1,0,0.0,1391
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""int"".equals(name)) {",1,0,0.0,1392
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Integer"".equals(name) || ""Integer"".equals(name)) {",1,0,0.0,1393
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Boolean"".equals(name) || ""Boolean"".equals(name)) {",1,0,0.0,1394
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.String"".equals(name) || ""String"".equals(name)) {",1,0,0.0,1395
18a095c429860840b16cfbe760cb38a8b0947070,// and these is common as well,1,0,0.0,1396
18a095c429860840b16cfbe760cb38a8b0947070,return String[].class;,1,0,0.0,1397
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.String[]"".equals(name) || ""String[]"".equals(name)) {",1,0,0.0,1398
18a095c429860840b16cfbe760cb38a8b0947070,return Object[].class;,1,0,0.0,1399
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Byte[]"".equals(name) || ""Byte[]"".equals(name)) {",1,0,0.0,1400
18a095c429860840b16cfbe760cb38a8b0947070,consumerOnly = false;,1,0,0.0,1401
18a095c429860840b16cfbe760cb38a8b0947070,return Byte[].class;,1,0,0.0,1402
18a095c429860840b16cfbe760cb38a8b0947070,"if (""java.lang.byte[]"".equals(name) || ""byte[]"".equals(name)) {",1,0,0.0,1403
18a095c429860840b16cfbe760cb38a8b0947070,// special for byte[] or Object[] as its common to use,1,0,0.0,1404
18a095c429860840b16cfbe760cb38a8b0947070,return Float.class;,1,0,0.0,1405
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""number"".equals(name)) {",1,0,0.0,1406
18a095c429860840b16cfbe760cb38a8b0947070,return Integer.class;,1,0,0.0,1407
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""integer"".equals(name)) {",1,0,0.0,1408
18a095c429860840b16cfbe760cb38a8b0947070,return Boolean.class;,1,0,0.0,1409
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Long"".equals(name) || ""Long"".equals(name)) {",1,0,0.0,1410
18a095c429860840b16cfbe760cb38a8b0947070,return Long.class;,1,0,0.0,1411
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""long"".equals(name)) {",1,0,0.0,1412
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Short"".equals(name) || ""Short"".equals(name)) {",1,0,0.0,1413
18a095c429860840b16cfbe760cb38a8b0947070,if (componentConsumerOnly || componentProducerOnly) {,1,0,0.0,1414
18a095c429860840b16cfbe760cb38a8b0947070,camelComponentName = endpointComponentName(uri);,1,0,0.0,1415
18a095c429860840b16cfbe760cb38a8b0947070,List<EndpointOptionByGroup> answer = new ArrayList<>();,1,0,0.0,1416
18a095c429860840b16cfbe760cb38a8b0947070,"CamelCatalog camelCatalog, InputComponentFactory componentFactory, ConverterFactory converterFactory, UIContext ui) throws Exception {",1,0,0.0,1417
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""char"".equals(name)) {",1,0,0.0,1418
18a095c429860840b16cfbe760cb38a8b0947070,return Character.class;,1,0,0.0,1419
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Character"".equals(name) || ""Character"".equals(name)) {",1,0,0.0,1420
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""double"".equals(name)) {",1,0,0.0,1421
18a095c429860840b16cfbe760cb38a8b0947070,return Double.class;,1,0,0.0,1422
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Double"".equals(name) || ""Double"".equals(name)) {",1,0,0.0,1423
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""float"".equals(name)) {",1,0,0.0,1424
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Float"".equals(name) || ""Float"".equals(name)) {",1,0,0.0,1425
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""byte"".equals(name)) {",1,0,0.0,1426
18a095c429860840b16cfbe760cb38a8b0947070,return Byte.class;,1,0,0.0,1427
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.lang.Byte"".equals(name) || ""Byte"".equals(name)) {",1,0,0.0,1428
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""short"".equals(name)) {",1,0,0.0,1429
18a095c429860840b16cfbe760cb38a8b0947070,return Short.class;,1,0,0.0,1430
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1431
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1432
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1433
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1434
18a095c429860840b16cfbe760cb38a8b0947070,public RouteBuilderCompleter(JavaSourceFacet facet) {,1,0,0.0,1435
18a095c429860840b16cfbe760cb38a8b0947070,private final Set<String> routeBuilders = new TreeSet<String>();,1,0,0.0,1436
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1437
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1438
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1439
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1440
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1441
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1442
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1443
18a095c429860840b16cfbe760cb38a8b0947070,names.removeAll(languages);,1,0,0.0,1444
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1445
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1446
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1447
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1448
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1449
18a095c429860840b16cfbe760cb38a8b0947070,"return row.get(""artifactId"");",1,0,0.0,1450
18a095c429860840b16cfbe760cb38a8b0947070,"if (row.get(""artifactId"") != null) {",1,0,0.0,1451
18a095c429860840b16cfbe760cb38a8b0947070,"for (Map<String, String> row : data) {",1,0,0.0,1452
18a095c429860840b16cfbe760cb38a8b0947070,facet.visitJavaSources(new JavaResourceVisitor() {,1,0,0.0,1453
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1454
18a095c429860840b16cfbe760cb38a8b0947070,"public void visit(VisitContext context, JavaResource javaResource) {",1,0,0.0,1455
18a095c429860840b16cfbe760cb38a8b0947070,try {,1,0,0.0,1456
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1457
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1458
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1459
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1460
18a095c429860840b16cfbe760cb38a8b0947070,return answer;,1,0,0.0,1461
18a095c429860840b16cfbe760cb38a8b0947070,answer.add(name);,1,0,0.0,1462
18a095c429860840b16cfbe760cb38a8b0947070,if (value == null || name.startsWith(value)) {,1,0,0.0,1463
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : routeBuilders) {,1,0,0.0,1464
18a095c429860840b16cfbe760cb38a8b0947070,List<String> answer = new ArrayList<String>();,1,0,0.0,1465
18a095c429860840b16cfbe760cb38a8b0947070,return routeBuilders;,1,0,0.0,1466
18a095c429860840b16cfbe760cb38a8b0947070,public Set<String> getRouteBuilders() {,1,0,0.0,1467
18a095c429860840b16cfbe760cb38a8b0947070,});,1,0,0.0,1468
18a095c429860840b16cfbe760cb38a8b0947070,// ignore,1,0,0.0,1469
18a095c429860840b16cfbe760cb38a8b0947070,} catch (FileNotFoundException e) {,1,0,0.0,1470
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1471
18a095c429860840b16cfbe760cb38a8b0947070,routeBuilders.add(clazz.getQualifiedName());,1,0,0.0,1472
18a095c429860840b16cfbe760cb38a8b0947070,JavaClass clazz = javaResource.getJavaType();,1,0,0.0,1473
18a095c429860840b16cfbe760cb38a8b0947070,"LanguageDto dto = createLanguageDto(camelCatalog, name);",1,0,0.0,1474
18a095c429860840b16cfbe760cb38a8b0947070,for (Dependency dep : artifacts) {,1,0,0.0,1475
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1476
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1477
18a095c429860840b16cfbe760cb38a8b0947070,core = CamelProjectHelper.findCamelCoreDependency(project);,1,0,0.0,1478
18a095c429860840b16cfbe760cb38a8b0947070,this.camelCatalog = camelCatalog;,1,0,0.0,1479
18a095c429860840b16cfbe760cb38a8b0947070,this.project = project;,1,0,0.0,1480
18a095c429860840b16cfbe760cb38a8b0947070,"public CamelLanguagesCompleter(Project project, CamelCatalog camelCatalog) {",1,0,0.0,1481
18a095c429860840b16cfbe760cb38a8b0947070,private final Dependency core;,1,0,0.0,1482
18a095c429860840b16cfbe760cb38a8b0947070,private final CamelCatalog camelCatalog;,1,0,0.0,1483
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1484
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1485
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1486
18a095c429860840b16cfbe760cb38a8b0947070,Set<Dependency> artifacts = findCamelArtifacts(project);,1,0,0.0,1487
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1488
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1489
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1490
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1491
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1492
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1493
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1494
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1495
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1496
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1497
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,1498
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,1499
18a095c429860840b16cfbe760cb38a8b0947070,public Iterable<LanguageDto> getValueChoices() {,1,0,0.0,1500
18a095c429860840b16cfbe760cb38a8b0947070,return answer;,1,0,0.0,1501
18a095c429860840b16cfbe760cb38a8b0947070,answer.add(dto);,1,0,0.0,1502
18a095c429860840b16cfbe760cb38a8b0947070,"LanguageDto dto = createLanguageDto(camelCatalog, json);",1,0,0.0,1503
18a095c429860840b16cfbe760cb38a8b0947070,if (!already) {,1,0,0.0,1504
18a095c429860840b16cfbe760cb38a8b0947070,"already = CamelProjectHelper.hasDependency(project, ""org.apache.camel"", artifactId);",1,0,0.0,1505
18a095c429860840b16cfbe760cb38a8b0947070,if (artifactId != null) {,1,0,0.0,1506
18a095c429860840b16cfbe760cb38a8b0947070,// skip if we already have the dependency,1,0,0.0,1507
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : filtered) {,1,0,0.0,1508
18a095c429860840b16cfbe760cb38a8b0947070,// filter names which are already on the classpath,1,0,0.0,1509
18a095c429860840b16cfbe760cb38a8b0947070,filtered.add(name);,1,0,0.0,1510
18a095c429860840b16cfbe760cb38a8b0947070,if (value == null || name.startsWith(value)) {,1,0,0.0,1511
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : names) {,1,0,0.0,1512
18a095c429860840b16cfbe760cb38a8b0947070,List<String> filtered = new ArrayList<String>();,1,0,0.0,1513
18a095c429860840b16cfbe760cb38a8b0947070,// filter non matching names first,1,0,0.0,1514
18a095c429860840b16cfbe760cb38a8b0947070,List<String> names = camelCatalog.findLanguageNames();,1,0,0.0,1515
18a095c429860840b16cfbe760cb38a8b0947070,List<LanguageDto> answer = new ArrayList<>();,1,0,0.0,1516
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1517
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1518
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1519
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setScheme(row.get(""scheme""));",1,0,0.0,1520
18a095c429860840b16cfbe760cb38a8b0947070,if (Strings.isNotBlank(labelText)) {,1,0,0.0,1521
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""label"") != null) {",1,0,0.0,1522
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setDescription(row.get(""description""));",1,0,0.0,1523
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""description"") != null) {",1,0,0.0,1524
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setTitle(row.get(""title""));",1,0,0.0,1525
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""title"") != null) {",1,0,0.0,1526
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setSyntax(row.get(""syntax""));",1,0,0.0,1527
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""syntax"") != null) {",1,0,0.0,1528
18a095c429860840b16cfbe760cb38a8b0947070,ComponentDto dto = new ComponentDto();,1,0,0.0,1529
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1530
18a095c429860840b16cfbe760cb38a8b0947070,return true;,1,0,0.0,1531
18a095c429860840b16cfbe760cb38a8b0947070,if (consumerOnly != null) {,1,0,0.0,1532
18a095c429860840b16cfbe760cb38a8b0947070,return false;,1,0,0.0,1533
18a095c429860840b16cfbe760cb38a8b0947070,return value.equalsIgnoreCase(defaultValue);,1,0,0.0,1534
18a095c429860840b16cfbe760cb38a8b0947070,if (key.equals(name)) {,1,0,0.0,1535
18a095c429860840b16cfbe760cb38a8b0947070,"for (Map<String, String> propertyMap : data) {",1,0,0.0,1536
18a095c429860840b16cfbe760cb38a8b0947070,if (data != null) {,1,0,0.0,1537
18a095c429860840b16cfbe760cb38a8b0947070,if (json == null) {,1,0,0.0,1538
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setTags(labelText.split("",""));",1,0,0.0,1539
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""javaType"") != null) {",1,0,0.0,1540
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setJavaType(row.get(""javaType""));",1,0,0.0,1541
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""groupId"") != null) {",1,0,0.0,1542
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1543
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1544
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1545
18a095c429860840b16cfbe760cb38a8b0947070,LanguageDto dto = new LanguageDto();,1,0,0.0,1546
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setModelJavaType(row.get(""modelJavaType""));",1,0,0.0,1547
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""modelJavaType"") != null) {",1,0,0.0,1548
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setLabel(row.get(""label""));",1,0,0.0,1549
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setModelName(row.get(""modelName""));",1,0,0.0,1550
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""modelName"") != null) {",1,0,0.0,1551
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setName(row.get(""name""));",1,0,0.0,1552
18a095c429860840b16cfbe760cb38a8b0947070,DataFormatDto dto = new DataFormatDto();,1,0,0.0,1553
18a095c429860840b16cfbe760cb38a8b0947070,return dto;,1,0,0.0,1554
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setVersion(row.get(""version""));",1,0,0.0,1555
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""version"") != null) {",1,0,0.0,1556
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setArtifactId(row.get(""artifactId""));",1,0,0.0,1557
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (row.get(""artifactId"") != null) {",1,0,0.0,1558
18a095c429860840b16cfbe760cb38a8b0947070,"dto.setGroupId(row.get(""groupId""));",1,0,0.0,1559
18a095c429860840b16cfbe760cb38a8b0947070,"* @return <tt>true</tt> if matching the default value, <tt>false</tt> otherwise",1,0,0.0,1560
18a095c429860840b16cfbe760cb38a8b0947070,* @param value  the option value,1,0,0.0,1561
18a095c429860840b16cfbe760cb38a8b0947070,* @param key    the option key,1,0,0.0,1562
18a095c429860840b16cfbe760cb38a8b0947070,if (idx > 0) {,1,0,0.0,1563
18a095c429860840b16cfbe760cb38a8b0947070,if (uri != null) {,1,0,0.0,1564
18a095c429860840b16cfbe760cb38a8b0947070,return sb.toString();,1,0,0.0,1565
18a095c429860840b16cfbe760cb38a8b0947070,sb.append(c);,1,0,0.0,1566
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1567
18a095c429860840b16cfbe760cb38a8b0947070,next = false;,1,0,0.0,1568
18a095c429860840b16cfbe760cb38a8b0947070,c = Character.toTitleCase(c);,1,0,0.0,1569
18a095c429860840b16cfbe760cb38a8b0947070,} else if (next) {,1,0,0.0,1570
18a095c429860840b16cfbe760cb38a8b0947070,next = true;,1,0,0.0,1571
18a095c429860840b16cfbe760cb38a8b0947070,if (Character.isSpaceChar(c)) {,1,0,0.0,1572
18a095c429860840b16cfbe760cb38a8b0947070,for (char c : text.toCharArray()) {,1,0,0.0,1573
18a095c429860840b16cfbe760cb38a8b0947070,StringBuilder sb = new StringBuilder();,1,0,0.0,1574
18a095c429860840b16cfbe760cb38a8b0947070,* Returns the text in title case,1,0,0.0,1575
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1576
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1577
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1578
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1579
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1580
18a095c429860840b16cfbe760cb38a8b0947070,"int idx = uri.indexOf("":"");",1,0,0.0,1581
18a095c429860840b16cfbe760cb38a8b0947070,"return uri.substring(0, idx);",1,0,0.0,1582
18a095c429860840b16cfbe760cb38a8b0947070,* Checks whether the given value is matching the default value from the given component.,1,0,0.0,1583
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,1584
18a095c429860840b16cfbe760cb38a8b0947070,answer.add(lan);,1,0,0.0,1585
18a095c429860840b16cfbe760cb38a8b0947070,"lan = row.get(""name"");",1,0,0.0,1586
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : camelCatalog.findLanguageNames()) {,1,0,0.0,1587
18a095c429860840b16cfbe760cb38a8b0947070,answer.add(df);,1,0,0.0,1588
18a095c429860840b16cfbe760cb38a8b0947070,"df = row.get(""name"");",1,0,0.0,1589
18a095c429860840b16cfbe760cb38a8b0947070,"if (row.get(""name"") != null) {",1,0,0.0,1590
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : camelCatalog.findDataFormatNames()) {,1,0,0.0,1591
18a095c429860840b16cfbe760cb38a8b0947070,return answer;,1,0,0.0,1592
18a095c429860840b16cfbe760cb38a8b0947070,answer.add(scheme);,1,0,0.0,1593
18a095c429860840b16cfbe760cb38a8b0947070,"scheme = row.get(""scheme"");",1,0,0.0,1594
18a095c429860840b16cfbe760cb38a8b0947070,"if (row.get(""scheme"") != null) {",1,0,0.0,1595
18a095c429860840b16cfbe760cb38a8b0947070,"artifact = row.get(""artifactId"");",1,0,0.0,1596
18a095c429860840b16cfbe760cb38a8b0947070,"if (row.get(""artifactId"") != null) {",1,0,0.0,1597
18a095c429860840b16cfbe760cb38a8b0947070,"for (Map<String, String> row : data) {",1,0,0.0,1598
18a095c429860840b16cfbe760cb38a8b0947070,if (json != null) {,1,0,0.0,1599
18a095c429860840b16cfbe760cb38a8b0947070,for (String name : camelCatalog.findComponentNames()) {,1,0,0.0,1600
18a095c429860840b16cfbe760cb38a8b0947070,Set<String> answer = new TreeSet<String>();,1,0,0.0,1601
18a095c429860840b16cfbe760cb38a8b0947070,Object value = input.getValue();,1,0,0.0,1602
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueConverter(new Converter<String, DataFormatDto>() {",1,0,0.0,1603
18a095c429860840b16cfbe760cb38a8b0947070,StringBuilder buffer = new StringBuilder();,1,0,0.0,1604
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,1605
18a095c429860840b16cfbe760cb38a8b0947070,DataFormatDto dataFormat = (DataFormatDto) event.getNewValue();,1,0,0.0,1606
18a095c429860840b16cfbe760cb38a8b0947070,public void valueChanged(ValueChangeEvent event) {,1,0,0.0,1607
18a095c429860840b16cfbe760cb38a8b0947070,name.addValueChangeListener(new ValueChangeListener() {,1,0,0.0,1608
18a095c429860840b16cfbe760cb38a8b0947070,});,1,0,0.0,1609
18a095c429860840b16cfbe760cb38a8b0947070,"return createDataFormatDto(getCamelCatalog(), text);",1,0,0.0,1610
18a095c429860840b16cfbe760cb38a8b0947070,public DataFormatDto convert(String text) {,1,0,0.0,1611
18a095c429860840b16cfbe760cb38a8b0947070,// include converter from string->dto,1,0,0.0,1612
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueChoices(new CamelDataFormatsCompleter(project, getCamelCatalog()).getValueChoices());",1,0,0.0,1613
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1614
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1615
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(CamelAddDataFormatCommand.class).name(,1,0,0.0,1616
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,1617
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1618
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,1619
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<DataFormatDto> name;,1,0,0.0,1620
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Name"", required = true, description = ""Name of dataformat to add"")",1,0,0.0,1621
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,1622
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1623
18a095c429860840b16cfbe760cb38a8b0947070,if (dataFormat != null) {,1,0,0.0,1624
18a095c429860840b16cfbe760cb38a8b0947070,"name.setNote(description != null ? description : """");",1,0,0.0,1625
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,1626
18a095c429860840b16cfbe760cb38a8b0947070,"name.setNote("""");",1,0,0.0,1627
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1628
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1629
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1630
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1631
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1632
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1633
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1634
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1635
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",1,0,0.0,1636
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,1,0,0.0,1637
18a095c429860840b16cfbe760cb38a8b0947070,// we want to use same version as camel-core,1,0,0.0,1638
18a095c429860840b16cfbe760cb38a8b0947070,if (dto != null) {,1,0,0.0,1639
18a095c429860840b16cfbe760cb38a8b0947070,DataFormatDto dto = name.getValue();,1,0,0.0,1640
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,1641
18a095c429860840b16cfbe760cb38a8b0947070,Dependency core = findCamelCoreDependency(project);,1,0,0.0,1642
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,1643
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(name);,1,0,0.0,1644
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1645
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1646
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1647
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueConverter(new Converter<String, ComponentDto>() {",1,0,0.0,1648
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,1649
18a095c429860840b16cfbe760cb38a8b0947070,"name.setNote(description != null ? description : """");",1,0,0.0,1650
18a095c429860840b16cfbe760cb38a8b0947070,if (component != null) {,1,0,0.0,1651
18a095c429860840b16cfbe760cb38a8b0947070,public void valueChanged(ValueChangeEvent event) {,1,0,0.0,1652
18a095c429860840b16cfbe760cb38a8b0947070,name.addValueChangeListener(new ValueChangeListener() {,1,0,0.0,1653
18a095c429860840b16cfbe760cb38a8b0947070,});,1,0,0.0,1654
18a095c429860840b16cfbe760cb38a8b0947070,"return createComponentDto(getCamelCatalog(), text);",1,0,0.0,1655
18a095c429860840b16cfbe760cb38a8b0947070,public ComponentDto convert(String text) {,1,0,0.0,1656
18a095c429860840b16cfbe760cb38a8b0947070,// include converter from string->dto,1,0,0.0,1657
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1658
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project, getCamelCatalog(), filter, false));",1,0,0.0,1659
18a095c429860840b16cfbe760cb38a8b0947070,"filter.setDefaultValue(""<all>"");",1,0,0.0,1660
18a095c429860840b16cfbe760cb38a8b0947070,"filter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project, getCamelCatalog()));",1,0,0.0,1661
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,1662
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1663
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(CamelAddComponentCommand.class).name(,1,0,0.0,1664
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,1665
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1666
18a095c429860840b16cfbe760cb38a8b0947070,"name.setNote("""");",1,0,0.0,1667
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(filter).add(name);,1,0,0.0,1668
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,1669
18a095c429860840b16cfbe760cb38a8b0947070,Dependency core = findCamelCoreDependency(project);,1,0,0.0,1670
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1671
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1672
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1673
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1674
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1675
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1676
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1677
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1678
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",1,0,0.0,1679
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(dto.getArtifactId()).setVersion(version);,1,0,0.0,1680
18a095c429860840b16cfbe760cb38a8b0947070,version = dto.getVersion();,1,0,0.0,1681
18a095c429860840b16cfbe760cb38a8b0947070,version = core.getCoordinate().getVersion();,1,0,0.0,1682
18a095c429860840b16cfbe760cb38a8b0947070,"if (""org.apache.camel"".equals(dto.getGroupId())) {",1,0,0.0,1683
18a095c429860840b16cfbe760cb38a8b0947070,// otherwise use the version from the dto,1,0,0.0,1684
18a095c429860840b16cfbe760cb38a8b0947070,if (dto != null) {,1,0,0.0,1685
18a095c429860840b16cfbe760cb38a8b0947070,ComponentDto dto = name.getValue();,1,0,0.0,1686
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,1687
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1688
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1689
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<ComponentDto> name;,1,0,0.0,1690
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""instanceName"", instanceName.getValue());",1,0,0.0,1691
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""endpointType"", endpointType.getValue());",1,0,0.0,1692
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", camelComponentName);",1,0,0.0,1693
18a095c429860840b16cfbe760cb38a8b0947070,return navigationResult;,1,0,0.0,1694
18a095c429860840b16cfbe760cb38a8b0947070,if (navigationResult != null) {,1,0,0.0,1695
18a095c429860840b16cfbe760cb38a8b0947070,"NavigationResult navigationResult = (NavigationResult) attributeMap.get(""navigationResult"");",1,0,0.0,1696
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""kind"", ""java"");",1,0,0.0,1697
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""mode"", ""add"");",1,0,0.0,1698
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""routeBuilder"", routeBuilder.getValue());",1,0,0.0,1699
18a095c429860840b16cfbe760cb38a8b0947070,// always refresh these as the end user may have edited the instance name,1,0,0.0,1700
18a095c429860840b16cfbe760cb38a8b0947070,"String[] types = new String[]{""Producer""};",1,0,0.0,1701
18a095c429860840b16cfbe760cb38a8b0947070,"Map<Object, Object> attributeMap = context.getUIContext().getAttributeMap();",1,0,0.0,1702
18a095c429860840b16cfbe760cb38a8b0947070,public NavigationResult next(UINavigationContext context) throws Exception {,1,0,0.0,1703
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(componentNameFilter).add(componentName).add(endpointType).add(instanceName).add(routeBuilder);,1,0,0.0,1704
18a095c429860840b16cfbe760cb38a8b0947070,routeBuilder.setValueChoices(new RouteBuilderCompleter(facet).getRouteBuilders());,1,0,0.0,1705
18a095c429860840b16cfbe760cb38a8b0947070,"endpointType.setDefaultValue(""<any>"");",1,0,0.0,1706
18a095c429860840b16cfbe760cb38a8b0947070,"endpointType.setValue(""<any>"");",1,0,0.0,1707
18a095c429860840b16cfbe760cb38a8b0947070,"String[] types = new String[]{""<any>"", ""Consumer"", ""Producer""};",1,0,0.0,1708
18a095c429860840b16cfbe760cb38a8b0947070,"endpointType.setDefaultValue(""Producer"");",1,0,0.0,1709
18a095c429860840b16cfbe760cb38a8b0947070,// we need to figure out how many options there is so we can as many steps we need,1,0,0.0,1710
18a095c429860840b16cfbe760cb38a8b0947070,// producer vs consumer only if selected,1,0,0.0,1711
18a095c429860840b16cfbe760cb38a8b0947070,"if (""Consumer"".equals(type)) {",1,0,0.0,1712
18a095c429860840b16cfbe760cb38a8b0947070,consumerOnly = true;,1,0,0.0,1713
18a095c429860840b16cfbe760cb38a8b0947070,NavigationResult navigationResult = builder.build();,1,0,0.0,1714
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(step);,1,0,0.0,1715
18a095c429860840b16cfbe760cb38a8b0947070,"camelComponentName, current.getGroup(), allInputs, current.getInputs(), last, i, pages);",1,0,0.0,1716
18a095c429860840b16cfbe760cb38a8b0947070,"ConfigureEndpointPropertiesStep step = new ConfigureEndpointPropertiesStep(projectFactory, dependencyInstaller, getCamelCatalog(),",1,0,0.0,1717
18a095c429860840b16cfbe760cb38a8b0947070,EndpointOptionByGroup current = groups.get(i);,1,0,0.0,1718
18a095c429860840b16cfbe760cb38a8b0947070,for (int i = 0; i < pages; i++) {,1,0,0.0,1719
18a095c429860840b16cfbe760cb38a8b0947070,int pages = groups.size();,1,0,0.0,1720
18a095c429860840b16cfbe760cb38a8b0947070,NavigationResultBuilder builder = Results.navigationBuilder();,1,0,0.0,1721
18a095c429860840b16cfbe760cb38a8b0947070,allInputs.addAll(group.getInputs());,1,0,0.0,1722
18a095c429860840b16cfbe760cb38a8b0947070,for (EndpointOptionByGroup group : groups) {,1,0,0.0,1723
18a095c429860840b16cfbe760cb38a8b0947070,List<InputComponent> allInputs = new ArrayList<>();,1,0,0.0,1724
18a095c429860840b16cfbe760cb38a8b0947070,// need all inputs in a list as well,1,0,0.0,1725
18a095c429860840b16cfbe760cb38a8b0947070,"getCamelCatalog(), componentFactory, converterFactory, ui);",1,0,0.0,1726
18a095c429860840b16cfbe760cb38a8b0947070,"List<EndpointOptionByGroup> groups = createUIInputsForCamelComponent(camelComponentName, null, MAX_OPTIONS, consumerOnly, producerOnly,",1,0,0.0,1727
18a095c429860840b16cfbe760cb38a8b0947070,UIContext ui = context.getUIContext();,1,0,0.0,1728
18a095c429860840b16cfbe760cb38a8b0947070,producerOnly = true;,1,0,0.0,1729
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""Producer"".equals(type)) {",1,0,0.0,1730
18a095c429860840b16cfbe760cb38a8b0947070,"endpointType.setValue(""Producer"");",1,0,0.0,1731
18a095c429860840b16cfbe760cb38a8b0947070,} else if (producerOnly) {,1,0,0.0,1732
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1733
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> instanceName;,1,0,0.0,1734
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,1735
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1736
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(CamelAddEndpointCommand.class).name(,1,0,0.0,1737
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,1738
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1739
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,1740
18a095c429860840b16cfbe760cb38a8b0947070,private InputComponentFactory componentFactory;,1,0,0.0,1741
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> routeBuilder;,1,0,0.0,1742
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Instance Name"", required = true, description = ""Name of endpoint instance to add"")",1,0,0.0,1743
18a095c429860840b16cfbe760cb38a8b0947070,"endpointType.setDefaultValue(""Consumer"");",1,0,0.0,1744
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> endpointType;,1,0,0.0,1745
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Endpoint type"", required = true, description = ""Type of endpoint"")",1,0,0.0,1746
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<ComponentDto> componentName;,1,0,0.0,1747
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> componentNameFilter;,1,0,0.0,1748
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Filter"", required = false, description = ""To filter components"")",1,0,0.0,1749
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,1750
18a095c429860840b16cfbe760cb38a8b0947070,"@FacetConstraint({JavaSourceFacet.class, ResourcesFacet.class, ClassLoaderFacet.class})",1,0,0.0,1751
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1752
18a095c429860840b16cfbe760cb38a8b0947070,"Map<Object, Object> attributeMap = builder.getUIContext().getAttributeMap();",1,0,0.0,1753
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.remove(""navigationResult"");",1,0,0.0,1754
18a095c429860840b16cfbe760cb38a8b0947070,JavaSourceFacet facet = project.getFacet(JavaSourceFacet.class);,1,0,0.0,1755
18a095c429860840b16cfbe760cb38a8b0947070,"componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project, getCamelCatalog()));",1,0,0.0,1756
18a095c429860840b16cfbe760cb38a8b0947070,"endpointType.setValue(""Consumer"");",1,0,0.0,1757
18a095c429860840b16cfbe760cb38a8b0947070,endpointType.setValueChoices(Arrays.asList(types));,1,0,0.0,1758
18a095c429860840b16cfbe760cb38a8b0947070,"String[] types = new String[]{""Consumer""};",1,0,0.0,1759
18a095c429860840b16cfbe760cb38a8b0947070,if (consumerOnly) {,1,0,0.0,1760
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setNote("""");",1,0,0.0,1761
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,1762
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setNote(description != null ? description : """");",1,0,0.0,1763
18a095c429860840b16cfbe760cb38a8b0947070,if (component != null) {,1,0,0.0,1764
18a095c429860840b16cfbe760cb38a8b0947070,public void valueChanged(ValueChangeEvent event) {,1,0,0.0,1765
18a095c429860840b16cfbe760cb38a8b0947070,componentName.addValueChangeListener(new ValueChangeListener() {,1,0,0.0,1766
18a095c429860840b16cfbe760cb38a8b0947070,});,1,0,0.0,1767
18a095c429860840b16cfbe760cb38a8b0947070,"return createComponentDto(getCamelCatalog(), text);",1,0,0.0,1768
18a095c429860840b16cfbe760cb38a8b0947070,public ComponentDto convert(String text) {,1,0,0.0,1769
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueConverter(new Converter<String, ComponentDto>() {",1,0,0.0,1770
18a095c429860840b16cfbe760cb38a8b0947070,// include converter from string->dto,1,0,0.0,1771
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project, getCamelCatalog(), componentNameFilter, false));",1,0,0.0,1772
18a095c429860840b16cfbe760cb38a8b0947070,"componentNameFilter.setDefaultValue(""<all>"");",1,0,0.0,1773
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,1774
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> filter;,1,0,0.0,1775
18a095c429860840b16cfbe760cb38a8b0947070,javaClass.setPackage(generatePackageName);,1,0,0.0,1776
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(input);,1,0,0.0,1777
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueConverter(new Converter<String, ComponentDto>() {",0,0,0.0,1778
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project, filter, false));",0,0,0.0,1779
18a095c429860840b16cfbe760cb38a8b0947070,filter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project));,0,0,0.0,1780
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<ComponentDto> name;,0,0,0.0,1781
18a095c429860840b16cfbe760cb38a8b0947070,"return executeJava(context, attributeMap);",1,0,0.0,1782
18a095c429860840b16cfbe760cb38a8b0947070,"return executeXml(context, attributeMap);",1,0,0.0,1783
18a095c429860840b16cfbe760cb38a8b0947070,"if (""xml"".equals(kind)) {",1,0,0.0,1784
18a095c429860840b16cfbe760cb38a8b0947070,inputs.add(input);,1,0,0.0,1785
18a095c429860840b16cfbe760cb38a8b0947070,if (input != null) {,1,0,0.0,1786
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1787
18a095c429860840b16cfbe760cb38a8b0947070,if (namesAdded.add(name)) {,1,0,0.0,1788
18a095c429860840b16cfbe760cb38a8b0947070,if (inputClazz != null) {,1,0,0.0,1789
18a095c429860840b16cfbe760cb38a8b0947070,"Class<Object> inputClazz = CamelCommandsHelper.loadValidInputTypes(javaType, type);",1,0,0.0,1790
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isNullOrEmpty(name)) {,1,0,0.0,1791
18a095c429860840b16cfbe760cb38a8b0947070,"for (Map<String, String> propertyMap : data) {",1,0,0.0,1792
18a095c429860840b16cfbe760cb38a8b0947070,Set<String> namesAdded = new HashSet<>();,1,0,0.0,1793
18a095c429860840b16cfbe760cb38a8b0947070,if (data != null) {,1,0,0.0,1794
18a095c429860840b16cfbe760cb38a8b0947070,"Map<String, String> currentValues = uri != null ? catalog.endpointProperties(uri) : Collections.EMPTY_MAP;",1,0,0.0,1795
18a095c429860840b16cfbe760cb38a8b0947070,@Override,0,0,0.0,1796
18a095c429860840b16cfbe760cb38a8b0947070,public ComponentDto convert(String name) {,0,0,0.0,1797
18a095c429860840b16cfbe760cb38a8b0947070,return createComponentDto(name);,0,0,0.0,1798
18a095c429860840b16cfbe760cb38a8b0947070,},0,0,0.0,1799
18a095c429860840b16cfbe760cb38a8b0947070,componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentNameValues(project));,1,0,0.0,1800
18a095c429860840b16cfbe760cb38a8b0947070,componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project));,0,0,0.0,1801
18a095c429860840b16cfbe760cb38a8b0947070,componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentNameValues(project));,1,0,0.0,1802
18a095c429860840b16cfbe760cb38a8b0947070,componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project));,0,0,0.0,1803
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",1,0,0.0,1804
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(artifactId).setVersion(core.getCoordinate().getVersion());,1,0,0.0,1805
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1806
18a095c429860840b16cfbe760cb38a8b0947070,if (artifactId == null) {,1,0,0.0,1807
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueChoices(CamelCommandsHelper.createComponentNameValues(project, filter, false));",1,0,0.0,1808
18a095c429860840b16cfbe760cb38a8b0947070,filter.setValueChoices(CamelCommandsHelper.createComponentNameValues(project));,1,0,0.0,1809
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> name;,1,0,0.0,1810
18a095c429860840b16cfbe760cb38a8b0947070,} else {,0,0,0.0,1811
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",0,0,0.0,1812
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,0,0,0.0,1813
18a095c429860840b16cfbe760cb38a8b0947070,if (dto != null) {,0,0,0.0,1814
18a095c429860840b16cfbe760cb38a8b0947070,ComponentDto dto = name.getValue();,0,0,0.0,1815
18a095c429860840b16cfbe760cb38a8b0947070,});,0,0,0.0,1816
18a095c429860840b16cfbe760cb38a8b0947070,if (json == null) {,1,0,0.0,1817
18a095c429860840b16cfbe760cb38a8b0947070,camelComponentName = endpointComponentName(uri);,1,0,0.0,1818
18a095c429860840b16cfbe760cb38a8b0947070,componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentNameValues(project));,1,0,0.0,1819
18a095c429860840b16cfbe760cb38a8b0947070,private final List<InputComponent> inputs;,0,0,0.0,1820
18a095c429860840b16cfbe760cb38a8b0947070,"List<InputComponent> inputs,",0,0,0.0,1821
18a095c429860840b16cfbe760cb38a8b0947070,"List<InputComponent> allInputs,",0,0,0.0,1822
18a095c429860840b16cfbe760cb38a8b0947070,"DependencyInstaller dependencyInstaller,",0,0,0.0,1823
18a095c429860840b16cfbe760cb38a8b0947070,"public ConfigureEndpointPropertiesStep(ProjectFactory projectFactory,",0,0,0.0,1824
18a095c429860840b16cfbe760cb38a8b0947070,},0,0,0.0,1825
18a095c429860840b16cfbe760cb38a8b0947070,"this(null, null, null, null, false);",0,0,0.0,1826
18a095c429860840b16cfbe760cb38a8b0947070,public ConfigureEndpointPropertiesStep() {,0,0,0.0,1827
18a095c429860840b16cfbe760cb38a8b0947070,@Deprecated,0,0,0.0,1828
18a095c429860840b16cfbe760cb38a8b0947070,private final List<InputComponent> allInputs;,0,0,0.0,1829
18a095c429860840b16cfbe760cb38a8b0947070,"Map<Object, Object> attributeMap = builder.getUIContext().getAttributeMap();",1,0,0.0,1830
18a095c429860840b16cfbe760cb38a8b0947070,return null;,0,0,0.0,1831
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.net.URI"".equals(javaType)) {",0,0,0.0,1832
18a095c429860840b16cfbe760cb38a8b0947070,"} else if (""java.net.URL"".equals(javaType)) {",0,0,0.0,1833
18a095c429860840b16cfbe760cb38a8b0947070,return String.class;,0,0,0.0,1834
18a095c429860840b16cfbe760cb38a8b0947070,"if (""java.io.File"".equals(javaType)) {",0,0,0.0,1835
18a095c429860840b16cfbe760cb38a8b0947070,},0,0,0.0,1836
18a095c429860840b16cfbe760cb38a8b0947070,clazz = loadStringSupportedType(javaType);,0,0,0.0,1837
18a095c429860840b16cfbe760cb38a8b0947070,if (clazz == null) {,0,0,0.0,1838
18a095c429860840b16cfbe760cb38a8b0947070,this.projectFactory = projectFactory;,0,0,0.0,1839
18a095c429860840b16cfbe760cb38a8b0947070,this.dependencyInstaller = dependencyInstaller;,0,0,0.0,1840
18a095c429860840b16cfbe760cb38a8b0947070,this.allInputs = allInputs;,0,0,0.0,1841
18a095c429860840b16cfbe760cb38a8b0947070,this.inputs = inputs;,0,0,0.0,1842
18a095c429860840b16cfbe760cb38a8b0947070,CamelCatalog catalog = new DefaultCamelCatalog();,1,0,0.0,1843
18a095c429860840b16cfbe760cb38a8b0947070,private List<InputComponent> inputs = new ArrayList<>();,1,0,0.0,1844
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyResolver dependencyResolver;,1,0,0.0,1845
18a095c429860840b16cfbe760cb38a8b0947070,private InputComponentFactory componentFactory;,1,0,0.0,1846
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,1847
18a095c429860840b16cfbe760cb38a8b0947070,return null;,0,0,0.0,1848
18a095c429860840b16cfbe760cb38a8b0947070,"return executeJava(context, attributeMap);",0,0,0.0,1849
18a095c429860840b16cfbe760cb38a8b0947070,} else {,0,0,0.0,1850
18a095c429860840b16cfbe760cb38a8b0947070,"return executeXml(context, attributeMap);",0,0,0.0,1851
18a095c429860840b16cfbe760cb38a8b0947070,"if (""xml"".equals(kind)) {",0,0,0.0,1852
18a095c429860840b16cfbe760cb38a8b0947070,if (last) {,0,0,0.0,1853
18a095c429860840b16cfbe760cb38a8b0947070,// only if last,0,0,0.0,1854
18a095c429860840b16cfbe760cb38a8b0947070,// TODO: carry over options to the next page (yikes we need to store this state ourselves),0,0,0.0,1855
18a095c429860840b16cfbe760cb38a8b0947070,if (!last) {,0,0,0.0,1856
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(input);,0,0,0.0,1857
18a095c429860840b16cfbe760cb38a8b0947070,if (inputs != null) {,0,0,0.0,1858
18a095c429860840b16cfbe760cb38a8b0947070,this.last = last;,0,0,0.0,1859
18a095c429860840b16cfbe760cb38a8b0947070,componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project));,0,0,0.0,1860
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<ComponentDto> componentName;,0,0,0.0,1861
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Filter"", required = false, description = ""To filter components"")",1,0,0.0,1862
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<LanguageDto> name;,0,0,0.0,1863
18a095c429860840b16cfbe760cb38a8b0947070,},0,0,0.0,1864
18a095c429860840b16cfbe760cb38a8b0947070,} else {,0,0,0.0,1865
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",0,0,0.0,1866
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,0,0,0.0,1867
18a095c429860840b16cfbe760cb38a8b0947070,// we want to use same version as camel-core,0,0,0.0,1868
18a095c429860840b16cfbe760cb38a8b0947070,if (dto != null) {,0,0,0.0,1869
18a095c429860840b16cfbe760cb38a8b0947070,LanguageDto dto = name.getValue();,0,0,0.0,1870
18a095c429860840b16cfbe760cb38a8b0947070,LanguageDto language = (LanguageDto) event.getNewValue();,0,0,0.0,1871
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",1,0,0.0,1872
18a095c429860840b16cfbe760cb38a8b0947070,if (dto != null) {,0,0,0.0,1873
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(artifactId).setVersion(core.getCoordinate().getVersion());,1,0,0.0,1874
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1875
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Camel dataformat "" + name.getValue() + "" is unknown."");",1,0,0.0,1876
18a095c429860840b16cfbe760cb38a8b0947070,if (artifactId == null) {,1,0,0.0,1877
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> name;,1,0,0.0,1878
18a095c429860840b16cfbe760cb38a8b0947070,},0,0,0.0,1879
18a095c429860840b16cfbe760cb38a8b0947070,} else {,0,0,0.0,1880
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",0,0,0.0,1881
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> name;,1,0,0.0,1882
18a095c429860840b16cfbe760cb38a8b0947070,// name -> artifactId,1,0,0.0,1883
18a095c429860840b16cfbe760cb38a8b0947070,if (artifactId == null) {,1,0,0.0,1884
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Camel language "" + name.getValue() + "" is unknown."");",1,0,0.0,1885
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,1886
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1887
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1888
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1889
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1890
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1891
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1892
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1893
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1894
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1895
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1896
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1897
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1898
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1899
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",1,0,0.0,1900
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(artifactId).setVersion(core.getCoordinate().getVersion());,1,0,0.0,1901
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1902
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,0,0,0.0,1903
18a095c429860840b16cfbe760cb38a8b0947070,DataFormatDto dto = name.getValue();,0,0,0.0,1904
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project, componentNameFilter, false));",0,0,0.0,1905
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", componentName.getValue());",1,0,0.0,1906
18a095c429860840b16cfbe760cb38a8b0947070,});,0,0,0.0,1907
18a095c429860840b16cfbe760cb38a8b0947070,},0,0,0.0,1908
18a095c429860840b16cfbe760cb38a8b0947070,return createComponentDto(name);,0,0,0.0,1909
18a095c429860840b16cfbe760cb38a8b0947070,public ComponentDto convert(String name) {,0,0,0.0,1910
18a095c429860840b16cfbe760cb38a8b0947070,@Override,0,0,0.0,1911
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueConverter(new Converter<String, ComponentDto>() {",0,0,0.0,1912
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project, componentNameFilter, false));",0,0,0.0,1913
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<ComponentDto> componentName;,0,0,0.0,1914
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentNameValues(project, componentNameFilter, false));",1,0,0.0,1915
18a095c429860840b16cfbe760cb38a8b0947070,// name -> artifactId,0,0,0.0,1916
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> componentName;,1,0,0.0,1917
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", componentName.getValue().getScheme());",0,0,0.0,1918
18a095c429860840b16cfbe760cb38a8b0947070,});,0,0,0.0,1919
18a095c429860840b16cfbe760cb38a8b0947070,},0,0,0.0,1920
18a095c429860840b16cfbe760cb38a8b0947070,return createComponentDto(name);,0,0,0.0,1921
18a095c429860840b16cfbe760cb38a8b0947070,public ComponentDto convert(String name) {,0,0,0.0,1922
18a095c429860840b16cfbe760cb38a8b0947070,@Override,0,0,0.0,1923
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueConverter(new Converter<String, ComponentDto>() {",0,0,0.0,1924
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", componentName.getValue().getScheme());",0,0,0.0,1925
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> componentName;,1,0,0.0,1926
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentNameValues(project, componentNameFilter, false));",1,0,0.0,1927
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", componentName.getValue());",1,0,0.0,1928
18a095c429860840b16cfbe760cb38a8b0947070,DataFormatDto dataFormat = (DataFormatDto) event.getNewValue();,0,0,0.0,1929
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<DataFormatDto> name;,0,0,0.0,1930
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,1931
18a095c429860840b16cfbe760cb38a8b0947070,if (json == null) {,1,0,0.0,1932
18a095c429860840b16cfbe760cb38a8b0947070,CamelCatalog catalog = new DefaultCamelCatalog();,1,0,0.0,1933
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", componentName.getValue());",1,0,0.0,1934
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentNameValues(project, componentNameFilter, false));",1,0,0.0,1935
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> componentName;,1,0,0.0,1936
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", componentName.getValue().getScheme());",0,0,0.0,1937
18a095c429860840b16cfbe760cb38a8b0947070,});,0,0,0.0,1938
18a095c429860840b16cfbe760cb38a8b0947070,},0,0,0.0,1939
18a095c429860840b16cfbe760cb38a8b0947070,return createComponentDto(name);,0,0,0.0,1940
18a095c429860840b16cfbe760cb38a8b0947070,public ComponentDto convert(String name) {,0,0,0.0,1941
18a095c429860840b16cfbe760cb38a8b0947070,@Override,0,0,0.0,1942
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueConverter(new Converter<String, ComponentDto>() {",0,0,0.0,1943
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project, componentNameFilter, false));",0,0,0.0,1944
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<ComponentDto> componentName;,0,0,0.0,1945
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""navigationResult"", navigationResult);",1,0,0.0,1946
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,1947
18a095c429860840b16cfbe760cb38a8b0947070,return Results.success();,1,0,0.0,1948
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""targetPackage"", targetPackage.getValue());",1,0,0.0,1949
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,1950
18a095c429860840b16cfbe760cb38a8b0947070,"return Strings.capitalize(name) + ""ComponentFactory"";",1,0,0.0,1951
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isBlank(name)) {,1,0,0.0,1952
18a095c429860840b16cfbe760cb38a8b0947070,return Results.success();,1,0,0.0,1953
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,1954
18a095c429860840b16cfbe760cb38a8b0947070,return Results.navigateTo(ConfigureComponentPropertiesStep.class);,1,0,0.0,1955
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""kind"", ""spring"");",1,0,0.0,1956
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""className"", className.getValue());",1,0,0.0,1957
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""instanceName"", instanceName.getValue());",1,0,0.0,1958
18a095c429860840b16cfbe760cb38a8b0947070,targetPackage.addValidator(new PackageNameValidator());,1,0,0.0,1959
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", componentName.getValue().getScheme());",1,0,0.0,1960
18a095c429860840b16cfbe760cb38a8b0947070,"Map<Object, Object> attributeMap = context.getUIContext().getAttributeMap();",1,0,0.0,1961
18a095c429860840b16cfbe760cb38a8b0947070,public NavigationResult next(UINavigationContext context) throws Exception {,1,0,0.0,1962
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(componentNameFilter).add(componentName).add(instanceName).add(targetPackage).add(className);,1,0,0.0,1963
18a095c429860840b16cfbe760cb38a8b0947070,className.getFacet(HintsFacet.class).setInputType(InputType.JAVA_CLASS_PICKER);,1,0,0.0,1964
18a095c429860840b16cfbe760cb38a8b0947070,return getDefaultProducerClassName();,1,0,0.0,1965
18a095c429860840b16cfbe760cb38a8b0947070,className.setDefaultValue(new Callable<String>() {,1,0,0.0,1966
18a095c429860840b16cfbe760cb38a8b0947070,className.addValidator(new ClassNameValidator(false));,1,0,0.0,1967
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,1968
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,1969
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,1970
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,1971
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,1972
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> name;,1,0,0.0,1973
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""XML File Name"", required = true, description = ""Name of XML file"")",1,0,0.0,1974
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> directory;,1,0,0.0,1975
18a095c429860840b16cfbe760cb38a8b0947070,"description = ""The directory name where this type will be created"")",1,0,0.0,1976
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Directory"", required = false, defaultValue = ""META-INF/spring"",",1,0,0.0,1977
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,1978
18a095c429860840b16cfbe760cb38a8b0947070,@FacetConstraint({ResourcesFacet.class}),1,0,0.0,1979
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,1980
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,1981
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,1982
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,1983
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,1984
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,1985
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,1986
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,1987
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,1988
18a095c429860840b16cfbe760cb38a8b0947070,targetPackage.getFacet(HintsFacet.class).setInputType(InputType.JAVA_PACKAGE_PICKER);,1,0,0.0,1989
18a095c429860840b16cfbe760cb38a8b0947070,targetPackage.setCompleter(new PackageNameCompleter(facet));,1,0,0.0,1990
18a095c429860840b16cfbe760cb38a8b0947070,ResourceFactory resourceFactory;,1,0,0.0,1991
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Filter"", required = false, description = ""To filter components"")",1,0,0.0,1992
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,1993
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyResolver dependencyResolver;,1,0,0.0,1994
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,1995
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> className;,1,0,0.0,1996
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> targetPackage;,1,0,0.0,1997
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> instanceName;,1,0,0.0,1998
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<ComponentDto> componentName;,1,0,0.0,1999
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> componentNameFilter;,1,0,0.0,2000
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,2001
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setNote("""");",1,0,0.0,2002
18a095c429860840b16cfbe760cb38a8b0947070,"@FacetConstraint({JavaSourceFacet.class, ResourcesFacet.class, ClassLoaderFacet.class})",1,0,0.0,2003
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,2004
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,2005
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,2006
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,2007
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,2008
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,2009
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,2010
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,2011
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(CamelNewComponentInstanceSpringCommand.class).name(,1,0,0.0,2012
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,2013
18a095c429860840b16cfbe760cb38a8b0947070,if (enabled) {,1,0,0.0,2014
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,2015
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setNote(description != null ? description : """");",1,0,0.0,2016
18a095c429860840b16cfbe760cb38a8b0947070,if (component != null) {,1,0,0.0,2017
18a095c429860840b16cfbe760cb38a8b0947070,public void valueChanged(ValueChangeEvent event) {,1,0,0.0,2018
18a095c429860840b16cfbe760cb38a8b0947070,componentName.addValueChangeListener(new ValueChangeListener() {,1,0,0.0,2019
18a095c429860840b16cfbe760cb38a8b0947070,});,1,0,0.0,2020
18a095c429860840b16cfbe760cb38a8b0947070,"return createComponentDto(getCamelCatalog(), text);",1,0,0.0,2021
18a095c429860840b16cfbe760cb38a8b0947070,public ComponentDto convert(String text) {,1,0,0.0,2022
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueConverter(new Converter<String, ComponentDto>() {",1,0,0.0,2023
18a095c429860840b16cfbe760cb38a8b0947070,// include converter from string->dto,1,0,0.0,2024
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project, getCamelCatalog(), componentNameFilter, false));",1,0,0.0,2025
18a095c429860840b16cfbe760cb38a8b0947070,"componentNameFilter.setDefaultValue(""<all>"");",1,0,0.0,2026
18a095c429860840b16cfbe760cb38a8b0947070,"componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project, getCamelCatalog()));",1,0,0.0,2027
18a095c429860840b16cfbe760cb38a8b0947070,final JavaSourceFacet facet = project.getFacet(JavaSourceFacet.class);,1,0,0.0,2028
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,2029
18a095c429860840b16cfbe760cb38a8b0947070,return false;,1,0,0.0,2030
18a095c429860840b16cfbe760cb38a8b0947070,return CamelCommandsHelper.isSpringProject(getSelectedProject(context));,1,0,0.0,2031
18a095c429860840b16cfbe760cb38a8b0947070,private TemplateFactory factory;,1,0,0.0,2032
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,2033
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,2034
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,2035
18a095c429860840b16cfbe760cb38a8b0947070,if (inputClazz != null) {,1,0,0.0,2036
18a095c429860840b16cfbe760cb38a8b0947070,"Class<Object> inputClazz = loadValidInputTypes(javaType, type);",1,0,0.0,2037
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isNullOrEmpty(name)) {,1,0,0.0,2038
18a095c429860840b16cfbe760cb38a8b0947070,"for (Map<String, String> propertyMap : data) {",1,0,0.0,2039
18a095c429860840b16cfbe760cb38a8b0947070,Set<String> namesAdded = new HashSet<>();,1,0,0.0,2040
18a095c429860840b16cfbe760cb38a8b0947070,if (data != null) {,1,0,0.0,2041
18a095c429860840b16cfbe760cb38a8b0947070,if (json == null) {,1,0,0.0,2042
18a095c429860840b16cfbe760cb38a8b0947070,"Map<Object, Object> attributeMap = builder.getUIContext().getAttributeMap();",1,0,0.0,2043
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,2044
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,2045
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: New Component"").category(Categories.create(CATEGORY))",1,0,0.0,2046
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(ConfigureComponentPropertiesStep.class).name(,1,0,0.0,2047
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,2048
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,2049
18a095c429860840b16cfbe760cb38a8b0947070,private List<InputComponent> inputs = new ArrayList<>();,1,0,0.0,2050
18a095c429860840b16cfbe760cb38a8b0947070,private CamelCatalog camelCatalog;,1,0,0.0,2051
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyResolver dependencyResolver;,1,0,0.0,2052
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,2053
18a095c429860840b16cfbe760cb38a8b0947070,if (namesAdded.add(name)) {,1,0,0.0,2054
18a095c429860840b16cfbe760cb38a8b0947070,if (input != null) {,1,0,0.0,2055
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(input);,1,0,0.0,2056
18a095c429860840b16cfbe760cb38a8b0947070,inputs.add(input);,1,0,0.0,2057
18a095c429860840b16cfbe760cb38a8b0947070,if (generatePackageName != null) {,1,0,0.0,2058
18a095c429860840b16cfbe760cb38a8b0947070,javaClass.setName(generateClassName);,1,0,0.0,2059
18a095c429860840b16cfbe760cb38a8b0947070,final JavaClassSource javaClass = Roaster.create(JavaClassSource.class);,1,0,0.0,2060
18a095c429860840b16cfbe760cb38a8b0947070,JavaResource existing = facet.getJavaResource(fqn);,1,0,0.0,2061
18a095c429860840b16cfbe760cb38a8b0947070,"result = ensureCamelArtifactIdAdded(project, details, dependencyInstaller);",1,0,0.0,2062
18a095c429860840b16cfbe760cb38a8b0947070,return result;,1,0,0.0,2063
18a095c429860840b16cfbe760cb38a8b0947070,if (result != null) {,1,0,0.0,2064
18a095c429860840b16cfbe760cb38a8b0947070,"Result result = loadCamelComponentDetails(camelCatalog, camelComponentName, details);",1,0,0.0,2065
18a095c429860840b16cfbe760cb38a8b0947070,CamelComponentDetails details = new CamelComponentDetails();,1,0,0.0,2066
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,2067
18a095c429860840b16cfbe760cb38a8b0947070,Dependency core = CamelProjectHelper.findCamelCoreDependency(project);,1,0,0.0,2068
18a095c429860840b16cfbe760cb38a8b0947070,JavaSourceFacet facet = project.getFacet(JavaSourceFacet.class);,1,0,0.0,2069
18a095c429860840b16cfbe760cb38a8b0947070,try {,1,0,0.0,2070
18a095c429860840b16cfbe760cb38a8b0947070,"Map<Object, Object> attributeMap = context.getUIContext().getAttributeMap();",1,0,0.0,2071
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,2072
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,2073
18a095c429860840b16cfbe760cb38a8b0947070,public NavigationResult next(UINavigationContext context) throws Exception {,1,0,0.0,2074
18a095c429860840b16cfbe760cb38a8b0947070,private InputComponentFactory componentFactory;,1,0,0.0,2075
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,2076
18a095c429860840b16cfbe760cb38a8b0947070,if (enabled) {,1,0,0.0,2077
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(directory).add(name);,1,0,0.0,2078
18a095c429860840b16cfbe760cb38a8b0947070,".setArtifactId(""camel-spring"").setVersion(core.getCoordinate().getVersion());",1,0,0.0,2079
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,2080
18a095c429860840b16cfbe760cb38a8b0947070,Dependency core = findCamelCoreDependency(project);,1,0,0.0,2081
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Spring XML file "" + fullName + "" already exists"");",1,0,0.0,2082
18a095c429860840b16cfbe760cb38a8b0947070,if (fileResource.exists()) {,1,0,0.0,2083
18a095c429860840b16cfbe760cb38a8b0947070,FileResource<?> fileResource = facet.getResource(fileName);,1,0,0.0,2084
18a095c429860840b16cfbe760cb38a8b0947070,ResourcesFacet facet = project.getFacet(ResourcesFacet.class);,1,0,0.0,2085
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,2086
18a095c429860840b16cfbe760cb38a8b0947070,directory.getFacet(HintsFacet.class).setInputType(InputType.DIRECTORY_PICKER);,1,0,0.0,2087
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,2088
18a095c429860840b16cfbe760cb38a8b0947070,name.getFacet(HintsFacet.class).setInputType(InputType.FILE_PICKER);,1,0,0.0,2089
18a095c429860840b16cfbe760cb38a8b0947070,"name.addValidator(new ResourceNameValidator(""xml""));",1,0,0.0,2090
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,2091
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: New XML spring"").category(Categories.create(CATEGORY))",1,0,0.0,2092
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(CamelNewRouteBuilderCommand.class).name(,1,0,0.0,2093
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,2094
18a095c429860840b16cfbe760cb38a8b0947070,return false;,1,0,0.0,2095
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,2096
18a095c429860840b16cfbe760cb38a8b0947070,// install camel-spring if missing,1,0,0.0,2097
18a095c429860840b16cfbe760cb38a8b0947070,"if (!dependencyInstaller.isManaged(project, spring)) {",1,0,0.0,2098
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, spring);",1,0,0.0,2099
18a095c429860840b16cfbe760cb38a8b0947070,"Resource<URL> xml = resourceFactory.create(getClass().getResource(""/templates/camel-spring.ftl"")).reify(URLResource.class);",1,0,0.0,2100
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,2101
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,2102
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,2103
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,2104
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,2105
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,2106
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,2107
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,2108
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,2109
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,2110
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,2111
18a095c429860840b16cfbe760cb38a8b0947070,fileResource.setContents(output);,1,0,0.0,2112
18a095c429860840b16cfbe760cb38a8b0947070,fileResource.createNewFile();,1,0,0.0,2113
18a095c429860840b16cfbe760cb38a8b0947070,"params.put(""projectName"", projectName);",1,0,0.0,2114
18a095c429860840b16cfbe760cb38a8b0947070,"Map<String, Object> params = new HashMap<String, Object>();",1,0,0.0,2115
18a095c429860840b16cfbe760cb38a8b0947070,// any dynamic options goes into the params map,1,0,0.0,2116
18a095c429860840b16cfbe760cb38a8b0947070,"Template template = factory.create(xml, FreemarkerTemplate.class);",1,0,0.0,2117
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,2118
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,2119
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,2120
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,2121
18a095c429860840b16cfbe760cb38a8b0947070,"description = ""The directory name where this type will be created"")",1,0,0.0,2122
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Directory"", required = false, defaultValue = ""OSGI-INF/blueprint"",",1,0,0.0,2123
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,2124
18a095c429860840b16cfbe760cb38a8b0947070,@FacetConstraint({ResourcesFacet.class}),1,0,0.0,2125
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,2126
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,2127
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,2128
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,2129
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,2130
18a095c429860840b16cfbe760cb38a8b0947070,// we want to use same version as camel-core,1,0,0.0,2131
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,2132
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,2133
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,2134
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,2135
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,2136
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,2137
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,2138
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, component);",1,0,0.0,2139
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> directory;,1,0,0.0,2140
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""File Name"", required = true, description = ""Name of XML file"")",1,0,0.0,2141
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> name;,1,0,0.0,2142
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,2143
18a095c429860840b16cfbe760cb38a8b0947070,FileResource<?> fileResource = facet.getResource(fileName);,1,0,0.0,2144
18a095c429860840b16cfbe760cb38a8b0947070,ResourcesFacet facet = project.getFacet(ResourcesFacet.class);,1,0,0.0,2145
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,2146
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(directory).add(name);,1,0,0.0,2147
18a095c429860840b16cfbe760cb38a8b0947070,name.getFacet(HintsFacet.class).setInputType(InputType.FILE_PICKER);,1,0,0.0,2148
18a095c429860840b16cfbe760cb38a8b0947070,"name.addValidator(new ResourceNameValidator(""xml""));",1,0,0.0,2149
18a095c429860840b16cfbe760cb38a8b0947070,directory.getFacet(HintsFacet.class).setInputType(InputType.DIRECTORY_PICKER);,1,0,0.0,2150
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,2151
18a095c429860840b16cfbe760cb38a8b0947070,"""Camel: New XML blueprint"").category(Categories.create(CATEGORY))",1,0,0.0,2152
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(CamelNewRouteBuilderCommand.class).name(,1,0,0.0,2153
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,2154
18a095c429860840b16cfbe760cb38a8b0947070,return false;,1,0,0.0,2155
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,2156
18a095c429860840b16cfbe760cb38a8b0947070,if (enabled) {,1,0,0.0,2157
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,2158
18a095c429860840b16cfbe760cb38a8b0947070,ResourceFactory resourceFactory;,1,0,0.0,2159
18a095c429860840b16cfbe760cb38a8b0947070,private TemplateFactory factory;,1,0,0.0,2160
18a095c429860840b16cfbe760cb38a8b0947070,.setArtifactId(dto.getArtifactId()).setVersion(core.getCoordinate().getVersion());,1,0,0.0,2161
18a095c429860840b16cfbe760cb38a8b0947070,if (dto != null) {,1,0,0.0,2162
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,2163
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,2164
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,2165
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,2166
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,2167
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<LanguageDto> name;,1,0,0.0,2168
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Name"", required = true, description = ""Name of language to add"")",1,0,0.0,2169
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,2170
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,2171
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,2172
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,2173
18a095c429860840b16cfbe760cb38a8b0947070,LanguageDto dto = name.getValue();,1,0,0.0,2174
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,2175
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,2176
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,2177
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,2178
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,2179
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,2180
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,2181
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,2182
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(CamelAddLanguageCommand.class).name(,1,0,0.0,2183
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,2184
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,2185
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueChoices(new CamelLanguagesCompleter(project, getCamelCatalog()).getValueChoices());",1,0,0.0,2186
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,2187
18a095c429860840b16cfbe760cb38a8b0947070,Dependency core = findCamelCoreDependency(project);,1,0,0.0,2188
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,2189
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(name);,1,0,0.0,2190
18a095c429860840b16cfbe760cb38a8b0947070,"name.setNote("""");",1,0,0.0,2191
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,2192
18a095c429860840b16cfbe760cb38a8b0947070,"name.setNote(description != null ? description : """");",1,0,0.0,2193
18a095c429860840b16cfbe760cb38a8b0947070,if (language != null) {,1,0,0.0,2194
18a095c429860840b16cfbe760cb38a8b0947070,LanguageDto language = (LanguageDto) event.getNewValue();,1,0,0.0,2195
18a095c429860840b16cfbe760cb38a8b0947070,public void valueChanged(ValueChangeEvent event) {,1,0,0.0,2196
18a095c429860840b16cfbe760cb38a8b0947070,name.addValueChangeListener(new ValueChangeListener() {,1,0,0.0,2197
18a095c429860840b16cfbe760cb38a8b0947070,// show note about the chosen language,1,0,0.0,2198
18a095c429860840b16cfbe760cb38a8b0947070,});,1,0,0.0,2199
18a095c429860840b16cfbe760cb38a8b0947070,"return createLanguageDto(getCamelCatalog(), text);",1,0,0.0,2200
18a095c429860840b16cfbe760cb38a8b0947070,public LanguageDto convert(String text) {,1,0,0.0,2201
18a095c429860840b16cfbe760cb38a8b0947070,"name.setValueConverter(new Converter<String, LanguageDto>() {",1,0,0.0,2202
18a095c429860840b16cfbe760cb38a8b0947070,// include converter from string->dto,1,0,0.0,2203
18a095c429860840b16cfbe760cb38a8b0947070,if (fileResource.exists()) {,1,0,0.0,2204
18a095c429860840b16cfbe760cb38a8b0947070,"return Results.fail(""Blueprint XML file "" + fullName + "" already exists"");",1,0,0.0,2205
18a095c429860840b16cfbe760cb38a8b0947070,Dependency core = findCamelCoreDependency(project);,1,0,0.0,2206
18a095c429860840b16cfbe760cb38a8b0947070,});,1,0,0.0,2207
18a095c429860840b16cfbe760cb38a8b0947070,targetPackage.addValidator(new PackageNameValidator());,1,0,0.0,2208
18a095c429860840b16cfbe760cb38a8b0947070,targetPackage.setCompleter(new PackageNameCompleter(facet));,1,0,0.0,2209
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setNote("""");",1,0,0.0,2210
18a095c429860840b16cfbe760cb38a8b0947070,} else {,1,0,0.0,2211
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setNote(description != null ? description : """");",1,0,0.0,2212
18a095c429860840b16cfbe760cb38a8b0947070,if (component != null) {,1,0,0.0,2213
18a095c429860840b16cfbe760cb38a8b0947070,public void valueChanged(ValueChangeEvent event) {,1,0,0.0,2214
18a095c429860840b16cfbe760cb38a8b0947070,componentName.addValueChangeListener(new ValueChangeListener() {,1,0,0.0,2215
18a095c429860840b16cfbe760cb38a8b0947070,"return createComponentDto(getCamelCatalog(), text);",1,0,0.0,2216
18a095c429860840b16cfbe760cb38a8b0947070,if (core == null) {,1,0,0.0,2217
18a095c429860840b16cfbe760cb38a8b0947070,public ComponentDto convert(String text) {,1,0,0.0,2218
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueConverter(new Converter<String, ComponentDto>() {",1,0,0.0,2219
18a095c429860840b16cfbe760cb38a8b0947070,// include converter from string->dto,1,0,0.0,2220
18a095c429860840b16cfbe760cb38a8b0947070,"componentName.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project, getCamelCatalog(), componentNameFilter, false));",1,0,0.0,2221
18a095c429860840b16cfbe760cb38a8b0947070,"componentNameFilter.setDefaultValue(""<all>"");",1,0,0.0,2222
18a095c429860840b16cfbe760cb38a8b0947070,"componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project, getCamelCatalog()));",1,0,0.0,2223
18a095c429860840b16cfbe760cb38a8b0947070,final JavaSourceFacet facet = project.getFacet(JavaSourceFacet.class);,1,0,0.0,2224
18a095c429860840b16cfbe760cb38a8b0947070,public void initializeUI(UIBuilder builder) throws Exception {,1,0,0.0,2225
18a095c429860840b16cfbe760cb38a8b0947070,targetPackage.getFacet(HintsFacet.class).setInputType(InputType.JAVA_PACKAGE_PICKER);,1,0,0.0,2226
18a095c429860840b16cfbe760cb38a8b0947070,className.addValidator(new ClassNameValidator(false));,1,0,0.0,2227
18a095c429860840b16cfbe760cb38a8b0947070,className.setDefaultValue(new Callable<String>() {,1,0,0.0,2228
18a095c429860840b16cfbe760cb38a8b0947070,return getDefaultProducerClassName();,1,0,0.0,2229
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,2230
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,2231
18a095c429860840b16cfbe760cb38a8b0947070,return null;,1,0,0.0,2232
18a095c429860840b16cfbe760cb38a8b0947070,"return Strings.capitalize(name) + ""ComponentProducer"";",1,0,0.0,2233
18a095c429860840b16cfbe760cb38a8b0947070,if (!Strings.isBlank(name)) {,1,0,0.0,2234
18a095c429860840b16cfbe760cb38a8b0947070,return Results.success();,1,0,0.0,2235
18a095c429860840b16cfbe760cb38a8b0947070,public Result execute(UIExecutionContext context) throws Exception {,1,0,0.0,2236
18a095c429860840b16cfbe760cb38a8b0947070,return Results.navigateTo(ConfigureComponentPropertiesStep.class);,1,0,0.0,2237
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""kind"", ""cdi"");",1,0,0.0,2238
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""className"", className.getValue());",1,0,0.0,2239
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""targetPackage"", targetPackage.getValue());",1,0,0.0,2240
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""instanceName"", instanceName.getValue());",1,0,0.0,2241
18a095c429860840b16cfbe760cb38a8b0947070,"attributeMap.put(""componentName"", componentName.getValue().getScheme());",1,0,0.0,2242
18a095c429860840b16cfbe760cb38a8b0947070,"Map<Object, Object> attributeMap = context.getUIContext().getAttributeMap();",1,0,0.0,2243
18a095c429860840b16cfbe760cb38a8b0947070,public NavigationResult next(UINavigationContext context) throws Exception {,1,0,0.0,2244
18a095c429860840b16cfbe760cb38a8b0947070,builder.add(componentNameFilter).add(componentName).add(instanceName).add(targetPackage).add(className);,1,0,0.0,2245
18a095c429860840b16cfbe760cb38a8b0947070,className.getFacet(HintsFacet.class).setInputType(InputType.JAVA_CLASS_PICKER);,1,0,0.0,2246
18a095c429860840b16cfbe760cb38a8b0947070,return false;,1,0,0.0,2247
18a095c429860840b16cfbe760cb38a8b0947070,return CamelCommandsHelper.isCdiProject(getSelectedProject(context));,1,0,0.0,2248
18a095c429860840b16cfbe760cb38a8b0947070,if (enabled) {,1,0,0.0,2249
18a095c429860840b16cfbe760cb38a8b0947070,"*  Unless required by applicable law or agreed to in writing, software",1,0,0.0,2250
18a095c429860840b16cfbe760cb38a8b0947070,*  with the License.  You may obtain a copy of the License at,1,0,0.0,2251
18a095c429860840b16cfbe760cb38a8b0947070,"*  2.0 (the ""License""); you may not use this file except in compliance",1,0,0.0,2252
18a095c429860840b16cfbe760cb38a8b0947070,"*  Red Hat licenses this file to you under the Apache License, version",1,0,0.0,2253
18a095c429860840b16cfbe760cb38a8b0947070,*,1,0,0.0,2254
18a095c429860840b16cfbe760cb38a8b0947070,"*  Copyright 2005-2015 Red Hat, Inc.",1,0,0.0,2255
18a095c429860840b16cfbe760cb38a8b0947070,/**,1,0,0.0,2256
18a095c429860840b16cfbe760cb38a8b0947070,fileResource.setContents(output);,1,0,0.0,2257
18a095c429860840b16cfbe760cb38a8b0947070,fileResource.createNewFile();,1,0,0.0,2258
18a095c429860840b16cfbe760cb38a8b0947070,"params.put(""projectName"", projectName);",1,0,0.0,2259
18a095c429860840b16cfbe760cb38a8b0947070,"Map<String, Object> params = new HashMap<String, Object>();",1,0,0.0,2260
18a095c429860840b16cfbe760cb38a8b0947070,// any dynamic options goes into the params map,1,0,0.0,2261
18a095c429860840b16cfbe760cb38a8b0947070,"Template template = factory.create(xml, FreemarkerTemplate.class);",1,0,0.0,2262
18a095c429860840b16cfbe760cb38a8b0947070,"Resource<URL> xml = resourceFactory.create(getClass().getResource(""/templates/camel-blueprint.ftl"")).reify(URLResource.class);",1,0,0.0,2263
18a095c429860840b16cfbe760cb38a8b0947070,"dependencyInstaller.install(project, spring);",1,0,0.0,2264
18a095c429860840b16cfbe760cb38a8b0947070,"if (!dependencyInstaller.isManaged(project, spring)) {",1,0,0.0,2265
18a095c429860840b16cfbe760cb38a8b0947070,// install camel-blueprint if missing,1,0,0.0,2266
18a095c429860840b16cfbe760cb38a8b0947070,".setArtifactId(""camel-blueprint"").setVersion(core.getCoordinate().getVersion());",1,0,0.0,2267
18a095c429860840b16cfbe760cb38a8b0947070,*     http://www.apache.org/licenses/LICENSE-2.0,1,0,0.0,2268
18a095c429860840b16cfbe760cb38a8b0947070,"*  distributed under the License is distributed on an ""AS IS"" BASIS,",1,0,0.0,2269
18a095c429860840b16cfbe760cb38a8b0947070,},1,0,0.0,2270
18a095c429860840b16cfbe760cb38a8b0947070,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or",1,0,0.0,2271
18a095c429860840b16cfbe760cb38a8b0947070,return Metadata.forCommand(CamelNewComponentInstanceCDICommand.class).name(,1,0,0.0,2272
18a095c429860840b16cfbe760cb38a8b0947070,public UICommandMetadata getMetadata(UIContext context) {,1,0,0.0,2273
18a095c429860840b16cfbe760cb38a8b0947070,@Override,1,0,0.0,2274
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyResolver dependencyResolver;,1,0,0.0,2275
18a095c429860840b16cfbe760cb38a8b0947070,private DependencyInstaller dependencyInstaller;,1,0,0.0,2276
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> className;,1,0,0.0,2277
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Class Name"", required = true, description = ""Name of @Producer class"")",1,0,0.0,2278
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> targetPackage;,1,0,0.0,2279
18a095c429860840b16cfbe760cb38a8b0947070,private UIInput<String> instanceName;,1,0,0.0,2280
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<ComponentDto> componentName;,1,0,0.0,2281
18a095c429860840b16cfbe760cb38a8b0947070,private UISelectOne<String> componentNameFilter;,1,0,0.0,2282
18a095c429860840b16cfbe760cb38a8b0947070,"@WithAttributes(label = ""Filter"", required = false, description = ""To filter components"")",1,0,0.0,2283
18a095c429860840b16cfbe760cb38a8b0947070,@Inject,1,0,0.0,2284
18a095c429860840b16cfbe760cb38a8b0947070,"@FacetConstraint({JavaSourceFacet.class, ResourcesFacet.class, ClassLoaderFacet.class})",1,0,0.0,2285
18a095c429860840b16cfbe760cb38a8b0947070,*/,1,0,0.0,2286
18a095c429860840b16cfbe760cb38a8b0947070,*  permissions and limitations under the License.,1,0,0.0,2287
18a095c429860840b16cfbe760cb38a8b0947070,*  implied.  See the License for the specific language governing,1,0,0.0,2288
18a095c429860840b16cfbe760cb38a8b0947070,return answer;,1,0,0.0,2289

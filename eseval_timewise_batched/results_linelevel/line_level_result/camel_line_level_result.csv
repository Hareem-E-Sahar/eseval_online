line,commit_id,count,line_level_label
"String ref = getAndRemoveParameter(parameters, ""idempotentRepositoryRef"", String.class);",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,2,1
"ref = getAndRemoveParameter(parameters, ""fileFilterRef"", String.class);",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,2,1
"ref = getAndRemoveParameter(parameters, ""sorterRef"", String.class);",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,2,1
"Comparator<File> sorter = mandatoryLookup(ref, Comparator.class);",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,2,1
"template.sendBodyAndHeader(fileUri(), ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,2,0
"template.sendBodyAndHeader(""file:target/data/filesorter/"", ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,2,1
import static org.apache.camel.util.ObjectHelper.isNotNullAndNonEmpty;,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,0
import java.io.FileFilter;,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
import org.apache.camel.spi.IdempotentRepository;,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
if (ref != null) {,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
"IdempotentRepository repository = mandatoryLookup(ref, IdempotentRepository.class);",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
},4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
// lookup file filter in registry if provided,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
"FileFilter filter = mandatoryLookup(ref, FileFilter.class);",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
// lookup sorter in registry if provided,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
"template.sendBodyAndHeader(fileUri(), ""Hello Paris"", Exchange.FILE_NAME, ""paris.txt"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,0
"template.sendBodyAndHeader(fileUri(), ""Hello Copenhagen"", Exchange.FILE_NAME, ""copenhagen.txt"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,0
import org.junit.jupiter.api.BeforeEach;,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
},4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"", ""Hello Paris"", Exchange.FILE_NAME, ""paris.txt"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"", ""Hello Copenhagen"", Exchange.FILE_NAME, ""copenhagen.txt"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,1,1
if (isNotNullAndNonEmpty(sortBy) && !isReferenceParameter(sortBy)) {,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,0
result.setSortBy(comparator);,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,0
// lookup idempotent repository in registry if provided,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
result.setIdempotentRepository(repository);,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
result.setFilter(filter);,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
result.setFileSorter(sorter);,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
if (sortBy != null) {,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
result.setExchangeSorter(comparator);,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
"private String fileUrl = ""file://target/filesorter/?sorter=#mySorter"";",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,0
"private String fileUrl = ""file://target/filesorter/?sorterRef=mySorter"";",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
"from(fileUri(""?initialDelay=0&delay=10&sorter=#mySorter"")).convertBodyTo(String.class).to(""mock:result"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,0
"private String fileUrl = ""file://target/data/filesorter/?initialDelay=0&delay=10&sorter=#mySorter"";",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
@Override,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
@BeforeEach,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
public void setUp() throws Exception {,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
"deleteDirectory(""target/data/filesorter"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
super.setUp();,4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
"from(fileUrl).convertBodyTo(String.class).to(""mock:result"");",4ef8b8962304f16061825f76a52c5cb6dcc6d29e,0,1
// lookup file filter in registry if provided,ff5c824476fbf30fd1394439e93a870f4b6e5411,4,1
// lookup sorter in registry if provided,ff5c824476fbf30fd1394439e93a870f4b6e5411,4,1
public void setSortBy(String expression) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,4,0
"public void setSortBy(String expression, boolean reverse) {",ff5c824476fbf30fd1394439e93a870f4b6e5411,4,0
public void setExchangeSorter(String expression) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,4,1
"public void setExchangeSorter(String expression, boolean reverse) {",ff5c824476fbf30fd1394439e93a870f4b6e5411,4,1
// lookup idempotent repository in registry if provided,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
"Comparator<File> sorter = mandatoryLookup(ref, Comparator.class);",ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
public Comparator<File> getSorter() {,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,0
public void setSorter(Comparator<File> sorter) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,0
public void setSortBy(Comparator<FileExchange> sortBy) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,0
public Comparator<File> getFileSorter() {,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
public void setFileSorter(Comparator<File> fileSorter) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
public void setExchangeSorter(Comparator<FileExchange> exchangeSorter) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
"private String fileUrl = ""file://target/data/filesorter/"";",ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
public void setUp() throws Exception {,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
"private String fileUrl = ""file://target/data/filesorter/"";",ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
public void setUp() throws Exception {,ff5c824476fbf30fd1394439e93a870f4b6e5411,3,1
if (isNotNullAndNonEmpty(sortBy) && !isReferenceParameter(sortBy)) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
"String ref = getAndRemoveParameter(parameters, ""idempotentRepositoryRef"", String.class);",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
if (ref != null) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
if (sortBy != null) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
protected void poll() throws Exception {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
if (endpoint.getSorter() != null) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
if (endpoint.getSortBy() != null) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
protected synchronized void poll() throws Exception {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
if (endpoint.getFileSorter() != null) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
if (endpoint.getExchangeSorter() != null) {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
private Comparator<File> sorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
public Comparator<FileExchange> getSortBy() {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
private Comparator<File> fileSorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
public Comparator<FileExchange> getExchangeSorter() {,ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Paris"", Exchange.FILE_NAME, ""paris.dat"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
"template.sendBodyAndHeader(fileUri(folder), ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Paris"", Exchange.FILE_NAME, ""paris.dat"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Paris"", Exchange.FILE_NAME, ""paris.txt"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
"template.sendBodyAndHeader(fileUri(folder), ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,0
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Paris"", Exchange.FILE_NAME, ""paris.txt"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,2,1
"IdempotentRepository repository = mandatoryLookup(ref, IdempotentRepository.class);",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
},ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"ref = getAndRemoveParameter(parameters, ""fileFilterRef"", String.class);",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"FileFilter filter = mandatoryLookup(ref, FileFilter.class);",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"ref = getAndRemoveParameter(parameters, ""sorterRef"", String.class);",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
private Comparator<FileExchange> sortBy;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
return sorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
this.sorter = sorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
return sortBy;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
this.sortBy = sortBy;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
"setSortBy(expression, false);",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
private Comparator<FileExchange> exchangeSorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
return fileSorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
this.fileSorter = fileSorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
return exchangeSorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
this.exchangeSorter = exchangeSorter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"setExchangeSorter(expression, false);",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Copenhagen"", Exchange.FILE_NAME,",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
},ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Copenhagen"", Exchange.FILE_NAME,",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Copenhagen"", Exchange.FILE_NAME,",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
"template.sendBodyAndHeader(fileUri(folder), ""Hello Dublin"", Exchange.FILE_NAME, ""dublin.txt"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,0
},ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Copenhagen"", Exchange.FILE_NAME,",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Dublin"", Exchange.FILE_NAME, ""dublin.txt"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,1,1
import static org.apache.camel.util.ObjectHelper.isNotNullAndNonEmpty;,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
result.setSortBy(comparator);,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
import java.io.FileFilter;,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
import org.apache.camel.spi.IdempotentRepository;,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
result.setIdempotentRepository(repository);,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
result.setFilter(filter);,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
result.setFileSorter(sorter);,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
result.setExchangeSorter(comparator);,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"Collections.sort(files, endpoint.getSorter());",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
"Collections.sort(exchanges, endpoint.getSortBy());",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
"Collections.sort(files, endpoint.getFileSorter());",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"Collections.sort(exchanges, endpoint.getExchangeSorter());",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"setSortBy(DefaultFileSorter.sortByFileLanguage(expression, reverse));",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
"setExchangeSorter(DefaultFileSorter.sortByFileLanguage(expression, reverse));",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"from(fileUri(""a/?initialDelay=0&delay=10&sortBy=file:ext"")).to(""mock:result"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
"from(fileUri(""b/?initialDelay=0&delay=10&sortBy=reverse:file:ext"")).convertBodyTo(String.class)",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
import org.junit.jupiter.api.BeforeEach;,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
@Override,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
@BeforeEach,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"deleteDirectory(""target/data/filesorter"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
super.setUp();,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"from(fileUrl + ""a/?initialDelay=0&delay=10&sortBy=file:ext"").to(""mock:result"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"from(fileUrl + ""b/?initialDelay=0&delay=10&sortBy=reverse:file:ext"").convertBodyTo(String.class)",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"from(fileUri(""a/?initialDelay=0&delay=10&sortBy=file:ext;file:name"")).convertBodyTo(String.class)",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
"from(fileUri(""b/?initialDelay=0&delay=10&sortBy=file:ext;reverse:file:name"")).convertBodyTo(String.class)",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,0
import org.junit.jupiter.api.BeforeEach;,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
@Override,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
@BeforeEach,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"deleteDirectory(""target/data/filesorter"");",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
super.setUp();,ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"from(fileUrl + ""a/?initialDelay=0&delay=10&sortBy=file:ext;file:name"").convertBodyTo(String.class)",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
"from(fileUrl + ""b/?initialDelay=0&delay=10&sortBy=file:ext;reverse:file:name"").convertBodyTo(String.class)",ff5c824476fbf30fd1394439e93a870f4b6e5411,0,1
if (ignoreCase && a instanceof String && b instanceof String) {,e7158c7e9fcfff63426401c798685df266d16f00,9,0
if (ignoreCase && a instanceof String && b instanceof String) {,e7158c7e9fcfff63426401c798685df266d16f00,9,1
* A helper method for performing an ordered comparison on the objects,e7158c7e9fcfff63426401c798685df266d16f00,6,0
} else if (collectionOrArray instanceof String && value instanceof String) {,e7158c7e9fcfff63426401c798685df266d16f00,6,0
* A helper method for performing an ordered comparison on the objects,e7158c7e9fcfff63426401c798685df266d16f00,6,1
} else if (collectionOrArray instanceof String && value instanceof String) {,e7158c7e9fcfff63426401c798685df266d16f00,6,1
// generic file is just a wrapper for the real file so call again with the real file,e7158c7e9fcfff63426401c798685df266d16f00,6,1
* the License.  You may obtain a copy of the License at,e7158c7e9fcfff63426401c798685df266d16f00,5,0
if (rightValue instanceof String && (!(leftValue instanceof String))) {,e7158c7e9fcfff63426401c798685df266d16f00,5,0
* A helper method to create a new instance of a type using the default,e7158c7e9fcfff63426401c798685df266d16f00,5,0
* handling nulls and objects which do not handle sorting gracefully,e7158c7e9fcfff63426401c798685df266d16f00,5,0
* @param a  the first object,e7158c7e9fcfff63426401c798685df266d16f00,5,0
* @param b  the second object,e7158c7e9fcfff63426401c798685df266d16f00,5,0
* @param ignoreCase  ignore case for string comparison,e7158c7e9fcfff63426401c798685df266d16f00,5,0
if (a instanceof Ordered && b instanceof Ordered) {,e7158c7e9fcfff63426401c798685df266d16f00,5,0
"* Creates an iterable over the value if the value is a collection, an",e7158c7e9fcfff63426401c798685df266d16f00,5,0
"* Creates an iterator over the value if the value is a collection, an",e7158c7e9fcfff63426401c798685df266d16f00,5,0
* Returns true if the collection contains the specified value by considering case insensitivity,e7158c7e9fcfff63426401c798685df266d16f00,5,0
if (rightValue instanceof String && (!(leftValue instanceof String))) {,e7158c7e9fcfff63426401c798685df266d16f00,5,1
* handling nulls and objects which do not handle sorting gracefully,e7158c7e9fcfff63426401c798685df266d16f00,5,1
* @param a  the first object,e7158c7e9fcfff63426401c798685df266d16f00,5,1
* @param b  the second object,e7158c7e9fcfff63426401c798685df266d16f00,5,1
* @param ignoreCase  ignore case for string comparison,e7158c7e9fcfff63426401c798685df266d16f00,5,1
if (a instanceof Ordered && b instanceof Ordered) {,e7158c7e9fcfff63426401c798685df266d16f00,5,1
* Returns true if the collection contains the specified value by considering case insensitivity,e7158c7e9fcfff63426401c798685df266d16f00,5,1
"* Creates an iterable over the value if the value is a collection, an",e7158c7e9fcfff63426401c798685df266d16f00,5,1
"* Creates an iterator over the value if the value is a collection, an",e7158c7e9fcfff63426401c798685df266d16f00,5,1
// use a scanner if it contains the delimiter or is a pattern,e7158c7e9fcfff63426401c798685df266d16f00,5,1
* A helper method to create a new instance of a type using the default,e7158c7e9fcfff63426401c798685df266d16f00,5,1
* See the License for the specific language governing permissions and,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* A helper method for comparing objects for equality in which it uses type coercion to coerce,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* a String and Integer type as Camel will be able to coerce the types.,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* A helper method for comparing objects for inequality in which it uses type coercion to coerce,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* A helper method for comparing objects ordering in which it uses type coercion to coerce,e7158c7e9fcfff63426401c798685df266d16f00,4,0
// if right is String and left is not then flip order (remember to * -1 the result then),e7158c7e9fcfff63426401c798685df266d16f00,4,0
* @param instance the object instance (or null for static methods),e7158c7e9fcfff63426401c798685df266d16f00,4,0
* @param parameters the parameters to the method,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* Calling the Callable with the setting of TCCL with the camel context application classloader.,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* Calling the Callable with the setting of TCCL with a given classloader.,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* we just create a singleton collection iterator over a single value,e7158c7e9fcfff63426401c798685df266d16f00,4,0
"* Object[], a String with values separated by the given delimiter,",e7158c7e9fcfff63426401c798685df266d16f00,4,0
"* code, we just create a singleton collection iterator over a single value",e7158c7e9fcfff63426401c798685df266d16f00,4,0
* over the corresponding Java primitive wrapper objects of the given elements,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* @param pattern           whether the delimiter is a pattern,e7158c7e9fcfff63426401c798685df266d16f00,4,0
"final boolean allowEmptyValues, final boolean pattern) {",e7158c7e9fcfff63426401c798685df266d16f00,4,0
* Returns true if the collection contains the specified value,e7158c7e9fcfff63426401c798685df266d16f00,4,0
if (collectionOrArray != null && (collectionOrArray instanceof StringBuffer || collectionOrArray instanceof StringBuilder)) {,e7158c7e9fcfff63426401c798685df266d16f00,4,0
if (value != null && (value instanceof StringBuffer || value instanceof StringBuilder)) {,e7158c7e9fcfff63426401c798685df266d16f00,4,0
* A helper method for comparing objects for equality in which it uses type coercion to coerce,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* a String and Integer type as Camel will be able to coerce the types.,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* A helper method for comparing objects for inequality in which it uses type coercion to coerce,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* A helper method for comparing objects ordering in which it uses type coercion to coerce,e7158c7e9fcfff63426401c798685df266d16f00,4,1
// if right is String and left is not then flip order (remember to * -1 the result then),e7158c7e9fcfff63426401c798685df266d16f00,4,1
* Returns true if the collection contains the specified value,e7158c7e9fcfff63426401c798685df266d16f00,4,1
if (collectionOrArray != null && (collectionOrArray instanceof StringBuffer || collectionOrArray instanceof StringBuilder)) {,e7158c7e9fcfff63426401c798685df266d16f00,4,1
if (value != null && (value instanceof StringBuffer || value instanceof StringBuilder)) {,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* we just create a singleton collection iterator over a single value,e7158c7e9fcfff63426401c798685df266d16f00,4,1
"* Object[], a String with values separated by the given delimiter,",e7158c7e9fcfff63426401c798685df266d16f00,4,1
"* code, we just create a singleton collection iterator over a single value",e7158c7e9fcfff63426401c798685df266d16f00,4,1
* over the corresponding Java primitive wrapper objects of the given elements,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* @param pattern           whether the delimiter is a pattern,e7158c7e9fcfff63426401c798685df266d16f00,4,1
"final boolean allowEmptyValues, final boolean pattern) {",e7158c7e9fcfff63426401c798685df266d16f00,4,1
"* @return the properties which holds the camel context properties with the prefix,",e7158c7e9fcfff63426401c798685df266d16f00,4,1
* @param instance the object instance (or null for static methods),e7158c7e9fcfff63426401c798685df266d16f00,4,1
* @param parameters the parameters to the method,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* Wraps the caused exception in a {@link RuntimeCamelException} if its not,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* Wraps the caused exception in a {@link CamelExecutionException} if its not,e7158c7e9fcfff63426401c798685df266d16f00,4,1
"* @param value     the value, typically the message IN body",e7158c7e9fcfff63426401c798685df266d16f00,4,1
* Calling the Callable with the setting of TCCL with the camel context application classloader.,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* Calling the Callable with the setting of TCCL with a given classloader.,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* Set the {@link CamelContext} context if the component is an instance of {@link CamelContextAware}.,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* Set the {@link Component} context if the component is an instance of {@link ComponentAware}.,e7158c7e9fcfff63426401c798685df266d16f00,4,1
* contributor license agreements.  See the NOTICE file distributed with,e7158c7e9fcfff63426401c798685df266d16f00,3,0
"* The ASF licenses this file to You under the Apache License, Version 2.0",e7158c7e9fcfff63426401c798685df266d16f00,3,0
"* distributed under the License is distributed on an ""AS IS"" BASIS,",e7158c7e9fcfff63426401c798685df266d16f00,3,0
"private static final String DEFAULT_DELIMITER = "","";",e7158c7e9fcfff63426401c798685df266d16f00,3,0
"// are they same type, if so return false as the equals returned false",e7158c7e9fcfff63426401c798685df266d16f00,3,0
// prefer to NOT coerce to String so use the type which is not String,e7158c7e9fcfff63426401c798685df266d16f00,3,0
// for example if we are comparing String vs Integer then prefer to coerce to Integer,e7158c7e9fcfff63426401c798685df266d16f00,3,0
// if they are both String then it doesn't matter,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param method the method to invoke,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @return the result of the method invocation,e7158c7e9fcfff63426401c798685df266d16f00,3,0
"public static int compare(Object a, Object b, boolean ignoreCase) {",e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param call the Callable instance,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param exchange the exchange,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @return the result of Callable return,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param call        the Callable instance,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param classloader the class loader,e7158c7e9fcfff63426401c798685df266d16f00,3,0
"* Object[], a String with values separated by comma,",e7158c7e9fcfff63426401c798685df266d16f00,3,0
"* or a primitive type array; otherwise to simplify the caller's code,",e7158c7e9fcfff63426401c798685df266d16f00,3,0
* Will default use comma for String separating String values.,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param value  the value,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* or a primitive type array; otherwise to simplify the caller's,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param value      the value,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param delimiter  delimiter for separating String values,e7158c7e9fcfff63426401c798685df266d16f00,3,0
"public static Iterable<String> createIterable(String value, String delimiter, boolean allowEmptyValues, boolean pattern) {",e7158c7e9fcfff63426401c798685df266d16f00,3,0
* </p> In case of primitive type arrays the returned {@code Iterator} iterates,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* inside the {@code value} array. That's we get an autoboxing of the primitive,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* types here for free as it's also the case in Java language itself.,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param value             the value,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* @param delimiter         delimiter for separating String values,e7158c7e9fcfff63426401c798685df266d16f00,3,0
* </p> In case of primitive type arrays the returned {@code Iterable} iterates,e7158c7e9fcfff63426401c798685df266d16f00,3,0
} else if (value instanceof String) {,e7158c7e9fcfff63426401c798685df266d16f00,3,0
final String s = (String) value;,e7158c7e9fcfff63426401c798685df266d16f00,3,0
"// this code is optimized to only use a Scanner if needed, eg there is a delimiter",e7158c7e9fcfff63426401c798685df266d16f00,3,0
// use a plain iterator that returns the value as is as there are only a single value,e7158c7e9fcfff63426401c798685df266d16f00,3,0
"private static final String DEFAULT_DELIMITER = "","";",e7158c7e9fcfff63426401c798685df266d16f00,3,1
"// are they same type, if so return false as the equals returned false",e7158c7e9fcfff63426401c798685df266d16f00,3,1
// prefer to NOT coerce to String so use the type which is not String,e7158c7e9fcfff63426401c798685df266d16f00,3,1
// for example if we are comparing String vs Integer then prefer to coerce to Integer,e7158c7e9fcfff63426401c798685df266d16f00,3,1
// if they are both String then it doesn't matter,e7158c7e9fcfff63426401c798685df266d16f00,3,1
"public static int compare(Object a, Object b, boolean ignoreCase) {",e7158c7e9fcfff63426401c798685df266d16f00,3,1
"* Object[], a String with values separated by comma,",e7158c7e9fcfff63426401c798685df266d16f00,3,1
"* or a primitive type array; otherwise to simplify the caller's code,",e7158c7e9fcfff63426401c798685df266d16f00,3,1
* Will default use comma for String separating String values.,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param value  the value,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* or a primitive type array; otherwise to simplify the caller's,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param value      the value,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param delimiter  delimiter for separating String values,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* </p> In case of primitive type arrays the returned {@code Iterator} iterates,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* inside the {@code value} array. That's we get an autoboxing of the primitive,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* types here for free as it's also the case in Java language itself.,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param value             the value,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param delimiter         delimiter for separating String values,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* </p> In case of primitive type arrays the returned {@code Iterable} iterates,e7158c7e9fcfff63426401c798685df266d16f00,3,1
} else if (value instanceof String) {,e7158c7e9fcfff63426401c798685df266d16f00,3,1
final String s = (String) value;,e7158c7e9fcfff63426401c798685df266d16f00,3,1
"// this code is optimized to only use a Scanner if needed, eg there is a delimiter",e7158c7e9fcfff63426401c798685df266d16f00,3,1
// use a plain iterator that returns the value as is as there are only a single value,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* A helper method to access a camel context properties with a prefix,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param prefix       the prefix,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param camelContext the camel context,e7158c7e9fcfff63426401c798685df266d16f00,3,1
*         and the key omit the prefix part,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param method the method to invoke,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @return the result of the method invocation,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param e the caused exception,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* Creates a {@link Scanner} for scanning the given value.,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param exchange  the current exchange,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param delimiter the delimiter pattern to use,e7158c7e9fcfff63426401c798685df266d16f00,3,1
// we have loaded the file content into the body so use that,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param call the Callable instance,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param exchange the exchange,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @return the result of Callable return,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param call        the Callable instance,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* @param classloader the class loader,e7158c7e9fcfff63426401c798685df266d16f00,3,1
* Licensed to the Apache Software Foundation (ASF) under one or more,e7158c7e9fcfff63426401c798685df266d16f00,2,0
"* (the ""License""); you may not use this file except in compliance with",e7158c7e9fcfff63426401c798685df266d16f00,2,0
* limitations under the License.,e7158c7e9fcfff63426401c798685df266d16f00,2,0
* Utility classes should not have a public constructor.,e7158c7e9fcfff63426401c798685df266d16f00,2,0
* types between the left and right values. This allows you test for equality for example with,e7158c7e9fcfff63426401c798685df266d16f00,2,0
"public static boolean typeCoerceEquals(TypeConverter converter, Object leftValue, Object rightValue, boolean ignoreCase) {",e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (leftValue == null && rightValue == null) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
"boolean answer = org.apache.camel.util.ObjectHelper.equal(leftValue, rightValue, ignoreCase);",e7158c7e9fcfff63426401c798685df266d16f00,2,0
* types between the left and right values.  This allows you test for inequality for example with,e7158c7e9fcfff63426401c798685df266d16f00,2,0
* types between the left and right values.  This allows you test for ordering for example with,e7158c7e9fcfff63426401c798685df266d16f00,2,0
// if both values is numeric then compare using numeric,e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (leftNum != null && rightNum != null) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (leftDouble != null && rightDouble != null) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
// as all types can be converted to String which does not work well for comparison,e7158c7e9fcfff63426401c798685df266d16f00,2,0
"// as eg ""10"" < 6 would return true, where as 10 < 6 will return false.",e7158c7e9fcfff63426401c798685df266d16f00,2,0
"return typeCoerceCompare(converter, rightValue, leftValue) * -1;",e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (rightValue instanceof Comparable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
return ((Comparable) rightValue).compareTo(value) * -1;,e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (leftValue instanceof Comparable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
* A helper method to invoke a method via reflection and wrap any exceptions,e7158c7e9fcfff63426401c798685df266d16f00,2,0
"public static int compare(Object a, Object b) {",e7158c7e9fcfff63426401c798685df266d16f00,2,0
return ((String) a).compareToIgnoreCase((String) b);,e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (a instanceof Comparable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (exchange != null && exchange.getContext() != null) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
* @return the iterable,e7158c7e9fcfff63426401c798685df266d16f00,2,0
"public static Iterable<String> createIterable(String value, String delimiter, boolean allowEmptyValues) {",e7158c7e9fcfff63426401c798685df266d16f00,2,0
} else if (delimiter != null && (pattern || value.contains(delimiter))) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
"// we use the default delimiter which is a comma, then cater for bean expressions with OGNL",e7158c7e9fcfff63426401c798685df266d16f00,2,0
"// if the value contains parentheses we need to balance those, to avoid iterating",e7158c7e9fcfff63426401c798685df266d16f00,2,0
"// in the middle of parentheses pair, so use this regular expression (a bit hard to read)",e7158c7e9fcfff63426401c798685df266d16f00,2,0
"// as well, eg if value = ""bean=foo?method=killer(a,b),bean=bar?method=great(a,b)""",e7158c7e9fcfff63426401c798685df266d16f00,2,0
* @return the iterator,e7158c7e9fcfff63426401c798685df266d16f00,2,0
* @param allowEmptyValues  whether to allow empty values,e7158c7e9fcfff63426401c798685df266d16f00,2,0
"public static Iterator<?> createIterator(Object value, String delimiter, boolean allowEmptyValues) {",e7158c7e9fcfff63426401c798685df266d16f00,2,0
"boolean allowEmptyValues, boolean pattern) {",e7158c7e9fcfff63426401c798685df266d16f00,2,0
final boolean allowEmptyValues) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
// if its a message than we want to iterate its body,e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (value instanceof Message) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
} else if (value instanceof Iterator) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
final Iterator<Object> iterator = (Iterator<Object>)value;,e7158c7e9fcfff63426401c798685df266d16f00,2,0
} else if (value instanceof Iterable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
final Object array = value;,e7158c7e9fcfff63426401c798685df266d16f00,2,0
} else if (value instanceof NodeList) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
final NodeList nodeList = (NodeList) value;,e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (delimiter != null && (pattern || s.contains(delimiter))) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
return idx == 0 && (allowEmptyValues || org.apache.camel.util.ObjectHelper.isNotEmpty(s));,e7158c7e9fcfff63426401c798685df266d16f00,2,0
if (collectionOrArray instanceof Collection) {,e7158c7e9fcfff63426401c798685df266d16f00,2,0
String str = (String)collectionOrArray;,e7158c7e9fcfff63426401c798685df266d16f00,2,0
String subStr = (String)value;,e7158c7e9fcfff63426401c798685df266d16f00,2,0
* types between the left and right values. This allows you test for equality for example with,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"public static boolean typeCoerceEquals(TypeConverter converter, Object leftValue, Object rightValue, boolean ignoreCase) {",e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (leftValue == null && rightValue == null) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"boolean answer = equal(leftValue, rightValue, ignoreCase);",e7158c7e9fcfff63426401c798685df266d16f00,2,1
* types between the left and right values.  This allows you test for inequality for example with,e7158c7e9fcfff63426401c798685df266d16f00,2,1
* types between the left and right values.  This allows you test for ordering for example with,e7158c7e9fcfff63426401c798685df266d16f00,2,1
// if both values is numeric then compare using numeric,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (leftNum != null && rightNum != null) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (leftDouble != null && rightDouble != null) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
// as all types can be converted to String which does not work well for comparison,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"// as eg ""10"" < 6 would return true, where as 10 < 6 will return false.",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"return typeCoerceCompare(converter, rightValue, leftValue) * -1;",e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (rightValue instanceof Comparable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
return ((Comparable) rightValue).compareTo(value) * -1;,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (leftValue instanceof Comparable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"public static int compare(Object a, Object b) {",e7158c7e9fcfff63426401c798685df266d16f00,2,1
return ((String) a).compareToIgnoreCase((String) b);,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (a instanceof Comparable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (collectionOrArray instanceof Collection) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
String str = (String)collectionOrArray;,e7158c7e9fcfff63426401c798685df266d16f00,2,1
String subStr = (String)value;,e7158c7e9fcfff63426401c798685df266d16f00,2,1
* @return the iterable,e7158c7e9fcfff63426401c798685df266d16f00,2,1
* @return the iterator,e7158c7e9fcfff63426401c798685df266d16f00,2,1
* @param allowEmptyValues  whether to allow empty values,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"public static Iterator<Object> createIterator(Object value, String delimiter, boolean allowEmptyValues) {",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"boolean allowEmptyValues, boolean pattern) {",e7158c7e9fcfff63426401c798685df266d16f00,2,1
final boolean allowEmptyValues) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
// if its a message than we want to iterate its body,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (value instanceof Message) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
} else if (value instanceof Iterator) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
final Iterator<Object> iterator = (Iterator<Object>)value;,e7158c7e9fcfff63426401c798685df266d16f00,2,1
} else if (value instanceof Iterable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
final Object array = value;,e7158c7e9fcfff63426401c798685df266d16f00,2,1
} else if (value instanceof NodeList) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
final NodeList nodeList = (NodeList) value;,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (delimiter != null && (pattern || s.contains(delimiter))) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"// we use the default delimiter which is a comma, then cater for bean expressions with OGNL",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"// if the value contains parentheses we need to balance those, to avoid iterating",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"// in the middle of parentheses pair, so use this regular expression (a bit hard to read)",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"// as well, eg if value = ""bean=foo?method=killer(a,b),bean=bar?method=great(a,b)""",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"final Scanner scanner = new Scanner((String) value, delimiter);",e7158c7e9fcfff63426401c798685df266d16f00,2,1
return idx == 0 && (allowEmptyValues || ObjectHelper.isNotEmpty(s));,e7158c7e9fcfff63426401c798685df266d16f00,2,1
String key = entry.getKey();,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (key != null && key.startsWith(prefix)) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
* A helper method to invoke a method via reflection and wrap any exceptions,e7158c7e9fcfff63426401c798685df266d16f00,2,1
* @return the wrapper exception,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (e instanceof RuntimeCamelException) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (e instanceof CamelExecutionException) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"* @return the scanner, is newer <tt>null</tt>",e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (value instanceof WrappedFile) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (value instanceof Readable) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"String charset = exchange.getProperty(Exchange.CHARSET_NAME, String.class);",e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (value instanceof File) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
} else if (value instanceof InputStream) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
} else if (value instanceof ReadableByteChannel) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"// value is not a suitable type, try to convert value to a string",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"String text = exchange.getContext().getTypeConverter().convertTo(String.class, exchange, value);",e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (exchange != null && exchange.getContext() != null) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (object instanceof CamelContextAware) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
if (object instanceof ComponentAware) {,e7158c7e9fcfff63426401c798685df266d16f00,2,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Paris"", Exchange.FILE_NAME, ""report-3.dat"");",e7158c7e9fcfff63426401c798685df266d16f00,2,0
"template.sendBodyAndHeader(fileUri(folder), ""Hello London"", Exchange.FILE_NAME, ""REPORT-2.txt"");",e7158c7e9fcfff63426401c798685df266d16f00,2,0
"private String fileUrl = ""file://target/data/filesorter/"";",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Paris"", Exchange.FILE_NAME, ""report-3.dat"");",e7158c7e9fcfff63426401c798685df266d16f00,2,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello London"", Exchange.FILE_NAME, ""REPORT-2.txt"");",e7158c7e9fcfff63426401c798685df266d16f00,2,1
* this work for additional information regarding copyright ownership.,e7158c7e9fcfff63426401c798685df266d16f00,1,0
*,e7158c7e9fcfff63426401c798685df266d16f00,1,0
*      http://www.apache.org/licenses/LICENSE-2.0,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"* Unless required by applicable law or agreed to in writing, software",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.",e7158c7e9fcfff63426401c798685df266d16f00,1,0
* A number of useful helper methods for working with Objects,e7158c7e9fcfff63426401c798685df266d16f00,1,0
public final class ObjectHelper {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static boolean typeCoerceEquals(TypeConverter converter, Object leftValue, Object rightValue) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return typeCoerceEquals(converter, leftValue, rightValue, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return true;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
} else if (leftValue == null || rightValue == null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return false;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (answer) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (leftValue.getClass().isInstance(rightValue)) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"Object value = converter.tryConvertTo(rightValue.getClass(), leftValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"answer = org.apache.camel.util.ObjectHelper.equal(value, rightValue, ignoreCase);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"value = converter.tryConvertTo(leftValue.getClass(), rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"answer = org.apache.camel.util.ObjectHelper.equal(leftValue, value, ignoreCase);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return answer;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static boolean typeCoerceNotEquals(TypeConverter converter, Object leftValue, Object rightValue) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return !typeCoerceEquals(converter, leftValue, rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"Long leftNum = converter.tryConvertTo(Long.class, leftValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"Long rightNum = converter.tryConvertTo(Long.class, rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return leftNum.compareTo(rightNum);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"Double leftDouble = converter.tryConvertTo(Double.class, leftValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"Double rightDouble = converter.tryConvertTo(Double.class, rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return leftDouble.compareTo(rightDouble);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
// prefer to coerce to the right hand side at first,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (value != null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
// then fallback to the left hand side,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"Object value = converter.tryConvertTo(leftValue.getClass(), rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return ((Comparable) leftValue).compareTo(value);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
// use regular compare,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return compare(leftValue, rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
* as {@link RuntimeCamelException} instances,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return method.invoke(instance, parameters);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
* constructor arguments.,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return type.newInstance();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
Object value = actualType.newInstance();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return org.apache.camel.util.ObjectHelper.cast(expectedType, value);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return compare(a, b, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (a == b) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return 0;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (a == null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return -1;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (b == null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return 1;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return ((Ordered) a).getOrder() - ((Ordered) b).getOrder();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
Comparable comparable = (Comparable)a;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return comparable.compareTo(b);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
int answer = a.getClass().getName().compareTo(b.getClass().getName());,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (answer == 0) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
answer = a.hashCode() - b.hashCode();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
ClassLoader apcl = null;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
apcl = exchange.getContext().getApplicationContextClassLoader();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return callWithTCCL(call, apcl);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
ClassLoader tccl = Thread.currentThread().getContextClassLoader();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (classloader != null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return call.call();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (tccl != null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
* <p/>,e7158c7e9fcfff63426401c798685df266d16f00,1,0
* This method does <b>not</b> allow empty values,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return createIterable(value, DEFAULT_DELIMITER);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static Iterable<?> createIterable(Object value, String delimiter) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return createIterable(value, delimiter, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static Iterable<String> createIterable(String value, String delimiter) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return createIterable(value, delimiter, allowEmptyValues, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (value == null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return Collections.emptyList();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
String del;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (DEFAULT_DELIMITER.equals(delimiter)) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"// the regexp will split by comma, but honor parentheses pair that may include commas",e7158c7e9fcfff63426401c798685df266d16f00,1,0
// then the regexp will split that into two:,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"del = "",(?!(?:[^\\(,]|[^\\)],[^\\)])+\\))"";",e7158c7e9fcfff63426401c798685df266d16f00,1,0
del = delimiter;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return () -> new Scanner(value, del);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
} else if (allowEmptyValues || org.apache.camel.util.ObjectHelper.isNotEmpty(value)) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return Collections.singletonList(value);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return createIterator(value, DEFAULT_DELIMITER);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static Iterator<?> createIterator(Object value, String delimiter) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return createIterator(value, delimiter, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return createIterable(value, delimiter, allowEmptyValues, false).iterator();",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static Iterator<?> createIterator(Object value, String delimiter,",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return createIterable(value, delimiter, allowEmptyValues, pattern).iterator();",e7158c7e9fcfff63426401c798685df266d16f00,1,0
* @see Iterable,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static Iterable<?> createIterable(Object value, String delimiter,",e7158c7e9fcfff63426401c798685df266d16f00,1,0
value = ((Message) value).getBody();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return new Iterable<Object>() {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return iterator;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return (Iterable<Object>)value;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
} else if (value.getClass().isArray()) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (org.apache.camel.util.ObjectHelper.isPrimitiveArrayType(value.getClass())) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return (Iterable<Object>) () -> new Iterator<Object>() {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
public boolean hasNext() {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return idx < Array.getLength(array);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (!hasNext()) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"throw new NoSuchElementException(""no more element available for '"" + array + ""' at the index "" + idx);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return Array.get(array, idx++);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return Arrays.asList((Object[]) value);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
// lets iterate through DOM results after performing XPaths,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return (Iterable<Node>) () -> new Iterator<Node>() {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return idx < nodeList.getLength();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"throw new NoSuchElementException(""no more element available for '"" + nodeList + ""' at the index "" + idx);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return nodeList.item(idx++);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return (Iterable<String>) () -> new Scanner(s, del);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return (Iterable<Object>) () -> {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return new Iterator<Object>() {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"throw new NoSuchElementException(""no more element available for '"" + s + ""' at the index "" + idx);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
return s;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static boolean contains(Object collectionOrArray, Object value) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
// favor String types,e7158c7e9fcfff63426401c798685df266d16f00,1,0
collectionOrArray = collectionOrArray.toString();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
value = value.toString();,e7158c7e9fcfff63426401c798685df266d16f00,1,0
Collection<?> collection = (Collection<?>)collectionOrArray;,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return collection.contains(value);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
return str.contains(subStr);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
Iterator<?> iter = createIterator(collectionOrArray);,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"if (org.apache.camel.util.ObjectHelper.equal(value, iter.next())) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static boolean containsIgnoreCase(Object collectionOrArray, Object value) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"return StringHelper.containsIgnoreCase(str, subStr);",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"if (org.apache.camel.util.ObjectHelper.equalIgnoreCase(value, iter.next())) {",e7158c7e9fcfff63426401c798685df266d16f00,1,0
if (org.apache.camel.util.ObjectHelper.isEmpty(name)) {,e7158c7e9fcfff63426401c798685df266d16f00,1,0
"public static boolean typeCoerceEquals(TypeConverter converter, Object leftValue, Object rightValue) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return typeCoerceEquals(converter, leftValue, rightValue, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return true;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
} else if (leftValue == null || rightValue == null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return false;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (answer) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (leftValue.getClass().isInstance(rightValue)) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"Object value = converter.tryConvertTo(rightValue.getClass(), leftValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"answer = equal(value, rightValue, ignoreCase);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"value = converter.tryConvertTo(leftValue.getClass(), rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"answer = equal(leftValue, value, ignoreCase);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return answer;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"public static boolean typeCoerceNotEquals(TypeConverter converter, Object leftValue, Object rightValue) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return !typeCoerceEquals(converter, leftValue, rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"Long leftNum = converter.tryConvertTo(Long.class, leftValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"Long rightNum = converter.tryConvertTo(Long.class, rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return leftNum.compareTo(rightNum);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"Double leftDouble = converter.tryConvertTo(Double.class, leftValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"Double rightDouble = converter.tryConvertTo(Double.class, rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return leftDouble.compareTo(rightDouble);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
// prefer to coerce to the right hand side at first,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (value != null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
// then fallback to the left hand side,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"Object value = converter.tryConvertTo(leftValue.getClass(), rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return ((Comparable) leftValue).compareTo(value);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
// use regular compare,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return compare(leftValue, rightValue);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return compare(a, b, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
*,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (a == b) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return 0;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (a == null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return -1;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (b == null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return 1;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return ((Ordered) a).getOrder() - ((Ordered) b).getOrder();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
Comparable comparable = (Comparable)a;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return comparable.compareTo(b);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
int answer = a.getClass().getName().compareTo(b.getClass().getName());,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (answer == 0) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
answer = a.hashCode() - b.hashCode();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"public static boolean contains(Object collectionOrArray, Object value) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
// favor String types,e7158c7e9fcfff63426401c798685df266d16f00,1,1
collectionOrArray = collectionOrArray.toString();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
value = value.toString();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
Collection<?> collection = (Collection<?>)collectionOrArray;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return collection.contains(value);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return str.contains(subStr);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
Iterator<Object> iter = createIterator(collectionOrArray);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"if (equal(value, iter.next())) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"public static boolean containsIgnoreCase(Object collectionOrArray, Object value) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return StringHelper.containsIgnoreCase(str, subStr);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"if (equalIgnoreCase(value, iter.next())) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
* <p/>,e7158c7e9fcfff63426401c798685df266d16f00,1,1
* This method does <b>not</b> allow empty values,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return createIterable(value, DEFAULT_DELIMITER);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"public static Iterable<Object> createIterable(Object value, String delimiter) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return createIterable(value, delimiter, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return createIterator(value, DEFAULT_DELIMITER);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"public static Iterator<Object> createIterator(Object value, String delimiter) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return createIterator(value, delimiter, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return createIterable(value, delimiter, allowEmptyValues, false).iterator();",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"public static Iterator<Object> createIterator(Object value, String delimiter,",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return createIterable(value, delimiter, allowEmptyValues, pattern).iterator();",e7158c7e9fcfff63426401c798685df266d16f00,1,1
* @see java.lang.Iterable,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"public static Iterable<Object> createIterable(Object value, String delimiter,",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return createIterable(value, delimiter, allowEmptyValues, false);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
value = ((Message) value).getBody();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (value == null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return Collections.emptyList();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return new Iterable<Object>() {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return iterator;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return (Iterable<Object>)value;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
} else if (value.getClass().isArray()) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (isPrimitiveArrayType(value.getClass())) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return new Iterator<Object>() {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
public boolean hasNext() {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return idx < Array.getLength(array);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (!hasNext()) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"throw new NoSuchElementException(""no more element available for '"" + array + ""' at the index "" + idx);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return Array.get(array, idx++);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return Arrays.asList((Object[]) value);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
// lets iterate through DOM results after performing XPaths,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return idx < nodeList.getLength();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"throw new NoSuchElementException(""no more element available for '"" + nodeList + ""' at the index "" + idx);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return nodeList.item(idx++);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (DEFAULT_DELIMITER.equals(delimiter)) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"// the regexp will split by comma, but honor parentheses pair that may include commas",e7158c7e9fcfff63426401c798685df266d16f00,1,1
// then the regexp will split that into two:,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"delimiter = "",(?!(?:[^\\(,]|[^\\)],[^\\)])+\\))"";",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return CastUtils.cast(scanner);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"throw new NoSuchElementException(""no more element available for '"" + s + ""' at the index "" + idx);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return s;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return Collections.singletonList(value);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
Properties answer = new Properties();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"Map<String, String> camelProperties = camelContext.getGlobalOptions();",e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (camelProperties != null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"for (Map.Entry<String, String> entry : camelProperties.entrySet()) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (ObjectHelper.isEmpty(name)) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
* as {@link RuntimeCamelException} instances,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return method.invoke(instance, parameters);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
* constructor arguments.,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return type.newInstance();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
Object value = actualType.newInstance();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return cast(expectedType, value);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
* already such an exception.,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return (RuntimeCamelException)e;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return new RuntimeCamelException(e);,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return (CamelExecutionException)e;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return new CamelExecutionException(""Exception occurred during execution"", exchange, e);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"public static Scanner getScanner(Exchange exchange, Object value, String delimiter) {",e7158c7e9fcfff63426401c798685df266d16f00,1,1
WrappedFile<?> gf = (WrappedFile<?>) value;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
Object body = gf.getBody();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (body != null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
value = body;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return getScanner(exchange, gf.getFile(), delimiter);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"scanner = new Scanner((Readable) value, delimiter);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"scanner = new Scanner((String) value, delimiter);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"scanner = new Scanner((File) value, charset, delimiter);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"scanner = new Scanner((InputStream) value, charset, delimiter);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"scanner = new Scanner((ReadableByteChannel) value, charset, delimiter);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
"scanner = new Scanner(text, delimiter);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
return scanner;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
ClassLoader apcl = null;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
apcl = exchange.getContext().getApplicationContextClassLoader();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"return callWithTCCL(call, apcl);",e7158c7e9fcfff63426401c798685df266d16f00,1,1
ClassLoader tccl = Thread.currentThread().getContextClassLoader();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (classloader != null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return call.call();,e7158c7e9fcfff63426401c798685df266d16f00,1,1
if (tccl != null) {,e7158c7e9fcfff63426401c798685df266d16f00,1,1
return object;,e7158c7e9fcfff63426401c798685df266d16f00,1,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Copenhagen"", Exchange.FILE_NAME,",e7158c7e9fcfff63426401c798685df266d16f00,1,0
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Copenhagen"", Exchange.FILE_NAME,",e7158c7e9fcfff63426401c798685df266d16f00,1,1
/**,e7158c7e9fcfff63426401c798685df266d16f00,0,0
*/,e7158c7e9fcfff63426401c798685df266d16f00,0,0
package org.apache.camel.support;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.lang.reflect.Array;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.lang.reflect.InvocationTargetException;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.lang.reflect.Method;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.util.Arrays;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.util.Collection;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.util.Collections;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.util.Iterator;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.util.NoSuchElementException;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.util.concurrent.Callable;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.w3c.dom.Node;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.w3c.dom.NodeList;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.apache.camel.Exchange;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.apache.camel.Message;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.apache.camel.Ordered;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.apache.camel.RuntimeCamelException;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.apache.camel.TypeConverter;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.apache.camel.util.Scanner;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.apache.camel.util.StringHelper;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
private ObjectHelper() {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
},e7158c7e9fcfff63426401c798685df266d16f00,0,0
// sanity check,e7158c7e9fcfff63426401c798685df266d16f00,0,0
// they are equal,e7158c7e9fcfff63426401c798685df266d16f00,0,0
// only one of them is null so they are not equal,e7158c7e9fcfff63426401c798685df266d16f00,0,0
// try without type coerce,e7158c7e9fcfff63426401c798685df266d16f00,0,0
// convert left to right,e7158c7e9fcfff63426401c798685df266d16f00,0,0
// convert right to left,e7158c7e9fcfff63426401c798685df266d16f00,0,0
"@SuppressWarnings({""unchecked"", ""rawtypes""})",e7158c7e9fcfff63426401c798685df266d16f00,0,0
"public static int typeCoerceCompare(TypeConverter converter, Object leftValue, Object rightValue) {",e7158c7e9fcfff63426401c798685df266d16f00,0,0
// also try with floating point numbers,e7158c7e9fcfff63426401c798685df266d16f00,0,0
"public static Object invokeMethod(Method method, Object instance, Object... parameters) {",e7158c7e9fcfff63426401c798685df266d16f00,0,0
try {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
} catch (IllegalAccessException e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
throw new RuntimeCamelException(e);,e7158c7e9fcfff63426401c798685df266d16f00,0,0
} catch (InvocationTargetException e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
throw RuntimeCamelException.wrapRuntimeCamelException(e.getCause());,e7158c7e9fcfff63426401c798685df266d16f00,0,0
public static <T> T newInstance(Class<T> type) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
} catch (InstantiationException | IllegalAccessException e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
"public static <T> T newInstance(Class<?> actualType, Class<T> expectedType) {",e7158c7e9fcfff63426401c798685df266d16f00,0,0
} catch (InstantiationException e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
"public static Object callWithTCCL(Callable<?> call, Exchange exchange) throws Exception {",e7158c7e9fcfff63426401c798685df266d16f00,0,0
"public static Object callWithTCCL(Callable<?> call, ClassLoader classloader) throws Exception {",e7158c7e9fcfff63426401c798685df266d16f00,0,0
Thread.currentThread().setContextClassLoader(classloader);,e7158c7e9fcfff63426401c798685df266d16f00,0,0
} finally {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
Thread.currentThread().setContextClassLoader(tccl);,e7158c7e9fcfff63426401c798685df266d16f00,0,0
public static Iterable<?> createIterable(Object value) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
public static Iterable<String> createIterable(String value) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
// which may have balanced parentheses pairs as well.,e7158c7e9fcfff63426401c798685df266d16f00,0,0
"// -> bean=foo?method=killer(a,b)",e7158c7e9fcfff63426401c798685df266d16f00,0,0
"// -> bean=bar?method=great(a,b)",e7158c7e9fcfff63426401c798685df266d16f00,0,0
// http://stackoverflow.com/questions/1516090/splitting-a-title-into-separate-parts,e7158c7e9fcfff63426401c798685df266d16f00,0,0
} else {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
public static Iterator<?> createIterator(Object value) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
"@SuppressWarnings(""unchecked"")",e7158c7e9fcfff63426401c798685df266d16f00,0,0
@Override,e7158c7e9fcfff63426401c798685df266d16f00,0,0
public Iterator<Object> iterator() {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
};,e7158c7e9fcfff63426401c798685df266d16f00,0,0
private int idx;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
public Object next() {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
public void remove() {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
throw new UnsupportedOperationException();,e7158c7e9fcfff63426401c798685df266d16f00,0,0
public Node next() {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
idx++;,e7158c7e9fcfff63426401c798685df266d16f00,0,0
while (iter.hasNext()) {,e7158c7e9fcfff63426401c798685df266d16f00,0,0
"org.apache.camel.util.ObjectHelper.notNull(supplier, ""Supplier"");",e7158c7e9fcfff63426401c798685df266d16f00,0,0
import java.io.File;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import java.lang.reflect.Array;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import java.lang.reflect.InvocationTargetException;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import java.nio.channels.ReadableByteChannel;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import java.util.NoSuchElementException;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import java.util.Properties;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import java.util.concurrent.Callable;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.CamelContext;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.CamelContextAware;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.CamelExecutionException;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.Component;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.ComponentAware;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.Exchange;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.Message;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.Ordered;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.RuntimeCamelException;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.TypeConverter;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
import org.apache.camel.WrappedFile;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
/**,e7158c7e9fcfff63426401c798685df266d16f00,0,1
*/,e7158c7e9fcfff63426401c798685df266d16f00,0,1
},e7158c7e9fcfff63426401c798685df266d16f00,0,1
// sanity check,e7158c7e9fcfff63426401c798685df266d16f00,0,1
// they are equal,e7158c7e9fcfff63426401c798685df266d16f00,0,1
// only one of them is null so they are not equal,e7158c7e9fcfff63426401c798685df266d16f00,0,1
// try without type coerce,e7158c7e9fcfff63426401c798685df266d16f00,0,1
// convert left to right,e7158c7e9fcfff63426401c798685df266d16f00,0,1
// convert right to left,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"@SuppressWarnings({""unchecked"", ""rawtypes""})",e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static int typeCoerceCompare(TypeConverter converter, Object leftValue, Object rightValue) {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
// also try with floating point numbers,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"ObjectHelper.notNull(supplier, ""Supplier"");",e7158c7e9fcfff63426401c798685df266d16f00,0,1
} else {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
while (iter.hasNext()) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
public static Iterable<Object> createIterable(Object value) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
public static Iterator<Object> createIterator(Object value) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"@SuppressWarnings(""unchecked"")",e7158c7e9fcfff63426401c798685df266d16f00,0,1
@Override,e7158c7e9fcfff63426401c798685df266d16f00,0,1
public Iterator<Object> iterator() {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
};,e7158c7e9fcfff63426401c798685df266d16f00,0,1
private int idx;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
public Object next() {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
public void remove() {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
throw new UnsupportedOperationException();,e7158c7e9fcfff63426401c798685df266d16f00,0,1
// which may have balanced parentheses pairs as well.,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"// -> bean=foo?method=killer(a,b)",e7158c7e9fcfff63426401c798685df266d16f00,0,1
"// -> bean=bar?method=great(a,b)",e7158c7e9fcfff63426401c798685df266d16f00,0,1
// http://stackoverflow.com/questions/1516090/splitting-a-title-into-separate-parts,e7158c7e9fcfff63426401c798685df266d16f00,0,1
idx++;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static Properties getCamelPropertiesWithPrefix(String prefix, CamelContext camelContext) {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
"answer.put(key.substring(prefix.length()), entry.getValue());",e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static Object invokeMethod(Method method, Object instance, Object... parameters) {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
try {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
} catch (IllegalAccessException e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
throw new RuntimeCamelException(e);,e7158c7e9fcfff63426401c798685df266d16f00,0,1
} catch (InvocationTargetException e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
throw ObjectHelper.wrapRuntimeCamelException(e.getCause());,e7158c7e9fcfff63426401c798685df266d16f00,0,1
public static <T> T newInstance(Class<T> type) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
} catch (InstantiationException e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static <T> T newInstance(Class<?> actualType, Class<T> expectedType) {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
public static RuntimeCamelException wrapRuntimeCamelException(Throwable e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
// don't double wrap,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static CamelExecutionException wrapCamelExecutionException(Exchange exchange, Throwable e) {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
Scanner scanner;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
} catch (IOException e) {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static Object callWithTCCL(Callable<?> call, Exchange exchange) throws Exception {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static Object callWithTCCL(Callable<?> call, ClassLoader classloader) throws Exception {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
Thread.currentThread().setContextClassLoader(classloader);,e7158c7e9fcfff63426401c798685df266d16f00,0,1
} finally {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
Thread.currentThread().setContextClassLoader(tccl);,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static <T> T trySetCamelContext(T object, CamelContext camelContext) {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
((CamelContextAware) object).setCamelContext(camelContext);,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"public static <T> T trySetComponent(T object, Component component) {",e7158c7e9fcfff63426401c798685df266d16f00,0,1
((ComponentAware) object).setComponent(component);,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"from(fileUri(""a/?sortBy=file:name&initialDelay=250&delay=1000"")).convertBodyTo(String.class).to(""mock:result"");",e7158c7e9fcfff63426401c798685df266d16f00,0,0
"from(fileUri(""b/?initialDelay=0&delay=10&sortBy=ignoreCase:file:name"")).convertBodyTo(String.class)",e7158c7e9fcfff63426401c798685df266d16f00,0,0
"from(fileUri(""c/?initialDelay=0&delay=10&sortBy=reverse:ignoreCase:file:name"")).convertBodyTo(String.class)",e7158c7e9fcfff63426401c798685df266d16f00,0,0
import org.junit.jupiter.api.BeforeEach;,e7158c7e9fcfff63426401c798685df266d16f00,0,1
@Override,e7158c7e9fcfff63426401c798685df266d16f00,0,1
@BeforeEach,e7158c7e9fcfff63426401c798685df266d16f00,0,1
public void setUp() throws Exception {,e7158c7e9fcfff63426401c798685df266d16f00,0,1
"deleteDirectory(""target/data/filesorter"");",e7158c7e9fcfff63426401c798685df266d16f00,0,1
super.setUp();,e7158c7e9fcfff63426401c798685df266d16f00,0,1
},e7158c7e9fcfff63426401c798685df266d16f00,0,1
"from(fileUrl + ""a/?sortBy=file:name&initialDelay=250&delay=1000"").convertBodyTo(String.class).to(""mock:result"");",e7158c7e9fcfff63426401c798685df266d16f00,0,1
"from(fileUrl + ""b/?initialDelay=0&delay=10&sortBy=ignoreCase:file:name"").convertBodyTo(String.class)",e7158c7e9fcfff63426401c798685df266d16f00,0,1
"from(fileUrl + ""c/?initialDelay=0&delay=10&sortBy=reverse:ignoreCase:file:name"").convertBodyTo(String.class)",e7158c7e9fcfff63426401c798685df266d16f00,0,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Paris"", Exchange.FILE_NAME, ""paris.dat"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,3,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,3,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Paris"", Exchange.FILE_NAME, ""report-3.dat"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,3,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello London"", Exchange.FILE_NAME, ""REPORT-2.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,3,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Paris"", Exchange.FILE_NAME, ""paris.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,3,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,3,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Paris"", Exchange.FILE_NAME, ""paris.dat"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,0
"template.sendBodyAndHeader(fileUri(folder), ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,0
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Copenhagen"", Exchange.FILE_NAME,",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Paris"", Exchange.FILE_NAME, ""report-3.dat"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,0
"template.sendBodyAndHeader(fileUri(folder), ""Hello London"", Exchange.FILE_NAME, ""REPORT-2.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,0
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Copenhagen"", Exchange.FILE_NAME,",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Paris"", Exchange.FILE_NAME, ""paris.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,0
"template.sendBodyAndHeader(fileUri(folder), ""Hello London"", Exchange.FILE_NAME, ""london.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,0
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Copenhagen"", Exchange.FILE_NAME,",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,1
"template.sendBodyAndHeader(""file:target/data/filesorter/"" + folder, ""Hello Dublin"", Exchange.FILE_NAME, ""dublin.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,2,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Copenhagen"", Exchange.FILE_NAME,",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,0
"from(fileUrl + ""a/?initialDelay=0&delay=10&sortBy=file:ext"").to(""mock:result"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,1
"from(fileUrl + ""b/?initialDelay=0&delay=10&sortBy=reverse:file:ext"").convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Copenhagen"", Exchange.FILE_NAME,",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,0
"from(fileUrl + ""a/?sortBy=file:name&initialDelay=250&delay=1000"").convertBodyTo(String.class).to(""mock:result"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,1
"from(fileUrl + ""b/?initialDelay=0&delay=10&sortBy=ignoreCase:file:name"").convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,1
"from(fileUrl + ""c/?initialDelay=0&delay=10&sortBy=reverse:ignoreCase:file:name"").convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,1
"template.sendBodyAndHeader(fileUri(folder), ""Hello Copenhagen"", Exchange.FILE_NAME,",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,0
"template.sendBodyAndHeader(fileUri(folder), ""Hello Dublin"", Exchange.FILE_NAME, ""dublin.txt"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,0
"from(fileUrl + ""a/?initialDelay=0&delay=10&sortBy=file:ext;file:name"").convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,1
"from(fileUrl + ""b/?initialDelay=0&delay=10&sortBy=file:ext;reverse:file:name"").convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,1,1
"from(fileUri(""a/?initialDelay=0&delay=10&sortBy=file:ext"")).to(""mock:result"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,0
"from(fileUri(""b/?initialDelay=0&delay=10&sortBy=reverse:file:ext"")).convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,0
import org.junit.jupiter.api.BeforeEach;,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"private String fileUrl = ""file://target/data/filesorter/"";",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
@Override,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
@BeforeEach,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
public void setUp() throws Exception {,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"deleteDirectory(""target/data/filesorter"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
super.setUp();,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
},0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"from(fileUri(""a/?sortBy=file:name&initialDelay=250&delay=1000"")).convertBodyTo(String.class).to(""mock:result"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,0
"from(fileUri(""b/?initialDelay=0&delay=10&sortBy=ignoreCase:file:name"")).convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,0
"from(fileUri(""c/?initialDelay=0&delay=10&sortBy=reverse:ignoreCase:file:name"")).convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,0
import org.junit.jupiter.api.BeforeEach;,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"private String fileUrl = ""file://target/data/filesorter/"";",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
@Override,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
@BeforeEach,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
public void setUp() throws Exception {,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"deleteDirectory(""target/data/filesorter"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
super.setUp();,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
},0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"from(fileUri(""a/?initialDelay=0&delay=10&sortBy=file:ext;file:name"")).convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,0
"from(fileUri(""b/?initialDelay=0&delay=10&sortBy=file:ext;reverse:file:name"")).convertBodyTo(String.class)",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,0
import org.junit.jupiter.api.BeforeEach;,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"private String fileUrl = ""file://target/data/filesorter/"";",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
@Override,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
@BeforeEach,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
public void setUp() throws Exception {,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"deleteDirectory(""target/data/filesorter"");",0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
super.setUp();,0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
},0891b2303a88ec8fab2be7af0a0f13b49e803f22,0,1
"* Camel uses <a href=""https://rome.dev.java.net/"">ROME</a> as the RSS implementation.",ca32eef3093410fd17903c001dc214784b00affc,3,0
"* Camel uses <a href=""https://rome.dev.java.net/"">ROME</a> as the RSS implementation.",ca32eef3093410fd17903c001dc214784b00affc,3,1
"protected void afterConfiguration(String uri, String remaining, Endpoint endpoint, Map<String, Object> parameters) throws Exception {",ca32eef3093410fd17903c001dc214784b00affc,3,1
throws Exception {,ca32eef3093410fd17903c001dc214784b00affc,2,0
import org.apache.camel.support.jndi.JndiContext;,ca32eef3093410fd17903c001dc214784b00affc,1,0
import org.apache.camel.util.jndi.JndiContext;,ca32eef3093410fd17903c001dc214784b00affc,1,1
"protected void afterConfiguration(String uri, String remaining, Endpoint endpoint, Map<String, Object> parameters)",ca32eef3093410fd17903c001dc214784b00affc,1,0
},ca32eef3093410fd17903c001dc214784b00affc,1,0
},ca32eef3093410fd17903c001dc214784b00affc,1,1
"from(""rss:file:src/test/data/rss20.xml?splitEntries=true&delay=100"").filter().method(""myBean"", ""isAfterDate"")",ca32eef3093410fd17903c001dc214784b00affc,0,0
".to(""mock:result"");",ca32eef3093410fd17903c001dc214784b00affc,0,0
"from(""rss:file:src/test/data/rss20.xml?splitEntries=true&delay=100"").",ca32eef3093410fd17903c001dc214784b00affc,0,1
"filter().method(""myBean"", ""isAfterDate"").to(""mock:result"");",ca32eef3093410fd17903c001dc214784b00affc,0,1
"public FeedEntryPollingConsumer(FeedEndpoint endpoint, Processor processor, boolean filter, Date lastUpdate, boolean throttleEntries) {",2102a1e67c41730ab2073e24fd22d522cc0b7c3c,9,1
* Filters out all entries which occur before the last time of the entry we saw (assuming entries arrive sorted in,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,8,0
"public FeedEntryPollingConsumer(FeedEndpoint endpoint, Processor processor, boolean filter, Date lastUpdate,",2102a1e67c41730ab2073e24fd22d522cc0b7c3c,7,0
* Filters out all entries which occur before the last time of the entry we saw (assuming,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,6,1
* Filters out all entries which occur before the last time of the entry we saw,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,6,1
protected abstract void populateList(Object feed) throws Exception;,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,4,0
protected abstract void populateList(Object feed) throws Exception;,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,4,1
"private static SyndFeed createSyndFeed(String feedUri) throws IOException, FeedException {",2102a1e67c41730ab2073e24fd22d522cc0b7c3c,4,0
"private static SyndFeed createSyndFeed(HttpURLConnection connection) throws IOException, FeedException {",2102a1e67c41730ab2073e24fd22d522cc0b7c3c,4,0
* entries arrive sorted in order).,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,3,1
* (assuming entries arrive sorted in order).,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,3,1
InputStream in = new URL(feedUri).openStream();,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,3,1
Date updated = ((Entry) entry).getUpdated();,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,2,0
Date updated = ((Entry)entry).getUpdated();,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,2,1
boolean throttleEntries) {,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,2,0
import java.io.IOException;,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,2,0
try (XmlReader reader = new XmlReader(new URL(feedUri))) {,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,2,0
SyndFeedInput input = new SyndFeedInput();,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,2,0
try (XmlReader reader = new XmlReader(connection)) {,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,2,0
SyndFeedInput input = new SyndFeedInput();,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,2,1
* order).,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,0
updated = ((Entry) entry).getPublished();,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,0
},2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,0
updated = ((Entry)entry).getPublished();,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,1
},2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,1
import com.rometools.rome.io.FeedException;,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,0
return createSyndFeed(feedUri);,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,0
return input.build(reader);,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,0
},2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,0
return createSyndFeed(httpcon);,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,0
import java.io.InputStream;,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,1
return input.build(new XmlReader(in));,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,1
return input.build(new XmlReader(httpcon));,2102a1e67c41730ab2073e24fd22d522cc0b7c3c,1,1
} finally {,c7e58735de0823a79cd60c5a97399f1304d88798,2,0
protected Server createServer() {,c7e58735de0823a79cd60c5a97399f1304d88798,2,0
protected Server createServer() throws Exception {,c7e58735de0823a79cd60c5a97399f1304d88798,2,1
import org.apache.camel.support.DefaultConsumer;,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
import org.apache.camel.support.ExchangeHelper;,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
import org.apache.camel.impl.DefaultConsumer;,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
import org.apache.camel.util.ExchangeHelper;,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
import org.apache.camel.support.DefaultEndpoint;,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
import org.apache.camel.impl.DefaultEndpoint;,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
import org.apache.camel.support.DefaultProducer;,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
import org.apache.camel.impl.DefaultProducer;,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
},c7e58735de0823a79cd60c5a97399f1304d88798,1,0
},c7e58735de0823a79cd60c5a97399f1304d88798,1,1
Exchange exchange = consumer.createExchange(false);,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
try {,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
if (ExchangeHelper.isOutCapable(exchange)) {,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
ServerChannel channel = getBayeux().getChannel(channelName);,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
ServerSession serverSession = getServerSession();,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
"ServerMessage.Mutable outMessage = binding.createCometdMessage(channel, serverSession, exchange.getOut());",c7e58735de0823a79cd60c5a97399f1304d88798,1,0
},c7e58735de0823a79cd60c5a97399f1304d88798,1,0
Exchange exchange = endpoint.createExchange();,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
if (ExchangeHelper.isOutCapable(exchange)) {,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
ServerChannel channel = getBayeux().getChannel(channelName);,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
ServerSession serverSession = getServerSession();,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
"ServerMessage.Mutable outMessage = binding.createCometdMessage(channel, serverSession, exchange.getOut());",c7e58735de0823a79cd60c5a97399f1304d88798,1,1
static class ConnectorRef {,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
class ConnectorRef {,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
return new CometdProducer(this);,c7e58735de0823a79cd60c5a97399f1304d88798,1,0
CometdProducer producer = new CometdProducer(this);,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
return producer;,c7e58735de0823a79cd60c5a97399f1304d88798,1,1
"+ ""timeout=240000&interval=0&maxInterval=30000&multiFrameInterval=1500&jsonCommented=true&logLevel=2"";",c7e58735de0823a79cd60c5a97399f1304d88798,0,0
"+ ""timeout=240000&interval=0&maxInterval=30000&multiFrameInterval=1500&jsonCommented=true&logLevel=2"";",c7e58735de0823a79cd60c5a97399f1304d88798,0,1
exchange.setIn(message);,c7e58735de0823a79cd60c5a97399f1304d88798,0,0
consumer.getProcessor().process(exchange);,c7e58735de0823a79cd60c5a97399f1304d88798,0,0
"remote.deliver(serverSession, outMessage);",c7e58735de0823a79cd60c5a97399f1304d88798,0,0
"consumer.releaseExchange(exchange, false);",c7e58735de0823a79cd60c5a97399f1304d88798,0,0
exchange.setIn(message);,c7e58735de0823a79cd60c5a97399f1304d88798,0,1
consumer.getProcessor().process(exchange);,c7e58735de0823a79cd60c5a97399f1304d88798,0,1
"remote.deliver(serverSession, outMessage);",c7e58735de0823a79cd60c5a97399f1304d88798,0,1
// Use the file component to read the CSV file,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,2,0
// Move the 'in_sf' attribute to the end,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,2,0
// Use the file component to write the Arff file,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,2,0
// Use the file component to read the CSV file,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,2,1
// Move the 'in_sf' attribute to the end,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,2,1
// Use the file component to write the Arff file,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,2,1
// Convert the 'in_sf' attribute to nominal,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,1,0
// Rename the relation,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,1,0
// Use weka to read the CSV file,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,1,0
// Use weka to write the Arff file,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,1,0
// Convert the 'in_sf' attribute to nominal,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,1,1
// Rename the relation,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,1,1
// Use weka to read the CSV file,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,1,1
// Use weka to write the Arff file,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,1,1
"from(""direct:start"").choice().when().ognl(""request.headers.foo == 'bar'"").to(""mock:result"");",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
},e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
*/,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
"from(""file:src/test/resources/data?fileName=sfny.csv&noop=true"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
".to(""weka:filter?apply=NumericToNominal -R first"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
".to(""weka:filter?apply=Reorder -R 2-last,1"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
".to(""weka:filter?apply=RenameRelation -modify sfny"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
".to(""file:target/data?fileName=sfny.arff"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
".to(""direct:end"");",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
"from(""direct:start"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
".to(""weka:write?path=target/data/sfny.arff"");",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,0
"from(""direct:start"").",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
"choice().when().ognl(""request.headers.foo == 'bar'"").",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
"to(""mock:result"");",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
},e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
*/,e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
"from(""file:src/test/resources/data?fileName=sfny.csv&noop=true"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
".to(""weka:filter?apply=NumericToNominal -R first"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
".to(""weka:filter?apply=Reorder -R 2-last,1"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
".to(""weka:filter?apply=RenameRelation -modify sfny"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
".to(""file:target/data?fileName=sfny.arff"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
".to(""direct:end"");",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
"from(""direct:start"")",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
".to(""weka:write?path=target/data/sfny.arff"");",e2ae917cb5dcb54dd26c85efaf64b38c9e91986a,0,1
"syntax = ""rss:feedUri"", consumerOnly = true, category = { Category.RSS }, lenientProperties = true)",8eb109a1283d582913db2d876c7b5b2933505c2c,5,0
"syntax = ""rss:feedUri"", consumerOnly = true, category = {Category.RSS}, lenientProperties = true)",8eb109a1283d582913db2d876c7b5b2933505c2c,4,1
import org.apache.camel.support.ExchangeHelper;,8eb109a1283d582913db2d876c7b5b2933505c2c,1,0
import org.apache.camel.util.ExchangeHelper;,8eb109a1283d582913db2d876c7b5b2933505c2c,1,1
newFeed = (SyndFeed) ((SyndFeed) feed).clone();,8eb109a1283d582913db2d876c7b5b2933505c2c,1,0
throws Exception {,8eb109a1283d582913db2d876c7b5b2933505c2c,1,0
newFeed = (SyndFeed)((SyndFeed) feed).clone();,8eb109a1283d582913db2d876c7b5b2933505c2c,1,1
"boolean filter, Date lastUpdate, boolean throttleEntries) throws Exception {",8eb109a1283d582913db2d876c7b5b2933505c2c,1,1
newFeed.setEntries(Arrays.asList((SyndEntry) entry));,8eb109a1283d582913db2d876c7b5b2933505c2c,0,0
protected FeedPollingConsumer createEntryPollingConsumer(,8eb109a1283d582913db2d876c7b5b2933505c2c,0,0
"FeedEndpoint feedEndpoint, Processor processor,",8eb109a1283d582913db2d876c7b5b2933505c2c,0,0
"boolean filter, Date lastUpdate, boolean throttleEntries)",8eb109a1283d582913db2d876c7b5b2933505c2c,0,0
newFeed.setEntries(Arrays.asList((SyndEntry)entry));,8eb109a1283d582913db2d876c7b5b2933505c2c,0,1
"protected FeedPollingConsumer createEntryPollingConsumer(FeedEndpoint feedEndpoint, Processor processor,",8eb109a1283d582913db2d876c7b5b2933505c2c,0,1
// default use a 1st level cache,ebece5174a5ab834576c0f981682b78f7a6efe25,3,0
// default use a 1st level cache,ebece5174a5ab834576c0f981682b78f7a6efe25,3,1
private final AtomicBoolean init = new AtomicBoolean();,ebece5174a5ab834576c0f981682b78f7a6efe25,2,0
this.cache = LRUCacheFactory.newLRUCache(1000);,ebece5174a5ab834576c0f981682b78f7a6efe25,2,0
private AtomicBoolean init = new AtomicBoolean();,ebece5174a5ab834576c0f981682b78f7a6efe25,2,1
this.cache = LRUCacheFactory.newLRUCache(1000);,ebece5174a5ab834576c0f981682b78f7a6efe25,2,1
//CAMEL-12037,ebece5174a5ab834576c0f981682b78f7a6efe25,0,1
"public static IdempotentRepository fileIdempotentRepository(File fileStore, int cacheSize) {",fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,5,0
"public static IdempotentRepository fileIdempotentRepository(File fileStore, int cacheSize, long maxFileStoreSize) {",fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,5,0
"public static IdempotentRepository fileIdempotentRepository(File store, Map<String, Object> cache) {",fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,5,0
"public static IdempotentRepository<String> fileIdempotentRepository(File fileStore, int cacheSize) {",fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,5,1
"public static IdempotentRepository<String> fileIdempotentRepository(File fileStore, int cacheSize, long maxFileStoreSize) {",fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,5,1
"public static IdempotentRepository<String> fileIdempotentRepository(File store, Map<String, Object> cache) {",fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,5,1
"public static IdempotentRepository memoryIdempotentRepository(Map<String, Object> cache) {",fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,5,0
"public static IdempotentRepository<String> memoryIdempotentRepository(Map<String, Object> cache) {",fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,5,1
public static IdempotentRepository memoryIdempotentRepository(int cacheSize) {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,4,0
public static IdempotentRepository<String> memoryIdempotentRepository(int cacheSize) {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,4,1
public static IdempotentRepository fileIdempotentRepository(File fileStore) {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,3,0
public static IdempotentRepository<String> fileIdempotentRepository(File fileStore) {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,3,1
public static IdempotentRepository memoryIdempotentRepository() {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,3,0
public static IdempotentRepository<String> memoryIdempotentRepository() {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,3,1
public class FileIdempotentRepository extends ServiceSupport implements IdempotentRepository {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,2,0
public class FileIdempotentRepository extends ServiceSupport implements IdempotentRepository<String> {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,2,1
public class MemoryIdempotentRepository extends ServiceSupport implements IdempotentRepository {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,2,0
public class MemoryIdempotentRepository extends ServiceSupport implements IdempotentRepository<String> {,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,2,1
private IdempotentRepository repo;,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,0,0
private IdempotentRepository<String> repo;,fa85ef60b1b6c5d2dd73bb6e3e559dc33fc684f8,0,1
* Sets whether or not entries should be sent individually or whether the entire feed should be sent as a single,75afc7c150cdef080078d9b9f41d9372c2785b0e,9,0
* Sets the timestamp to be used for filtering entries from the atom feeds. This options is only in conjunction with,75afc7c150cdef080078d9b9f41d9372c2785b0e,9,0
* Sets whether or not entries should be sent individually or whether the entire,75afc7c150cdef080078d9b9f41d9372c2785b0e,8,1
* Sets the timestamp to be used for filtering entries from the atom feeds.,75afc7c150cdef080078d9b9f41d9372c2785b0e,8,1
"@UriParam(description = ""Sets the timestamp to be used for filtering entries from the """,75afc7c150cdef080078d9b9f41d9372c2785b0e,7,0
"@UriParam(description = ""Sets the timestamp to be used for filtering entries from the """,75afc7c150cdef080078d9b9f41d9372c2785b0e,7,1
* @param  entry the entry as the in body,75afc7c150cdef080078d9b9f41d9372c2785b0e,6,0
"@UriPath(description = ""The URI to the feed to poll."") @Metadata(required = true)",75afc7c150cdef080078d9b9f41d9372c2785b0e,6,1
* @param entry  the entry as the in body,75afc7c150cdef080078d9b9f41d9372c2785b0e,6,1
"@UriPath(description = ""The URI to the feed to poll."")",75afc7c150cdef080078d9b9f41d9372c2785b0e,5,0
"@UriParam(defaultValue = ""true"", description = ""Sets whether or not entries should be sent """,75afc7c150cdef080078d9b9f41d9372c2785b0e,5,0
"@UriParam(defaultValue = ""true"", description = ""Sets whether all entries identified in a """,75afc7c150cdef080078d9b9f41d9372c2785b0e,5,0
"@UriParam(defaultValue = ""true"", description = ""Sets whether or not entries should be sent """,75afc7c150cdef080078d9b9f41d9372c2785b0e,5,1
"@UriParam(defaultValue = ""true"", description = ""Sets whether all entries identified in a """,75afc7c150cdef080078d9b9f41d9372c2785b0e,5,1
"+ ""individually or whether the entire feed should be sent as a single message"")",75afc7c150cdef080078d9b9f41d9372c2785b0e,4,0
* @param  feed the atom feed,75afc7c150cdef080078d9b9f41d9372c2785b0e,4,0
* @param  feed  the feed,75afc7c150cdef080078d9b9f41d9372c2785b0e,4,0
"+ ""individually or whether the entire feed should be sent as a single message"")",75afc7c150cdef080078d9b9f41d9372c2785b0e,4,1
"protected abstract FeedPollingConsumer createEntryPollingConsumer(FeedEndpoint feedEndpoint, Processor processor, boolean filter, Date lastUpdate, boolean throttleEntries) throws Exception;",75afc7c150cdef080078d9b9f41d9372c2785b0e,4,1
* @param feed   the atom feed,75afc7c150cdef080078d9b9f41d9372c2785b0e,4,1
* @param feed   the feed,75afc7c150cdef080078d9b9f41d9372c2785b0e,4,1
"+ ""per delay. Only applicable when splitEntries = true."")",75afc7c150cdef080078d9b9f41d9372c2785b0e,3,0
"FeedEndpoint feedEndpoint, Processor processor, boolean filter, Date lastUpdate, boolean throttleEntries)",75afc7c150cdef080078d9b9f41d9372c2785b0e,3,0
"+ ""per delay. Only applicable when splitEntries = true."")",75afc7c150cdef080078d9b9f41d9372c2785b0e,3,1
* This options is only in conjunction with the splitEntries.,75afc7c150cdef080078d9b9f41d9372c2785b0e,3,1
"+ ""atom feeds. This options is only in conjunction with the splitEntries."")",75afc7c150cdef080078d9b9f41d9372c2785b0e,2,0
"+ ""single feed poll should be delivered immediately. If true, only one entry is processed """,75afc7c150cdef080078d9b9f41d9372c2785b0e,2,0
* @return      the created exchange,75afc7c150cdef080078d9b9f41d9372c2785b0e,2,0
* @return       the created exchange,75afc7c150cdef080078d9b9f41d9372c2785b0e,2,0
* the splitEntries.,75afc7c150cdef080078d9b9f41d9372c2785b0e,2,0
"+ ""atom feeds. This options is only in conjunction with the splitEntries."")",75afc7c150cdef080078d9b9f41d9372c2785b0e,2,1
"+ ""single feed poll should be delivered immediately. If true, only one entry is processed """,75afc7c150cdef080078d9b9f41d9372c2785b0e,2,1
* @return the created exchange,75afc7c150cdef080078d9b9f41d9372c2785b0e,2,1
* feed should be sent as a single message,75afc7c150cdef080078d9b9f41d9372c2785b0e,2,1
import org.apache.camel.support.jndi.JndiContext;,75afc7c150cdef080078d9b9f41d9372c2785b0e,1,0
import org.apache.camel.util.jndi.JndiContext;,75afc7c150cdef080078d9b9f41d9372c2785b0e,1,1
@Metadata(required = true),75afc7c150cdef080078d9b9f41d9372c2785b0e,1,0
"protected abstract FeedPollingConsumer createPollingConsumer(FeedEndpoint feedEndpoint, Processor processor)",75afc7c150cdef080078d9b9f41d9372c2785b0e,1,0
protected abstract FeedPollingConsumer createEntryPollingConsumer(,75afc7c150cdef080078d9b9f41d9372c2785b0e,1,0
},75afc7c150cdef080078d9b9f41d9372c2785b0e,1,0
* message,75afc7c150cdef080078d9b9f41d9372c2785b0e,1,0
"protected abstract FeedPollingConsumer createPollingConsumer(FeedEndpoint feedEndpoint, Processor processor) throws Exception;",75afc7c150cdef080078d9b9f41d9372c2785b0e,1,1
},75afc7c150cdef080078d9b9f41d9372c2785b0e,1,1
"mock.expectsAscending(ExpressionBuilder.beanExpression(""myBean?method=getPubDate""));",75afc7c150cdef080078d9b9f41d9372c2785b0e,0,0
"mock.expectsAscending(ExpressionBuilder.beanExpression(""myBean"", ""getPubDate""));",75afc7c150cdef080078d9b9f41d9372c2785b0e,0,1
throws Exception;,75afc7c150cdef080078d9b9f41d9372c2785b0e,0,0
* Filters out all entries which occur before the last time of the entry we saw (assuming entries arrive sorted in,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,5,0
* Filters out all entries which occur before the last time of the entry we saw (assuming,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,5,1
* Filters out all entries which occur before the last time of the entry we saw,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,5,1
Date updated = ((Entry) entry).getUpdated();,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,3,0
Date updated = ((Entry)entry).getUpdated();,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,3,1
updated = ((Entry) entry).getPublished();,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,2,0
updated = ((Entry)entry).getPublished();,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,2,1
import org.apache.camel.support.jndi.JndiContext;,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,0
import org.apache.camel.util.jndi.JndiContext;,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,1
import org.apache.camel.support.jndi.JndiContext;,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,0
import org.apache.camel.util.jndi.JndiContext;,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,1
* order).,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,0
},bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,0
* entries arrive sorted in order).,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,1
},bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,1
* (assuming entries arrive sorted in order).,bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,1,1
"mock.expectsAscending(ExpressionBuilder.beanExpression(""myBean?method=getPubDate""));",bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,0,0
"mock.expectsAscending(ExpressionBuilder.beanExpression(""myBean"", ""getPubDate""));",bcef3c52c5c402caf5665c9f77b65c6c2f86bb03,0,1
"Collections.sort(list, new RssDateComparator());",ca770f73b561b09773ee62e28bfb1f311f15770c,1,1
list.sort(new RssDateComparator());,ca770f73b561b09773ee62e28bfb1f311f15770c,0,0
"+ ""This is most likely be caused by a XML parse error. """,e2e71c4ef4c749b303934c3473d77104c89a850a,13,0
"+ ""This is most likely be caused by a XML parse error. """,e2e71c4ef4c749b303934c3473d77104c89a850a,13,1
* Sets the output as being a File where the filename must be provided in the {@link Exchange#XSLT_FILE_NAME},e2e71c4ef4c749b303934c3473d77104c89a850a,10,0
* Will by default output the result as a String. You can chose which kind of output you want using the,e2e71c4ef4c749b303934c3473d77104c89a850a,8,0
* @return                          the current context if it is not {@code null},e2e71c4ef4c749b303934c3473d77104c89a850a,7,0
* Will by default output the result as a String. You can chose which kind of output,e2e71c4ef4c749b303934c3473d77104c89a850a,6,1
* Sets the output as being a File where the filename,e2e71c4ef4c749b303934c3473d77104c89a850a,6,1
* @throws IllegalArgumentException if the {@code CamelContext} has not been set.,e2e71c4ef4c749b303934c3473d77104c89a850a,6,0
"throw new IllegalArgumentException(""CamelContext has not been injected!"");",e2e71c4ef4c749b303934c3473d77104c89a850a,6,1
* must be provided in the {@link Exchange#XSLT_FILE_NAME} header.,e2e71c4ef4c749b303934c3473d77104c89a850a,5,1
"* Creates a <a href=""http://camel.apache.org/processor.html"">Processor</a> which performs an XSLT transformation of the",e2e71c4ef4c749b303934c3473d77104c89a850a,4,0
* @param numberToCache the maximum number of transformers to cache,e2e71c4ef4c749b303934c3473d77104c89a850a,4,0
* @param numberToCache  the maximum number of transformers to cache,e2e71c4ef4c749b303934c3473d77104c89a850a,4,1
* Creates a new templated route,e2e71c4ef4c749b303934c3473d77104c89a850a,4,0
if (camelContext == null) {,e2e71c4ef4c749b303934c3473d77104c89a850a,4,1
* which performs an XSLT transformation of the IN message body.,e2e71c4ef4c749b303934c3473d77104c89a850a,3,1
* you want using the <tt>outputXXX</tt> methods.,e2e71c4ef4c749b303934c3473d77104c89a850a,3,1
"throw new TransformerConfigurationException(""Error creating XSLT template. """,e2e71c4ef4c749b303934c3473d77104c89a850a,3,1
protected void populateTemplatedRoutes() throws Exception {,e2e71c4ef4c749b303934c3473d77104c89a850a,3,0
protected void populateRouteTemplates() throws Exception {,e2e71c4ef4c749b303934c3473d77104c89a850a,3,0
protected void populateRouteTemplates() throws Exception {,e2e71c4ef4c749b303934c3473d77104c89a850a,3,1
* @param  source                            the source,e2e71c4ef4c749b303934c3473d77104c89a850a,2,0
throw new TransformerConfigurationException(,e2e71c4ef4c749b303934c3473d77104c89a850a,2,0
"+ ""Please verify your XSLT file configured."");",e2e71c4ef4c749b303934c3473d77104c89a850a,2,0
"* Creates a <a href=""http://camel.apache.org/processor.html"">Processor</a>",e2e71c4ef4c749b303934c3473d77104c89a850a,2,1
* @param source  the source,e2e71c4ef4c749b303934c3473d77104c89a850a,2,1
"+ ""Please verify your XSLT file configured."");",e2e71c4ef4c749b303934c3473d77104c89a850a,2,1
private TemplatedRoutesDefinition templatedRouteCollection = new TemplatedRoutesDefinition();,e2e71c4ef4c749b303934c3473d77104c89a850a,2,0
* @return the builder,e2e71c4ef4c749b303934c3473d77104c89a850a,2,0
* IN message body.,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
* <tt>outputXXX</tt> methods.,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
* header.,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
"""Error creating XSLT template. """,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
Transformer t = null;,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
Transformer t = null;,e2e71c4ef4c749b303934c3473d77104c89a850a,1,1
import org.apache.camel.model.TemplatedRouteDefinition;,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
import org.apache.camel.model.TemplatedRoutesDefinition;,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
*,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
public TemplatedRouteDefinition templatedRoute(String routeTemplateId) {,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
TemplatedRouteDefinition answer = getTemplatedRouteCollection().templatedRoute(routeTemplateId);,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
return answer;,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
},e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
CamelContext camelContext = notNullCamelContext();,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
private CamelContext notNullCamelContext() {,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
return camelContext;,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
public TemplatedRoutesDefinition getTemplatedRouteCollection() {,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
return templatedRouteCollection;,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
public void setTemplatedRouteCollection(TemplatedRoutesDefinition templatedRouteCollection) {,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
this.templatedRouteCollection = templatedRouteCollection;,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
protected void configureTemplatedRoute(CamelContextAware templatedRoute) {,e2e71c4ef4c749b303934c3473d77104c89a850a,1,0
CamelContext camelContext = getContext();,e2e71c4ef4c749b303934c3473d77104c89a850a,1,1
},e2e71c4ef4c749b303934c3473d77104c89a850a,1,1
/**,e2e71c4ef4c749b303934c3473d77104c89a850a,0,0
*/,e2e71c4ef4c749b303934c3473d77104c89a850a,0,0
getTemplatedRouteCollection().setCamelContext(getContext());,e2e71c4ef4c749b303934c3473d77104c89a850a,0,0
configureTemplatedRoute(answer);,e2e71c4ef4c749b303934c3473d77104c89a850a,0,0
populateTemplatedRoutes();,e2e71c4ef4c749b303934c3473d77104c89a850a,0,0
getTemplatedRouteCollection().setCamelContext(camelContext);,e2e71c4ef4c749b303934c3473d77104c89a850a,0,0
camelContext.getExtension(Model.class).addRouteFromTemplatedRoutes(getTemplatedRouteCollection().getTemplatedRoutes());,e2e71c4ef4c749b303934c3473d77104c89a850a,0,0
"CamelContextAware.trySetCamelContext(templatedRoute, getContext());",e2e71c4ef4c749b303934c3473d77104c89a850a,0,0
import org.apache.camel.support.jndi.JndiContext;,c50d632c773b2a73a9e07e907ade06f4370b0c08,1,0
import org.apache.camel.util.jndi.JndiContext;,c50d632c773b2a73a9e07e907ade06f4370b0c08,1,1
"from(""rss:file:src/test/data/rss20.xml?splitEntries=true&delay=100"").filter()",c50d632c773b2a73a9e07e907ade06f4370b0c08,0,0
".method(""myFilterBean"", ""titleContainsCamel"").to(""mock:result"");",c50d632c773b2a73a9e07e907ade06f4370b0c08,0,0
"from(""rss:file:src/test/data/rss20.xml?splitEntries=true&delay=100"").",c50d632c773b2a73a9e07e907ade06f4370b0c08,0,1
"filter().method(""myFilterBean"", ""titleContainsCamel"").to(""mock:result"");",c50d632c773b2a73a9e07e907ade06f4370b0c08,0,1
".marshal().rss().filter().xpath(""//item/title[contains(.,'Camel')]"").to(""mock:result"");",c50d632c773b2a73a9e07e907ade06f4370b0c08,0,0
".marshal().rss().filter().xpath(""//item/title[contains(.,'Camel')]"").to(""mock:result"");",c50d632c773b2a73a9e07e907ade06f4370b0c08,0,1
"Object body = consumer.receiveBody(""activemq:queue:DLQ"", 2000);",ff6f3ce9697289d2ce3523654bff23c42d60a84c,1,0
"Object body = consumer.receiveBody(""activemq:queue:ActiveMQ.DLQ"", 2000);",ff6f3ce9697289d2ce3523654bff23c42d60a84c,1,1
import org.apache.camel.component.jms.AbstractSpringJMSTestSupport;,ff6f3ce9697289d2ce3523654bff23c42d60a84c,0,0
public class JmsToJmsTransactedTest extends AbstractSpringJMSTestSupport {,ff6f3ce9697289d2ce3523654bff23c42d60a84c,0,0
import org.apache.camel.test.spring.junit5.CamelSpringTestSupport;,ff6f3ce9697289d2ce3523654bff23c42d60a84c,0,1
public class JmsToJmsTransactedTest extends CamelSpringTestSupport {,ff6f3ce9697289d2ce3523654bff23c42d60a84c,0,1
"private static final String DATA_TEMPLATE = ""<?xml version=\""1.0\"" encoding=\""{0}\""?>""",309ca3b1fe362ddb49daedc596a114421f6cd497,3,0
private static final String DATA_TEMPLATE =,309ca3b1fe362ddb49daedc596a114421f6cd497,3,1
String token = (String) tokenizer.next();,309ca3b1fe362ddb49daedc596a114421f6cd497,2,0
String token = (String)tokenizer.next();,309ca3b1fe362ddb49daedc596a114421f6cd497,2,1
"+ ""<Statements xmlns=\""http://www.apache.org/xml/test\"">""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,0
"+ ""    <statement>we l\u00f3ve iso-latin</statement>""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,0
"+ ""    <statement>we h\u00e4te unicode</statement>""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,0
"+ ""</Statements>"";",309ca3b1fe362ddb49daedc596a114421f6cd497,0,0
"""<statement xmlns=\""http://www.apache.org/xml/test\"">we l\u00f3ve iso-latin</statement>"",",309ca3b1fe362ddb49daedc596a114421f6cd497,0,0
"""<statement xmlns=\""http://www.apache.org/xml/test\"">we h\u00e4te unicode</statement>""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,0
((Closeable) tokenizer).close();,309ca3b1fe362ddb49daedc596a114421f6cd497,0,0
"""<?xml version=\""1.0\"" encoding=\""{0}\""?>""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,1
"+ ""<Statements xmlns=\""http://www.apache.org/xml/test\"">""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,1
"+ ""    <statement>we l\u00f3ve iso-latin</statement>""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,1
"+ ""    <statement>we h\u00e4te unicode</statement>""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,1
"+ ""</Statements>"";",309ca3b1fe362ddb49daedc596a114421f6cd497,0,1
"""<statement xmlns=\""http://www.apache.org/xml/test\"">we l\u00f3ve iso-latin</statement>"",",309ca3b1fe362ddb49daedc596a114421f6cd497,0,1
"""<statement xmlns=\""http://www.apache.org/xml/test\"">we h\u00e4te unicode</statement>""",309ca3b1fe362ddb49daedc596a114421f6cd497,0,1
((Closeable)tokenizer).close();,309ca3b1fe362ddb49daedc596a114421f6cd497,0,1
if (this.getZkHost() != null && this.getCollection() != null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,6,1
"return Arrays.asList(new Object[][] { { true }, { false } });",1ad4708f81d4d71c4724900cf077bd3c8a63661b,5,0
"LOG.info(""Shutting down solr server: {}"", server);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
"LOG.warn(""Error shutting down solr server. This exception is ignored."", e);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
"LOG.warn(""Error shutting down streaming solr server. This exception is ignored."", e);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
Object[][] serverTypes = {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,0
if (server != null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
"LOG.info(""Shutting down solr server: {}"", server);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
"LOG.warn(""Error shutting down solr server. This exception is ignored."", e);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
"LOG.warn(""Error shutting down streaming solr server. This exception is ignored."", e);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
if (key != null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
if (soTimeout != null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
if (connectionTimeout != null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
if (followRedirects != null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
if (ref != null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
if (this.cloudSolrServer != null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,4,1
"log.info(""Shutting down solr server: {}"", server);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,0
"log.warn(""Error shutting down solr server. This exception is ignored."", e);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,0
"log.warn(""Error shutting down streaming solr server. This exception is ignored."", e);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,0
private static final Logger LOG = LoggerFactory.getLogger(SolrComponent.class);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
"Object[][] serverTypes = {{SolrFixtures.TestServerType.USE_CLOUD},",1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
"private final Map<String, SolrClientReference> solrClientMap = new HashMap<>();",1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,0
private final List<SolrProducer> solrProducerList = new ArrayList<>();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,0
"LOG.warn(""Error shutting down solr client. This exception is ignored."", e);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,0
"private final Map<SolrEndpoint, SolrServerReference> servers = new HashMap<>();",1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
private final AtomicInteger referenceCounter = new AtomicInteger();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
public void setSolrServer(HttpSolrClient solrServer) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
URL url = new URL(scheme + address);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
if (ref == null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
ref = new SolrComponent.SolrServerReference();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
if (cloudServer == null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
// set the properties on the solr server,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
* indicates whether redirects are used to get to the Solr server,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
if (solrClient == null) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,0
} else if (SolrConstants.OPERATION_INSERT_STREAMING.equals(operation)) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
"private void insert(Exchange exchange, SolrClient solrServer) throws Exception {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,3,1
{ SolrFixtures.TestServerType.USE_HTTP } };,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
protected static final class SolrClientReference {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
public SolrClientReference(SolrClient solrClient) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
public SolrClient getSolrClient() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
public int unRegisterSolrProducer(SolrProducer solrProducer) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
public int registerSolrProducer(SolrProducer solrProducer) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"SolrConfiguration configuration = new SolrConfiguration(uri, remaining);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"Endpoint endpoint = new SolrEndpoint(uri, this, configuration);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"public SolrClient getSolrClient(SolrProducer solrProducer, SolrConfiguration solrConfiguration) throws Exception {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
if (!solrClientMap.containsKey(signature)) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
solrClientReference = new SolrClientReference(solrConfiguration.initSolrClient());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
} else {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
public void closeSolrClient(SolrProducer solrProducer) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
List<String> signatureToRemoveList = new ArrayList<>();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
if (solrClientReference.unRegisterSolrProducer(solrProducer) == 0) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
private void removeFromSolrClientMap(Collection<String> signatureToRemoveList) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
} catch (IOException e) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
protected static final class SolrServerReference {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public HttpSolrClient getSolrServer() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public ConcurrentUpdateSolrClient getUpdateSolrServer() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setUpdateSolrServer(ConcurrentUpdateSolrClient updateSolrServer) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public CloudSolrClient getCloudSolrServer() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setCloudSolrServer(CloudSolrClient cloudServer) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public int addReference() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public int decReference() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"Endpoint endpoint = new SolrEndpoint(uri, this, remaining);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public SolrServerReference getSolrServers(SolrEndpoint endpoint) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"public void addSolrServers(SolrEndpoint endpoint, SolrServerReference servers) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
for (SolrServerReference server : servers.values()) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
private void shutdownServer(SolrClient server) throws IOException {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
} catch (Exception e) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
if (remove) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
SolrEndpoint key = null;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
if (entry.getValue() == ref) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"public SolrEndpoint(String endpointUri, SolrComponent component, SolrConfiguration solrConfiguration) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
public SolrConfiguration getSolrConfiguration() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
public void setRequestHandler(String requestHandler) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"private String scheme = ""http://"";",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"@UriPath(description = ""Hostname and port for the solr server"")",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"@UriParam(defaultValue = """" + SolrConstants.DEFUALT_STREAMING_QUEUE_SIZE)",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
private int streamingQueueSize = SolrConstants.DEFUALT_STREAMING_QUEUE_SIZE;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"@UriParam(defaultValue = """" + SolrConstants.DEFAULT_STREAMING_THREAD_COUNT)",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
private int streamingThreadCount = SolrConstants.DEFAULT_STREAMING_THREAD_COUNT;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"@UriParam(label = ""security"", secret = true)",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"public SolrEndpoint(String endpointUri, SolrComponent component, String address) throws Exception {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"if (endpointUri.startsWith(""solrs"")) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public String getZkHost() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
* Set the collection name which the solrCloud server could use,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setCollection(String collection) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public String getCollection() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
private CloudSolrClient getCloudServer() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
CloudSolrClient rVal = null;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"rVal = new CloudSolrClient.Builder(java.util.Arrays.asList(zkHost), Optional.empty()).build();",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
SolrComponent.SolrServerReference ref = getComponent().getSolrServers(this);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
// no then create new servers,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
HttpSolrClient.Builder solrServerBuilder = new HttpSolrClient.Builder(url);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
ConcurrentUpdateSolrClient solrStreamingServer = new ConcurrentUpdateSolrClient.Builder(url),1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
if (counter <= 0) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setRequestHandler(String requestHandler) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public String getRequestHandler() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public int getStreamingThreadCount() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setStreamingThreadCount(int streamingThreadCount) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public int getStreamingQueueSize() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setStreamingQueueSize(int streamingQueueSize) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public Integer getMaxRetries() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setMaxRetries(Integer maxRetries) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public Integer getSoTimeout() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setSoTimeout(Integer soTimeout) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public Integer getConnectionTimeout() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setConnectionTimeout(Integer connectionTimeout) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public Integer getDefaultMaxConnectionsPerHost() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setDefaultMaxConnectionsPerHost(Integer defaultMaxConnectionsPerHost) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public Integer getMaxTotalConnections() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setMaxTotalConnections(Integer maxTotalConnections) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public Boolean getFollowRedirects() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setFollowRedirects(Boolean followRedirects) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public Boolean getAllowCompression() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
* Server side must support gzip or deflate for this to have any effect,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setAllowCompression(Boolean allowCompression) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public String getUsername() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setUsername(String username) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public String getPassword() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setPassword(String password) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public boolean isAutoCommit() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public void setAutoCommit(boolean autoCommit) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
public SolrProducer(SolrEndpoint endpoint) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
// solr configuration (create new config for concurrentupdate,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
if (operation.equalsIgnoreCase(SolrConstants.OPERATION_INSERT_STREAMING)) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
// solr client,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"SolrClient solrClient = exchange.getIn().getHeader(SolrConstants.CLIENT, SolrClient.class);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"solrClient = getEndpoint().getComponent().getSolrClient(this, solrConfiguration);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
ModifiableSolrParams solrParams = new ModifiableSolrParams();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
if (entry.getKey().startsWith(SolrConstants.PARAM)) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
// solr collection,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
if (solrConfiguration.isAutoCommit()) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
ContentStreamUpdateRequest updateRequest = new ContentStreamUpdateRequest(getRequestHandler(solrConfiguration));,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"DirectXmlRequest xmlRequest = new DirectXmlRequest(getRequestHandler(solrConfiguration), bodyAsString);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
private String getRequestHandler(SolrConfiguration solrConfiguration) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"private UpdateRequest createUpdateRequest(SolrConfiguration solrConfiguration, ModifiableSolrParams solrParams) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
UpdateRequest updateRequest = new UpdateRequest(getRequestHandler(solrConfiguration));,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,0
"public SolrProducer(SolrEndpoint endpoint, SolrClient solrServer, SolrClient concSolrServer,",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
private SolrClient getBestSolrServer(String operation) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
} else {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
if (getEndpoint().isAutoCommit()) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"private void commit(SolrClient serverToUse) throws SolrServerException, IOException {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"private void query(Exchange exchange, SolrClient serverToUse) throws SolrServerException, IOException {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
ContentStreamUpdateRequest updateRequest = new ContentStreamUpdateRequest(getRequestHandler());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
if (entry.getKey().startsWith(SolrConstants.PARAM)) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"DirectXmlRequest xmlRequest = new DirectXmlRequest(getRequestHandler(), bodyAsString);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
private String getRequestHandler() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
private UpdateRequest createUpdateRequest() {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
UpdateRequest updateRequest = new UpdateRequest(getRequestHandler());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,2,1
"{ SolrFixtures.TestServerType.USE_CLOUD },",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"{ SolrFixtures.TestServerType.USE_HTTPS },",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"return Arrays.asList(new Object[][] {{true}, {false}});",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private final SolrClient solrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
this.solrClient = solrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
String signature = solrConfiguration.getSignature();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
solrClientReference = solrClientMap.get(signature);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
// register producer against solrClient (for later close of client),1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"for (Map.Entry<String, SolrClientReference> entry : solrClientMap.entrySet()) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
SolrClientReference solrClientReference = entry.getValue();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
},1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
for (String signature : signatureToRemoveList) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
SolrClientReference solrClientReference = solrClientMap.get(signature);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
try {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
protected void doShutdown() throws Exception {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
private HttpSolrClient solrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private ConcurrentUpdateSolrClient updateSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private CloudSolrClient cloudSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
},1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.solrServer = solrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.updateSolrServer = updateSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
cloudSolrServer = cloudServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
protected void doShutdown() throws Exception {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
void shutdownServers(SolrServerReference ref) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"void shutdownServers(SolrServerReference ref, boolean remove) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
try {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"for (Map.Entry<SolrEndpoint, SolrServerReference> entry : servers.entrySet()) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
key = entry.getKey();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private SolrConfiguration solrConfiguration;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
this.solrConfiguration = solrConfiguration;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
return new SolrProducer(this);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
@Metadata(required = true),1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private String url;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private Integer maxRetries;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private Integer soTimeout;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private Integer connectionTimeout;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private Integer defaultMaxConnectionsPerHost;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private Integer maxTotalConnections;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private Boolean followRedirects;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private Boolean allowCompression;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"@UriParam(label = ""solrCloud"")",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private String zkHost;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private String collection;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private String requestHandler;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private String username;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private String password;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"@UriParam(defaultValue = ""false"")",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private boolean autoCommit;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"scheme = ""https://"";",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
},1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.url = url.toString();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.zkHost = decoded;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.collection = collection;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
CloudSolrClient cloudServer = getCloudServer();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
HttpSolrClient solrServer = solrServerBuilder.build();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"return new SolrProducer(this, ref.getSolrServer(), ref.getUpdateSolrServer(), ref.getCloudSolrServer());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
int counter = ref.decReference();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.requestHandler = requestHandler;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.streamingThreadCount = streamingThreadCount;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.streamingQueueSize = streamingQueueSize;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.maxRetries = maxRetries;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.soTimeout = soTimeout;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.connectionTimeout = connectionTimeout;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.defaultMaxConnectionsPerHost = defaultMaxConnectionsPerHost;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.maxTotalConnections = maxTotalConnections;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.followRedirects = followRedirects;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.allowCompression = allowCompression;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.username = username;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.password = password;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"* If true, each producer operation will be committed automatically",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.autoCommit = autoCommit;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
SolrConfiguration solrConfiguration = getEndpoint().getSolrConfiguration();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
solrConfiguration = solrConfiguration.newCopy();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
},1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
// solr parameters,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"for (Map.Entry<String, Object> entry : exchange.getIn().getHeaders().entrySet()) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
String paramName = entry.getKey().substring(SolrConstants.PARAM.length());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"String solrCollection = exchange.getIn().getHeader(SolrConstants.COLLECTION, String.class);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
// solr operations,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"insert(exchange, solrClient, solrConfiguration, solrParams);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"UpdateRequest updateRequest = createUpdateRequest(solrConfiguration, solrParams);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
private void commit(,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"throws SolrServerException, IOException {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
private void query(,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
"QueryResponse p = queryRequest.process(solrClient, solrCollection);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
private void insert(,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
throws Exception {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
String requestHandler = solrConfiguration.getRequestHandler();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,0
private SolrClient httpServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private SolrClient concSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
private SolrClient cloudSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
SolrClient cloudSolrServer) {,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.httpServer = solrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.concSolrServer = concSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
this.cloudSolrServer = cloudSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
},1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
SolrClient serverToUse = getBestSolrServer(operation);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"insert(exchange, serverToUse);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
UpdateRequest updateRequest = createUpdateRequest();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
QueryResponse p = queryRequest.process(serverToUse);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
"for (Map.Entry<String, Object> entry : exchange.getIn().getHeaders().entrySet()) {",1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
String paramName = entry.getKey().substring(SolrConstants.PARAM.length());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
updateRequest.process(solrServer);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
solrServer.request(xmlRequest);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
String requestHandler = getEndpoint().getRequestHandler();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,1,1
import org.slf4j.Logger;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.slf4j.LoggerFactory;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
.split(body()),1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
.end(),1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
".setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
.to(solrRouteUri());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
.split(body()),1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
.end(),1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
".setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
.to(solrRouteUri());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"{SolrFixtures.TestServerType.USE_HTTPS},",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
{SolrFixtures.TestServerType.USE_HTTP}};,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"USE_HTTP,",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"USE_HTTPS,",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
USE_CLOUD,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"USE_HTTP, USE_HTTPS, USE_CLOUD",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import java.util.ArrayList;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
import java.util.Collection;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
import java.util.List;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
return solrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
solrProducerList.remove(solrProducer);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
return solrProducerList.size();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
solrProducerList.add(solrProducer);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
SolrClientReference solrClientReference;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"solrClientMap.put(signature, solrClientReference);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
solrClientReference.registerSolrProducer(solrProducer);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
return solrClientReference.getSolrClient();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
// close when generated for endpoint,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
signatureToRemoveList.add(entry.getKey());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
removeFromSolrClientMap(signatureToRemoveList);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
solrClientMap.remove(signature);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
solrClientReference.getSolrClient().close();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
@Override,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
removeFromSolrClientMap(solrClientMap.keySet());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
import java.util.concurrent.atomic.AtomicInteger;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.solr.client.solrj.impl.CloudSolrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.solr.client.solrj.impl.HttpSolrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return solrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return updateSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return cloudSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return referenceCounter.incrementAndGet();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return referenceCounter.decrementAndGet();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return servers.get(endpoint);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"this.servers.put(endpoint, servers);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
@Override,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
shutdownServers(server);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
servers.clear();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"shutdownServers(ref, false);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
server.close();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
shutdownServer(ref.getSolrServer());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
shutdownServer(ref.getUpdateSolrServer());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
shutdownServer(ref.getCloudSolrServer());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
break;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
servers.remove(key);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
solrConfiguration.setSolrEndpoint(this);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
this.solrConfiguration.setZkHost(decoded);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
return solrConfiguration;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
solrConfiguration.setRequestHandler(requestHandler);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
getComponent().closeSolrClient(producer);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
import java.net.URL;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import java.util.Optional;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.camel.spi.Metadata;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.camel.spi.UriPath;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.solr.client.solrj.impl.CloudSolrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.solr.client.solrj.impl.HttpSolrClient;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
@UriParam,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
/**,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"* Set the ZooKeeper host information which the solrCloud could use, such as ""zkhost=localhost:8123"".",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
*/,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return this.zkHost;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return this.collection;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
rVal.setDefaultCollection(this.getCollection());,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return rVal;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
// do we have servers?,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
.withQueueSize(streamingQueueSize),1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
.withThreadCount(streamingThreadCount),1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
.build();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
solrServerBuilder.withSocketTimeout(soTimeout);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
solrServerBuilder.withConnectionTimeout(connectionTimeout);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
solrServer.setFollowRedirects(followRedirects);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
ref.setSolrServer(solrServer);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
ref.setUpdateSolrServer(solrStreamingServer);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
ref.setCloudSolrServer(cloudServer);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"getComponent().addSolrServers(this, ref);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
ref.addReference();,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"getComponent().shutdownServers(ref, true);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* Set the request handler to be used,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return requestHandler;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return streamingThreadCount;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* Set the number of threads for the StreamingUpdateSolrServer,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return streamingQueueSize;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* Set the queue size for the StreamingUpdateSolrServer,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return maxRetries;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* Maximum number of retries to attempt in the event of transient errors,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return soTimeout;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"* Read timeout on the underlying HttpConnectionManager. This is desirable for queries, but probably not for",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* indexing,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return connectionTimeout;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* connectionTimeout on the underlying HttpConnectionManager,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return defaultMaxConnectionsPerHost;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* maxConnectionsPerHost on the underlying HttpConnectionManager,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return maxTotalConnections;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* maxTotalConnection on the underlying HttpConnectionManager,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return followRedirects;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return allowCompression;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return username;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* Sets username for basic auth plugin enabled servers,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return password;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
* Sets password for basic auth plugin enabled servers,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return autoCommit;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
import org.apache.solr.common.params.ModifiableSolrParams;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
solrConfiguration.setUseConcurrentUpdateSolrClient(true);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"solrParams.add(paramName, entry.getValue().toString());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"commit(exchange, solrClient, solrConfiguration, solrParams);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"updateRequest.process(solrClient, solrCollection);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
updateRequest.add(solrClient.getBinder().toSolrInputDocument(exchange.getIn().getBody()));,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
updateRequest.add(body.stream().map(solrClient.getBinder()::toSolrInputDocument).collect(Collectors.toList()));,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"commit(exchange, solrClient, solrConfiguration, solrParams, true);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"query(exchange, solrClient, solrConfiguration, solrParams);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"Exchange exchange,",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"SolrClient solrClient,",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"SolrConfiguration solrConfiguration,",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
ModifiableSolrParams solrParams),1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"commit(exchange, solrClient, solrConfiguration, solrParams, false);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"ModifiableSolrParams solrParams,",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
boolean softCommit),1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
updateRequest.setAction(,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"ACTION.COMMIT,",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"solrParams.getBool(""waitFlush"", true),",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"solrParams.getBool(""waitSearcher"", true),",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
softCommit);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"Exchange exchange, SolrClient solrClient, SolrConfiguration solrConfiguration, ModifiableSolrParams solrParams)",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
solrQuery.add(solrParams);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"queryRequest.setBasicAuthCredentials(solrConfiguration.getUsername(), solrConfiguration.getPassword());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
updateRequest.setParams(solrParams);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"updateRequest.setBasicAuthCredentials(solrConfiguration.getUsername(), solrConfiguration.getPassword());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
xmlRequest.setParams(solrParams);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"xmlRequest.setBasicAuthCredentials(solrConfiguration.getUsername(), solrConfiguration.getPassword());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
"xmlRequest.process(solrClient, solrCollection);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
updateRequest.add(doc);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,0
return this.cloudSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return this.concSolrServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
return this.httpServer;,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
commit(serverToUse);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
updateRequest.process(serverToUse);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
updateRequest.add(serverToUse.getBinder().toSolrInputDocument(exchange.getIn().getBody()));,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
updateRequest.add(body.stream().map(serverToUse.getBinder()::toSolrInputDocument).collect(Collectors.toList()));,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"updateRequest.setAction(ACTION.COMMIT, true, true);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"updateRequest.setAction(ACTION.COMMIT, true, true, true);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"query(exchange, serverToUse);",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"queryRequest.setBasicAuthCredentials(getEndpoint().getUsername(), getEndpoint().getPassword());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"updateRequest.setBasicAuthCredentials(getEndpoint().getUsername(), getEndpoint().getPassword());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"updateRequest.setParam(paramName, entry.getValue().toString());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
"xmlRequest.setBasicAuthCredentials(getEndpoint().getUsername(), getEndpoint().getPassword());",1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
solrServer.add(doc);,1ad4708f81d4d71c4724900cf077bd3c8a63661b,0,1
// setting the classloader here will allow the underlying elasticsearch-java,778c848c2f3265468158b0465f192ac9e3447439,2,0
// class to find its names.txt in an OSGi environment (otherwise the thread,778c848c2f3265468158b0465f192ac9e3447439,2,0
"LOG.info(""REMOTE ELASTICSEARCH: {}"", configuration.getIp());",778c848c2f3265468158b0465f192ac9e3447439,2,1
// setting the classloader here will allow the underlying elasticsearch-java,778c848c2f3265468158b0465f192ac9e3447439,2,1
// class to find its names.txt in an OSGi environment (otherwise the thread,778c848c2f3265468158b0465f192ac9e3447439,2,1
import java.util.ArrayList;,778c848c2f3265468158b0465f192ac9e3447439,1,0
import java.util.List;,778c848c2f3265468158b0465f192ac9e3447439,1,0
import org.elasticsearch.common.transport.TransportAddress;,778c848c2f3265468158b0465f192ac9e3447439,1,0
!configuration.getTransportAddresses().isEmpty()) {,778c848c2f3265468158b0465f192ac9e3447439,1,0
for (TransportAddress address : configuration.getTransportAddresses()) {,778c848c2f3265468158b0465f192ac9e3447439,1,0
private Settings getSettings() {,778c848c2f3265468158b0465f192ac9e3447439,1,0
"// classloader is used, which won't be able to see the file causing a startup",778c848c2f3265468158b0465f192ac9e3447439,1,0
".put(""cluster.name"", configuration.getClusterName())",778c848c2f3265468158b0465f192ac9e3447439,1,0
"// classloader is used, which won't be able to see the file causing a startup",778c848c2f3265468158b0465f192ac9e3447439,1,1
".put(""cluster.name"", configuration.getClusterName())",778c848c2f3265468158b0465f192ac9e3447439,1,1
this.client = new TransportClient(getSettings()),778c848c2f3265468158b0465f192ac9e3447439,0,0
} else if (configuration.getTransportAddresses() != null &&,778c848c2f3265468158b0465f192ac9e3447439,0,0
List<TransportAddress> addresses = new ArrayList<>(configuration.getTransportAddresses().size());,778c848c2f3265468158b0465f192ac9e3447439,0,0
addresses.add(address);,778c848c2f3265468158b0465f192ac9e3447439,0,0
},778c848c2f3265468158b0465f192ac9e3447439,0,0
.addTransportAddresses(addresses.toArray(new TransportAddress[0]));,778c848c2f3265468158b0465f192ac9e3447439,0,0
return ImmutableSettings.settingsBuilder(),778c848c2f3265468158b0465f192ac9e3447439,0,0
// exception).,778c848c2f3265468158b0465f192ac9e3447439,0,0
.classLoader(Settings.class.getClassLoader()),778c848c2f3265468158b0465f192ac9e3447439,0,0
".put(""client.transport.ignore_cluster_name"", false)",778c848c2f3265468158b0465f192ac9e3447439,0,0
".put(""node.client"", true)",778c848c2f3265468158b0465f192ac9e3447439,0,0
".put(""client.transport.sniff"", true)",778c848c2f3265468158b0465f192ac9e3447439,0,0
.build();,778c848c2f3265468158b0465f192ac9e3447439,0,0
Settings settings = ImmutableSettings.settingsBuilder(),778c848c2f3265468158b0465f192ac9e3447439,0,1
// exception).,778c848c2f3265468158b0465f192ac9e3447439,0,1
.classLoader(Settings.class.getClassLoader()),778c848c2f3265468158b0465f192ac9e3447439,0,1
".put(""client.transport.ignore_cluster_name"", false)",778c848c2f3265468158b0465f192ac9e3447439,0,1
".put(""node.client"", true)",778c848c2f3265468158b0465f192ac9e3447439,0,1
".put(""client.transport.sniff"", true)",778c848c2f3265468158b0465f192ac9e3447439,0,1
.build();,778c848c2f3265468158b0465f192ac9e3447439,0,1
Client client = new TransportClient(settings),778c848c2f3265468158b0465f192ac9e3447439,0,1
this.client = client;,778c848c2f3265468158b0465f192ac9e3447439,0,1
* @param target the {@link org.apache.camel.spi.RestConfiguration} target,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,3,0
* @param target the {@link org.apache.camel.spi.RestConfiguration} target,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,3,0
private Object myDummy = new FooBar();,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,0
"config = camelContext.getRestConfiguration(""restlet"", true);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,0
"config = getCamelContext().getRestConfiguration(""restlet"", true);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,1
"config = camelContext.getRestConfiguration(""spark-rest"", true);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,0
"config = getCamelContext().getRestConfiguration(""spark-rest"", true);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,1
"public RestConfiguration asRestConfiguration(CamelContext context, RestConfiguration target) throws Exception {",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,0
public RestConfiguration asRestConfiguration(CamelContext context) throws Exception {,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,1
"public RestConfiguration asRestConfiguration(CamelContext context, RestConfiguration target) throws Exception {",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,0
public RestConfiguration asRestConfiguration(CamelContext context) throws Exception {,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,2,1
protected JndiRegistry createRegistry() throws Exception {,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
JndiRegistry jndi = super.createRegistry();,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
return jndi;,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
},51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
"DummyRestConsumerFactory factory = (DummyRestConsumerFactory) context.getRegistry().lookupByName(""dummy-rest"");",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
* Configured an instance of a {@link org.apache.camel.spi.RestConfiguration} instance based,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
return target;,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
* Creates a {@link org.apache.camel.spi.RestConfiguration} instance based,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,1
RestConfiguration answer = new RestConfiguration();,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,1
* Configured an instance of a {@link org.apache.camel.spi.RestConfiguration} instance based,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
return target;,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,0
* Creates a {@link org.apache.camel.spi.RestConfiguration} instance based,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,1
RestConfiguration answer = new RestConfiguration();,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,1
return answer;,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,1,1
import org.apache.camel.impl.FooBar;,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
import org.apache.camel.impl.JndiRegistry;,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
@Override,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"jndi.bind(""myDummy"", myDummy);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"assertEquals(""#myDummy"", context.getRestConfiguration().getConsumerProperties().get(""dummy""));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"assertSame(myDummy, factory.getDummy());",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
".consumerProperty(""pollTimeout"", ""1000"")",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
".consumerProperty(""dummy"", ""#myDummy"");",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
".consumerProperty(""pollTimeout"", ""1000"");",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"setProperties(camelContext, endpoint, parameters);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"setProperties(camelContext, consumer, config.getConsumerProperties());",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"setProperties(endpoint, parameters);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"setProperties(consumer, config.getConsumerProperties());",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"setProperties(camelContext, endpoint, parameters);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"setProperties(camelContext, consumer, config.getConsumerProperties());",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"setProperties(endpoint, parameters);",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"setProperties(consumer, config.getConsumerProperties());",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"target.setComponent(CamelContextHelper.parseText(context, component));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiComponent(CamelContextHelper.parseText(context, apiComponent));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setProducerComponent(CamelContextHelper.parseText(context, producerComponent));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setScheme(CamelContextHelper.parseText(context, scheme));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setHost(CamelContextHelper.parseText(context, host));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setUseXForwardHeaders(useXForwardHeaders);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiHost(CamelContextHelper.parseText(context, apiHost));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setPort(CamelContextHelper.parseInteger(context, port));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setProducerApiDoc(CamelContextHelper.parseText(context, producerApiDoc));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiContextPath(CamelContextHelper.parseText(context, apiContextPath));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiContextRouteId(CamelContextHelper.parseText(context, apiContextRouteId));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setApiContextIdPattern(context.getName());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiContextIdPattern(CamelContextHelper.parseText(context, apiContextIdPattern));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setApiContextListing(apiContextListing);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setApiVendorExtension(apiVendorExtension);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setContextPath(CamelContextHelper.parseText(context, contextPath));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setHostNameResolver(hostNameResolver.name());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setBindingMode(bindingMode.name());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setSkipBindingOnErrorCode(skipBindingOnErrorCode);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setClientRequestValidation(clientRequestValidation);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setEnableCORS(enableCORS);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setJsonDataFormat(jsonDataFormat);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setXmlDataFormat(xmlDataFormat);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setComponentProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setEndpointProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setConsumerProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setDataFormatProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setApiProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setCorsHeaders(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"answer.setComponent(CamelContextHelper.parseText(context, component));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiComponent(CamelContextHelper.parseText(context, apiComponent));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setProducerComponent(CamelContextHelper.parseText(context, producerComponent));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setScheme(CamelContextHelper.parseText(context, scheme));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setHost(CamelContextHelper.parseText(context, host));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setUseXForwardHeaders(useXForwardHeaders);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiHost(CamelContextHelper.parseText(context, apiHost));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setPort(CamelContextHelper.parseInteger(context, port));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setProducerApiDoc(CamelContextHelper.parseText(context, producerApiDoc));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiContextPath(CamelContextHelper.parseText(context, apiContextPath));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiContextRouteId(CamelContextHelper.parseText(context, apiContextRouteId));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setApiContextIdPattern(context.getName());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiContextIdPattern(CamelContextHelper.parseText(context, apiContextIdPattern));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setApiContextListing(apiContextListing);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setApiVendorExtension(apiVendorExtension);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setContextPath(CamelContextHelper.parseText(context, contextPath));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setHostNameResolver(hostNameResolver.name());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setBindingMode(bindingMode.name());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"target.setComponent(CamelContextHelper.parseText(context, component));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiComponent(CamelContextHelper.parseText(context, apiComponent));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setProducerComponent(CamelContextHelper.parseText(context, producerComponent));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setScheme(CamelContextHelper.parseText(context, scheme));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setHost(CamelContextHelper.parseText(context, host));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setUseXForwardHeaders(useXForwardHeaders);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiHost(CamelContextHelper.parseText(context, apiHost));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setPort(CamelContextHelper.parseInteger(context, port));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setProducerApiDoc(CamelContextHelper.parseText(context, producerApiDoc));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiContextPath(CamelContextHelper.parseText(context, apiContextPath));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiContextRouteId(CamelContextHelper.parseText(context, apiContextRouteId));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setApiContextIdPattern(context.getName());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setApiContextIdPattern(CamelContextHelper.parseText(context, apiContextIdPattern));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setApiContextListing(apiContextListing);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setApiVendorExtension(apiVendorExtension);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"target.setContextPath(CamelContextHelper.parseText(context, contextPath));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setHostNameResolver(hostNameResolver.name());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setBindingMode(bindingMode.name());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setSkipBindingOnErrorCode(skipBindingOnErrorCode);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setClientRequestValidation(clientRequestValidation);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setEnableCORS(enableCORS);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setJsonDataFormat(jsonDataFormat);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setXmlDataFormat(xmlDataFormat);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setComponentProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setEndpointProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setConsumerProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setDataFormatProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setApiProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
target.setCorsHeaders(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,0
"answer.setComponent(CamelContextHelper.parseText(context, component));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiComponent(CamelContextHelper.parseText(context, apiComponent));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setProducerComponent(CamelContextHelper.parseText(context, producerComponent));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setScheme(CamelContextHelper.parseText(context, scheme));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setHost(CamelContextHelper.parseText(context, host));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setUseXForwardHeaders(useXForwardHeaders);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiHost(CamelContextHelper.parseText(context, apiHost));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setPort(CamelContextHelper.parseInteger(context, port));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setProducerApiDoc(CamelContextHelper.parseText(context, producerApiDoc));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiContextPath(CamelContextHelper.parseText(context, apiContextPath));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiContextRouteId(CamelContextHelper.parseText(context, apiContextRouteId));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setApiContextIdPattern(context.getName());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setApiContextIdPattern(CamelContextHelper.parseText(context, apiContextIdPattern));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setApiContextListing(apiContextListing);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setApiVendorExtension(apiVendorExtension);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
"answer.setContextPath(CamelContextHelper.parseText(context, contextPath));",51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setHostNameResolver(hostNameResolver.name());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setBindingMode(bindingMode.name());,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setSkipBindingOnErrorCode(skipBindingOnErrorCode);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setClientRequestValidation(clientRequestValidation);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setEnableCORS(enableCORS);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setJsonDataFormat(jsonDataFormat);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setXmlDataFormat(xmlDataFormat);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setComponentProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setEndpointProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setConsumerProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setDataFormatProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setApiProperties(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
answer.setCorsHeaders(props);,51a8b37ffaf6dd0766c0e18c2079f3c2aca490e1,0,1
private String propertyPrefix;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,3,1
private String propertySuffix;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,3,1
private final PropertiesLookup propertiesLookup = new DefaultPropertiesLookup(this);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,0
private final List<PropertiesSource> sources = new ArrayList<>();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,0
private List<PropertiesLocation> locations = Collections.emptyList();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,0
String endpointUri = parseUri(remaining);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,0
"String value = parseUri(key, propertiesLookup);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,0
* Parses the input text and resolve all property placeholders from within the text.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,0
"private final Map<CacheKey, Properties> cacheMap = LRUCacheFactory.newLRUSoftCache(1000);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
private PropertiesResolver propertiesResolver = new DefaultPropertiesResolver(this);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
private List<PropertiesLocation> locations = Collections.emptyList();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
private List<PropertiesSource> sources = new ArrayList<>();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
private transient String propertyPrefixResolved;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
private boolean cache = true;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
private transient String propertySuffixResolved;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
"@Metadata(label = ""advanced"", defaultValue = ""true"")",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
private boolean fallbackToUnaugmentedProperty = true;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
"String locations = getAndRemoveParameter(parameters, ""locations"", String.class);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
"String endpointUri = parseUri(remaining, paths);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
this.propertyPrefix = propertyPrefix;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
this.propertyPrefixResolved = propertyPrefix;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
this.propertySuffix = propertySuffix;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
this.propertySuffixResolved = propertySuffix;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
"* before falling back the plain property name specified. If false, only the augmented property name is searched.",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
private static final long serialVersionUID = 1L;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
* Parses the input text and resolve all property placeholders.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,2,1
LoadablePropertiesSource lps = (LoadablePropertiesSource) ps;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
Properties p = lps.loadProperties();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
"protected String parseUri(String uri, PropertiesLookup properties) {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
locations = parseLocations(locations);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
// we need to re-create the property sources which may have already been created from locations,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
List<PropertiesLocation> current = locations;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
"Object obj = getCamelContext().getInjector().newInstance(type, false);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
PropertiesSource ps = (PropertiesSource) obj;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
private void addPropertiesLocationsAsPropertiesSource(PropertiesLocation location) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
* Component for property placeholders and loading properties from sources,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
* Looks up the property with the given key,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
* @param key  the name of the property,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
* @return the property value if present,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
* Adds a custom {@link PropertiesSource} to use as source for loading and/or looking up property values.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,0
private transient Properties cachedProperties;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"@Metadata(label = ""advanced"")",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"@Metadata(defaultValue = ""true"")",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
List<PropertiesLocation> paths = locations;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"Boolean ignoreMissingLocationLoc = getAndRemoveParameter(parameters, ""ignoreMissingLocation"", Boolean.class);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
ignoreMissingLocation = ignoreMissingLocationLoc;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"paths = Arrays.stream(locations.split("","")).map(PropertiesLocation::new).collect(Collectors.toList());",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
cachedProperties = doLoadProperties(locations);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"public String parseUri(String uri, String... locations) {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
Properties p = ps.loadProperties();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
// location may contain JVM system property or OS environment variables,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
List<PropertiesLocation> locations = parseLocations(paths);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
CacheKey key = new CacheKey(locations);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
Properties locationsProp = cache ? cacheMap.get(key) : null;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"locationsProp = propertiesResolver.resolveProperties(getCamelContext(), ignoreMissingLocation, locations);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"protected String parseUri(String uri, List<PropertiesLocation> paths) {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
Properties prop = doLoadProperties(paths);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"protected String parseUri(String uri, Properties prop) {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
List<PropertiesLocation> current = getLocations();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
* To use a custom PropertiesResolver,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
this.propertiesResolver = propertiesResolver;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"@ManagedAttribute(description = ""Whether to cache loaded properties"")",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
this.cache = cache;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
public String getPropertyPrefix() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
return propertyPrefix;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
* Optional prefix prepended to property names before resolution.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
this.propertyPrefixResolved = FilePathResolver.resolvePath(this.propertyPrefix);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
public String getPropertySuffix() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
return propertySuffix;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
* Optional suffix appended to property names before resolution.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
this.propertySuffixResolved = FilePathResolver.resolvePath(this.propertySuffix);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"* If true, first attempt resolution of property name augmented with propertyPrefix and propertySuffix",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
this.fallbackToUnaugmentedProperty = fallbackToUnaugmentedProperty;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"// its chicken and egg, we cannot resolve placeholders on ourselves",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"@ManagedOperation(description = ""Clears the cache"")",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"Object ps = getCamelContext().getInjector().newInstance(type, false);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
cachedProperties = null;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
private static final class CacheKey implements Serializable {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
private final List<PropertiesLocation> locations;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
private CacheKey(List<PropertiesLocation> locations) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
this.locations = new ArrayList<>(locations);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
CacheKey that = (CacheKey) o;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
public String toString() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
* @return text with resolved property placeholders,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
"String parseUri(String uri, String... locations);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
* This option will override any default locations and only use the locations from this option.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,1,1
import java.util.Optional;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
import org.apache.camel.StaticService;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
import org.apache.camel.spi.LoadablePropertiesSource;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
import org.apache.camel.spi.PropertiesSource;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
import org.apache.camel.support.OrderedComparator;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
import org.apache.camel.util.URISupport;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"public class PropertiesComponent extends DefaultComponent implements org.apache.camel.spi.PropertiesComponent, StaticService {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
/**,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* A list of locations to load properties. You can use comma to separate multiple locations.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
*/,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* A list of locations to load properties.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
if (LOG.isDebugEnabled()) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"log.debug(""Endpoint uri parsed as: {}"", URISupport.sanitizeUri(endpointUri));",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"return parseUri(uri, propertiesLookup);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
public Optional<String> resolveProperty(String key) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
return Optional.of(value);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
if (ps instanceof LoadablePropertiesSource) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
prop.putAll(p);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"log.trace(""Parsing uri {}"", uri);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"return propertiesParser.parseUri(uri, properties, prefixToken, suffixToken, defaultFallbackEnabled);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"@SuppressWarnings(""unchecked"")",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
public List<String> getLocations() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
if (locations.isEmpty()) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
return Collections.EMPTY_LIST;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
} else {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
return locations.stream().map(PropertiesLocation::toString).collect(Collectors.toList());,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
},e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
// reset locations,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
this.sources.removeIf(s -> s instanceof LocationPropertiesSource);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
for (PropertiesLocation loc : locations) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
addPropertiesLocationsAsPropertiesSource(loc);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
if (propertiesSource instanceof CamelContextAware) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
((CamelContextAware) propertiesSource).setCamelContext(getCamelContext());,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
if (!this.isNew()) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
// if we have already initialized or started then we should also init the source,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
ServiceHelper.initService(propertiesSource);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
public List<PropertiesSource> getSources() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
return sources;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
if (obj instanceof PropertiesSource) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
addPropertiesSource(ps);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"LOG.info(""PropertiesComponent added custom PropertiesSource: {}"", ps);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
} else if (obj != null) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"LOG.warn(""PropertiesComponent cannot add custom PropertiesSource as the type is not a org.apache.camel.component.properties.PropertiesSource but: "" + type.getName());",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
ServiceHelper.initService(sources);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
sources.sort(OrderedComparator.get());,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
ServiceHelper.stopAndShutdownServices(sources);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"if (""ref"".equals(location.getResolver())) {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"addPropertiesSource(new RefPropertiesSource(this, location));",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"} else if (""file"".equals(location.getResolver())) {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"addPropertiesSource(new FilePropertiesSource(this, location));",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"} else if (""classpath"".equals(location.getResolver())) {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"addPropertiesSource(new ClasspathPropertiesSource(this, location));",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
import java.util.List;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* (such as .properties file from classpath or file system),e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
"public interface PropertiesComponent extends Component, StaticService {",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* The value of the prefix token used to identify properties to replace.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* Is default {@link #DEFAULT_PREFIX_TOKEN},e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* The value of the suffix token used to identify properties to replace.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* Is default {@link #DEFAULT_SUFFIX_TOKEN},e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
Optional<String> resolveProperty(String key);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* Gets the configured properties locations.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
* This may be empty if the properties component has only been configured with {@link PropertiesSource}.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
List<String> getLocations();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
void addPropertiesSource(PropertiesSource propertiesSource);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,0
import java.io.Serializable;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
import java.util.Arrays;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
import org.apache.camel.api.management.ManagedOperation;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
import org.apache.camel.support.LRUCacheFactory;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public class PropertiesComponent extends DefaultComponent implements org.apache.camel.spi.PropertiesComponent {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"@SuppressWarnings(""unchecked"")",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (ignoreMissingLocationLoc != null) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
// override default locations,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (locations != null) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"log.trace(""Overriding default locations with location: {}"", locations);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
},e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"log.debug(""Endpoint uri parsed as: {}"", endpointUri);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
// optimise to only load properties once as we use the configured locations,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (cachedProperties == null) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"return parseUri(uri, cachedProperties);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return parseUri(,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"uri,",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
locations != null,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
? Arrays.stream(locations).map(PropertiesLocation::new).collect(Collectors.toList()),e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
: Collections.emptyList());,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return doLoadProperties(locations);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public Properties loadProperties(String... locations) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return doLoadProperties(Arrays.stream(locations).map(PropertiesLocation::new).collect(Collectors.toList()));,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return new OrderedProperties();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
protected Properties doLoadProperties(List<PropertiesLocation> paths) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
// add 3rd party sources,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
prop.putAll(p);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
// use locations,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (paths != null) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
// so we need to parse those,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
// check cache first,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (locationsProp == null) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (cache) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"cacheMap.put(key, locationsProp);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
prop.putAll(locationsProp);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"return parseUri(uri, prop);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"log.trace(""Parsing uri {} with properties: {}"", uri, prop);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (propertiesParser instanceof AugmentedPropertyNameAwarePropertiesParser) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return ((AugmentedPropertyNameAwarePropertiesParser) propertiesParser).parseUri(,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"prop,",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"prefixToken,",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"suffixToken,",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"propertyPrefixResolved,",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"propertySuffixResolved,",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"fallbackToUnaugmentedProperty,",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
defaultFallbackEnabled);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
} else {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"return propertiesParser.parseUri(uri, prop, prefixToken, suffixToken);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public List<PropertiesLocation> getLocations() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return locations;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public PropertiesResolver getPropertiesResolver() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return propertiesResolver;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
/**,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
*/,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public void setPropertiesResolver(PropertiesResolver propertiesResolver) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public boolean isCache() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return cache;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* Whether or not to cache loaded properties. The default value is true.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public void setCache(boolean cache) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public void setPropertyPrefix(String propertyPrefix) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (ObjectHelper.isNotEmpty(this.propertyPrefix)) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public void setPropertySuffix(String propertySuffix) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (ObjectHelper.isNotEmpty(this.propertySuffix)) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public boolean isFallbackToUnaugmentedProperty() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return fallbackToUnaugmentedProperty;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public void setFallbackToUnaugmentedProperty(boolean fallbackToUnaugmentedProperty) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
*,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* @param initialProperties properties that are added first,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* @param overrideProperties properties that is used first,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
@Override,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public boolean isResolvePropertyPlaceholders() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return false;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* Clears the cache,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public void clearCache() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
this.cacheMap.clear();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* Adds a custom {@link PropertiesSource},e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
// prepare properties sources which we must do eager,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
for (PropertiesSource ps : sources) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (ps instanceof CamelContextAware) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
((CamelContextAware) ps).setCamelContext(getCamelContext());,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
ServiceHelper.initService(propertiesSource);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (ps != null) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (ps instanceof PropertiesSource) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"LOG.info(""PropertiesComponent added custom PropertiesSource: {}"", ps);",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
addPropertiesSource((PropertiesSource) ps);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"LOG.warn(""PropertiesComponent cannot add custom PropertiesSource as the type is not a org.apache.camel.component.properties.PropertiesSource but: "" + type.getName());",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
super.doStart();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
cacheMap.clear();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
ServiceHelper.stopAndShutdownService(sources);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
super.doStop();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* Key used in the locations cache,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public boolean equals(Object o) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (this == o) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return true;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
if (o == null || getClass() != o.getClass()) {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return locations.equals(that.locations);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public int hashCode() {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
return locations.hashCode();,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
"return ""LocationKey["" + locations.toString() + ""]"";",e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
import java.io.IOError;,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
public interface PropertiesComponent extends Component {,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* @param uri  input text,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* @param locations locations to load as properties (will not use the default locations),e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* @throws IllegalArgumentException is thrown if error during parsing,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* @throws IOError is thrown if error loading properties,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* Loads the properties from the given locations,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* @return the properties loaded.,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
Properties loadProperties(String... locations);,e8ce1da8ec65b68d9609efc4b0b2581034ec4fe1,0,1
* Reference URI for the content to be signed. Only used in the enveloped case. If the reference URI contains an ID,12241987618a69a588beb6541750016ab25e9f9e,17,0
"* In the enveloped XML signature case, the XML document without the signature part is returned in the message body.",12241987618a69a588beb6541750016ab25e9f9e,15,0
* Sets the XPath to find the parent node in the enveloped case. Either you specify the parent node via this method,12241987618a69a588beb6541750016ab25e9f9e,15,0
* <code>null</code>. In this case the parent element must be contained in the XML document provided by the message body,12241987618a69a588beb6541750016ab25e9f9e,15,0
"* ID (default). If this parameter is set to """" (empty string) then no Id attribute is created in the signature",12241987618a69a588beb6541750016ab25e9f9e,14,0
* If <code>null</code> or an empty value is set then no prefix is used for the XML signature namespace.,12241987618a69a588beb6541750016ab25e9f9e,13,0
* Local name of the parent element to which the XML signature element will be added. Only relevant for enveloped,12241987618a69a588beb6541750016ab25e9f9e,13,0
* Sets the signature Id. If this parameter is not set (null value) then a unique ID is generated for the signature,12241987618a69a588beb6541750016ab25e9f9e,13,0
* Creates from the message body a XML signature element which is returned in the message body of the output message.,12241987618a69a588beb6541750016ab25e9f9e,13,0
* Detached signatures where the signature element is a sibling element to the signed element are supported. Those,12241987618a69a588beb6541750016ab25e9f9e,13,0
* Maps the XML signature to a camel message. A output node is determined from the XML signature document via a node,12241987618a69a588beb6541750016ab25e9f9e,12,0
"* In the enveloping XML signature case, the message body is determined from a referenced Object element in the",12241987618a69a588beb6541750016ab25e9f9e,12,0
"+ ""Value must have the form '{<namespace>}<element local name>' or '<element local name>' if no the element has no namespace."",",12241987618a69a588beb6541750016ab25e9f9e,12,0
* @return           <code>true</code> if the root element of the xml signature document is the signature element;,12241987618a69a588beb6541750016ab25e9f9e,12,0
"+ ""Value must have the form '{<namespace>}<element local name>' or '<element local name>' if no the element has no namespace."",",12241987618a69a588beb6541750016ab25e9f9e,12,1
* Type of the content reference. The default value is <code>null</code>. This value can be overwritten by the,12241987618a69a588beb6541750016ab25e9f9e,12,0
"* @param parentXpath xpath to the parent node, if the xpath returns several values then the first Element node is",12241987618a69a588beb6541750016ab25e9f9e,12,0
* Either you specify the parent node via this method or the local name and namespace of the parent,12241987618a69a588beb6541750016ab25e9f9e,12,1
"* @param parentXpath xpath to the parent node, if the xpath returns several values then the first Element node is used",12241987618a69a588beb6541750016ab25e9f9e,12,1
"""The parent XPath //pre:root for an enveloped signature and the XPATHs to ID attributes for a detached signature are specified. You must not specify both parameters."",",12241987618a69a588beb6541750016ab25e9f9e,12,0
"""The parent XPath //pre:root for an enveloped signature and the XPATHs to ID attributes for a detached signature are specified. You must not specify both parameters."",",12241987618a69a588beb6541750016ab25e9f9e,12,1
* Namespace of the parent element to which the XML signature element will be added.,12241987618a69a588beb6541750016ab25e9f9e,11,0
* the schema validator will then find out which attributes are ID attributes. Will be ignored in the enveloping or,12241987618a69a588beb6541750016ab25e9f9e,11,0
* type ID). For each element found via the XPATH expression a detached signature is created whose reference URI,12241987618a69a588beb6541750016ab25e9f9e,11,0
* Reference URI for the content to be signed. Only used in the enveloped,12241987618a69a588beb6541750016ab25e9f9e,11,1
* Sets the XPath to find the parent node in the enveloped case.,12241987618a69a588beb6541750016ab25e9f9e,11,1
* and the signature element is added as last child element of the parent element. If a KeyInfo instance is provided by,12241987618a69a588beb6541750016ab25e9f9e,11,0
"+ "" for an enveloped signature and the XPATHs to ID attributes for a detached signature are specified. You must not specify both parameters."");",12241987618a69a588beb6541750016ab25e9f9e,11,0
"+ "". Either the configuration of the XML signature component is wrong or the incoming message has not the correct structure."");",12241987618a69a588beb6541750016ab25e9f9e,11,0
* <code>null</code>. In this case the parent element must be contained in the,12241987618a69a588beb6541750016ab25e9f9e,11,1
"+ "" for an enveloped signature and the XPATHs to ID attributes for a detached signature are specified. You must not specify both parameters."");",12241987618a69a588beb6541750016ab25e9f9e,11,1
"+ "". Either the configuration of the XML signature component is wrong or the incoming message has not the correct structure."");",12241987618a69a588beb6541750016ab25e9f9e,11,1
"+ "" for an enveloped signature and the XPATHs to ID attributes for a detached signature are specified. You must not specify both parameters."",",12241987618a69a588beb6541750016ab25e9f9e,11,0
"+ "". Either the configuration of the XML signature component is wrong or the incoming message has not the correct structure."",",12241987618a69a588beb6541750016ab25e9f9e,11,0
"+ "" for an enveloped signature and the XPATHs to ID attributes for a detached signature are specified. You must not specify both parameters."",",12241987618a69a588beb6541750016ab25e9f9e,11,1
"+ "". Either the configuration of the XML signature component is wrong or the incoming message has not the correct structure."",",12241987618a69a588beb6541750016ab25e9f9e,11,1
"* <li>The ""ElementName"" search uses the local name and namespace specified in the search value to determine the output",12241987618a69a588beb6541750016ab25e9f9e,10,0
* the signature elements should be removed from the resulting output document. This flag shall be used for enveloped,12241987618a69a588beb6541750016ab25e9f9e,10,0
"* <li>The ""XPath"" search uses an XPath expression to evaluate the output node. In this case the output node can be of",12241987618a69a588beb6541750016ab25e9f9e,10,0
* signature elements should be removed from the resulting output document. This flag shall be used for enveloped XML,12241987618a69a588beb6541750016ab25e9f9e,10,0
* Returns the references whose referenced objects are taken into account for the message body. This message you can,12241987618a69a588beb6541750016ab25e9f9e,10,0
"* In the enveloped XML signature case, the XML document without the signature",12241987618a69a588beb6541750016ab25e9f9e,10,1
"throw new XmlSignatureException(String.format(""Cannot extract root node for the output document from the XML signature document. """,12241987618a69a588beb6541750016ab25e9f9e,10,1
"* The ASF licenses this file to You under the Apache License, Version 2.0",12241987618a69a588beb6541750016ab25e9f9e,10,0
* message. If this digest algorithm is not specified then the digest algorithm is calculated from the signature,12241987618a69a588beb6541750016ab25e9f9e,10,0
* In order to protect the KeyInfo element from tampering you can add a reference to the signed info element so that,12241987618a69a588beb6541750016ab25e9f9e,10,0
* Default value is <code>null</code>. The value must be <code>null</code> for enveloping and detached XML,12241987618a69a588beb6541750016ab25e9f9e,10,0
* Define the elements which are signed in the detached case via XPATH expressions to ID attributes (attributes of,12241987618a69a588beb6541750016ab25e9f9e,10,0
* enveloped signature and this parameter for detached signature must not be set in the same configuration.,12241987618a69a588beb6541750016ab25e9f9e,10,0
* or the local name and namespace of the parent with the methods {@link #setParentLocalName(String)} and,12241987618a69a588beb6541750016ab25e9f9e,10,0
"* The ASF licenses this file to You under the Apache License, Version 2.0",12241987618a69a588beb6541750016ab25e9f9e,10,1
* reference to the signed info element so that it is protected via the,12241987618a69a588beb6541750016ab25e9f9e,10,1
* If <code>null</code> or an empty value is set then no prefix is used for,12241987618a69a588beb6541750016ab25e9f9e,10,1
* Local name of the parent element to which the XML signature element will,12241987618a69a588beb6541750016ab25e9f9e,10,1
* Namespace of the parent element to which the XML signature element will,12241987618a69a588beb6541750016ab25e9f9e,10,1
"* is set to """" (empty string) then no Id attribute is created in the",12241987618a69a588beb6541750016ab25e9f9e,10,1
* Detached signatures where the signature element is a sibling element to the,12241987618a69a588beb6541750016ab25e9f9e,10,1
"throw new XmlSignatureException(""The parent XPath "" + getConfiguration().getParentXpath().getXPath() + "" is wrongly configured: The XPath "" + xp.getXPath() + "" is invalid."", e);",12241987618a69a588beb6541750016ab25e9f9e,10,1
"throw new XmlSignatureException(""The parent XPath "" + xp.getXPath() + "" returned no result. Check the configuration of the XML signer component."");",12241987618a69a588beb6541750016ab25e9f9e,10,1
"throw new XmlSignatureException(""The parent XPath "" + xp.getXPath() + "" returned no element. Check the configuration of the XML signer component."");",12241987618a69a588beb6541750016ab25e9f9e,10,1
"""The configruation of the XML Signature component is wrong: No XML schema specified in the detached case"",",12241987618a69a588beb6541750016ab25e9f9e,10,0
"""The configruation of the XML Signature component is wrong: No XML schema specified in the detached case"", null);",12241987618a69a588beb6541750016ab25e9f9e,10,1
"+ "" resulted in an attribute which is not of type ID. The attribute value is "" + value + ""."", null);",12241987618a69a588beb6541750016ab25e9f9e,10,1
* Search type 'XPath' for determining the output node. Search value must be of type,12241987618a69a588beb6541750016ab25e9f9e,9,0
"String.format(""Cannot extract root node for the output document from the XML signature document. """,12241987618a69a588beb6541750016ab25e9f9e,9,0
* Returns the objects which must be taken into account for the mapping to the camel message.,12241987618a69a588beb6541750016ab25e9f9e,9,0
* Returns the DOM structure which is transformed to a byte array and set to the camel message body.,12241987618a69a588beb6541750016ab25e9f9e,9,0
* the XML signature document via a node search and then serialized and set to,12241987618a69a588beb6541750016ab25e9f9e,9,1
* the search value to determine the output element from the XML signature,12241987618a69a588beb6541750016ab25e9f9e,9,1
"* In this case the output node can be of type Element, TextNode, or Document.",12241987618a69a588beb6541750016ab25e9f9e,9,1
"* For the signing process, a private key is necessary. You specify a key accessor bean which provides this private",12241987618a69a588beb6541750016ab25e9f9e,9,0
* Sets the content object Id attribute value. By default a UUID is generated. If you set the <code>null</code>,12241987618a69a588beb6541750016ab25e9f9e,9,0
"* For the signing process, a private key is necessary. You specify a key accessor bean which provides this private key.",12241987618a69a588beb6541750016ab25e9f9e,9,1
* unique ID is generated for the signature ID (default). If this parameter,12241987618a69a588beb6541750016ab25e9f9e,9,1
"* case. If the reference URI contains an ID attribute value, then the",12241987618a69a588beb6541750016ab25e9f9e,9,1
* Default value is <code>null</code>. The value must be <code>null</code> for enveloping and,12241987618a69a588beb6541750016ab25e9f9e,9,1
* reference to the KeyInfo element is added. The generated XML signature has the following structure:,12241987618a69a588beb6541750016ab25e9f9e,9,0
"* In the enveloping XML signature case, the generated XML signature has the following structure:",12241987618a69a588beb6541750016ab25e9f9e,9,0
"* In the enveloping XML signature case, also message bodies containing plain text are supported. This must be indicated",12241987618a69a588beb6541750016ab25e9f9e,9,0
* elements can be signed which have ID attributes. The elements to be signed must be specified via xpath expressions,12241987618a69a588beb6541750016ab25e9f9e,9,0
"""Key accessor is missing for XML signature generation. Specify a key accessor in the configuration."");",12241987618a69a588beb6541750016ab25e9f9e,9,0
* Creates from the message body a XML signature element which is returned in,12241987618a69a588beb6541750016ab25e9f9e,9,1
* XML document provided by the message body and the signature element is added,12241987618a69a588beb6541750016ab25e9f9e,9,1
"* In the enveloping XML signature case, the generated XML signature has the",12241987618a69a588beb6541750016ab25e9f9e,9,1
"""Key accessor is missing for XML signature generation. Specify a key accessor in the configuration."");",12241987618a69a588beb6541750016ab25e9f9e,9,1
"+ el.getLocalName() + ""{"" + el.getNamespaceURI() + ""} which is referenced by the reference URI "" + referenceUri",12241987618a69a588beb6541750016ab25e9f9e,9,1
* KeySelector which retrieves the public key from the KeyValue element and returns it. NOTE: If the key algorithm,12241987618a69a588beb6541750016ab25e9f9e,9,0
"+ localName + ""{"" + namespaceURI + ""} which is referenced by the reference URI "" + referenceUri",12241987618a69a588beb6541750016ab25e9f9e,9,1
* support enveloped XML signature or enveloping XML signature.,12241987618a69a588beb6541750016ab25e9f9e,8,0
"* element from the XML signature document. With the input parameter 'RemoveSignatureElements"", you can specify whether",12241987618a69a588beb6541750016ab25e9f9e,8,0
* <li>The node of the DOMStructure is serialized to a byte array and added as body to the message.,12241987618a69a588beb6541750016ab25e9f9e,8,0
* Checks whether the XML document has as root element the signature element.,12241987618a69a588beb6541750016ab25e9f9e,8,0
"* In the enveloping XML signature case, the message body is determined from a",12241987618a69a588beb6541750016ab25e9f9e,8,1
* Checks whether the XML document has as root element the signature,12241987618a69a588beb6541750016ab25e9f9e,8,1
* @return <code>true</code> if the root element of the xml signature,12241987618a69a588beb6541750016ab25e9f9e,8,1
* for the message body. This message you can use to filter the relevant,12241987618a69a588beb6541750016ab25e9f9e,8,1
* Returns the objects which must be taken into account for the mapping to,12241987618a69a588beb6541750016ab25e9f9e,8,1
* the License.  You may obtain a copy of the License at,12241987618a69a588beb6541750016ab25e9f9e,8,0
* Digest algorithm URI. Optional parameter. This digest algorithm is used for calculating the digest of the input,12241987618a69a588beb6541750016ab25e9f9e,8,0
"* Namespace prefix for the XML signature namespace ""http://www.w3.org/2000/09/xmldsig#"". Default value is ""ds"".",12241987618a69a588beb6541750016ab25e9f9e,8,0
* This parameter or the parameter {@link #setParentXpath(XPathFilterParameterSpec)} for enveloped signature and the,12241987618a69a588beb6541750016ab25e9f9e,8,0
* If the parameters <tt>parentXpath</tt> and <tt>parentLocalName</tt> are specified in the same configuration then,12241987618a69a588beb6541750016ab25e9f9e,8,0
"// content object ID must always be set, because it is only used in enveloping case.",12241987618a69a588beb6541750016ab25e9f9e,8,0
"* value, then a new UUID will be generated. Only used in the enveloping case.",12241987618a69a588beb6541750016ab25e9f9e,8,0
* the License.  You may obtain a copy of the License at,12241987618a69a588beb6541750016ab25e9f9e,8,1
"* By default, C14n is added and in the case of enveloped signature (see option parentLocalName) also http://www.w3.org/2000/09/xmldsig#enveloped-signature",12241987618a69a588beb6541750016ab25e9f9e,8,1
* for calculating the digest of the input message. If this digest algorithm,12241987618a69a588beb6541750016ab25e9f9e,8,1
"// content object ID must always be set, because it is only used in enveloping case.",12241987618a69a588beb6541750016ab25e9f9e,8,1
* Sets the signature Id. If this parameter is not set (null value) then a,12241987618a69a588beb6541750016ab25e9f9e,8,1
* ID attributes. Will be ignored in the enveloping or detached case.,12241987618a69a588beb6541750016ab25e9f9e,8,1
* Type of the content reference. The default value is <code>null</code>.,12241987618a69a588beb6541750016ab25e9f9e,8,1
* expressions to ID attributes (attributes of type ID). For each element,12241987618a69a588beb6541750016ab25e9f9e,8,1
* then also a reference to the KeyInfo element is added. The generated XML,12241987618a69a588beb6541750016ab25e9f9e,8,1
"+ "" and the parent XPath "" + getConfiguration().getParentXpath().getXPath() + "" are specified. You must not specify both parameters."");",12241987618a69a588beb6541750016ab25e9f9e,8,1
"+ xp.getXPath() + "" resulted in an attribute which is not of type ID. The attribute value is """,12241987618a69a588beb6541750016ab25e9f9e,8,1
"""The parent local name root and the parent XPath //pre:root are specified. You must not specify both parameters."",",12241987618a69a588beb6541750016ab25e9f9e,8,0
"""The parent local name root and the parent XPath //pre:root are specified. You must not specify both parameters."", null);",12241987618a69a588beb6541750016ab25e9f9e,8,1
* This does mean that the enveloping XML signature must have either the structure,12241987618a69a588beb6541750016ab25e9f9e,7,0
"+ ""XPATH %s as specified in the output node search results into a node which has the wrong type."",",12241987618a69a588beb6541750016ab25e9f9e,7,0
"""Unsupported XML signature document: Content object not found in the enveloping XML signature.""));",12241987618a69a588beb6541750016ab25e9f9e,7,0
* Maps the XML signature to a camel message. A output node is determined from,12241987618a69a588beb6541750016ab25e9f9e,7,1
* document. This flag shall be used for enveloped XML signatures.,12241987618a69a588beb6541750016ab25e9f9e,7,1
* This does mean that the enveloping XML signature must have either the,12241987618a69a588beb6541750016ab25e9f9e,7,1
* Search type 'XPath' for determining the output node. Search value must be,12241987618a69a588beb6541750016ab25e9f9e,7,1
"+ ""XPATH %s as specified in the output node search results into a node which has the wrong type."", xpathFilter.getXPath()));",12241987618a69a588beb6541750016ab25e9f9e,7,1
* Returns the DOM structure which is transformed to a byte array and set to,12241987618a69a588beb6541750016ab25e9f9e,7,1
"String.format(""Unsupported XML signature document: Content object not found in the enveloping XML signature.""));",12241987618a69a588beb6541750016ab25e9f9e,7,1
"* distributed under the License is distributed on an ""AS IS"" BASIS,",12241987618a69a588beb6541750016ab25e9f9e,7,0
* Canonicalization method used to canonicalize the SignedInfo element before the digest is calculated. You can use,12241987618a69a588beb6541750016ab25e9f9e,7,0
"* Transforms which are executed on the message body before the digest is calculated. By default, C14n is added and",12241987618a69a588beb6541750016ab25e9f9e,7,0
* in the case of enveloped signature (see option parentLocalName) also,12241987618a69a588beb6541750016ab25e9f9e,7,0
* it is protected via the signature value. The default value is <tt>true</tt>.,12241987618a69a588beb6541750016ab25e9f9e,7,0
* parameter {@link #setXpathsToIdAttributes(List)} for detached signature must not be set in the same,12241987618a69a588beb6541750016ab25e9f9e,7,0
"* attribute value, then the resource schema URI ( {@link #setSchemaResourceUri(String)}) must also be set because",12241987618a69a588beb6541750016ab25e9f9e,7,0
* contains the corresponding attribute value (preceded by '#'). The signature becomes the last sibling of the,12241987618a69a588beb6541750016ab25e9f9e,7,0
"* distributed under the License is distributed on an ""AS IS"" BASIS,",12241987618a69a588beb6541750016ab25e9f9e,7,1
* is added at position 0 of the list. Use methods in XmlSignatureHelper to create the transform methods.,12241987618a69a588beb6541750016ab25e9f9e,7,1
* is not specified then the digest algorithm is calculated from the,12241987618a69a588beb6541750016ab25e9f9e,7,1
* <code>null</code>. The value must be <code>null</code> for enveloping and,12241987618a69a588beb6541750016ab25e9f9e,7,1
* for detached signature must not be set in the same configuration.,12241987618a69a588beb6541750016ab25e9f9e,7,1
"* generated. If you set the <code>null</code> value, then a new UUID will",12241987618a69a588beb6541750016ab25e9f9e,7,1
* Define the elements which are signed in the detached case via XPATH,12241987618a69a588beb6541750016ab25e9f9e,7,1
* for enveloped signature and this parameter for detached signature must not,12241987618a69a588beb6541750016ab25e9f9e,7,1
"* In the enveloped XML signature case, the method {@link XmlSignerConfiguration#getParentLocalName()} must not return",12241987618a69a588beb6541750016ab25e9f9e,7,0
* (see {@link XmlSignerConfiguration#setXpathsToIdAttributes(List)}) and the XML schema must be provided via the schema,12241987618a69a588beb6541750016ab25e9f9e,7,0
"* In all cases, you can add additional references and objects which contain properties for the XML signature, see",12241987618a69a588beb6541750016ab25e9f9e,7,0
"+ "" has no parent element. The element must have a parent element in the configured detached case."");",12241987618a69a588beb6541750016ab25e9f9e,7,0
"+ "" resulted in an attribute which is not of type ID. The attribute value is """,12241987618a69a588beb6541750016ab25e9f9e,7,0
* as last child element of the parent element. If a KeyInfo instance is,12241987618a69a588beb6541750016ab25e9f9e,7,1
* signed element are supported. Those elements can be signed which have ID,12241987618a69a588beb6541750016ab25e9f9e,7,1
* XML schema must be provided via the schema resource URI (see method,12241987618a69a588beb6541750016ab25e9f9e,7,1
"+ "" has no parent element. The element must have a parent element in the configured detached case."");",12241987618a69a588beb6541750016ab25e9f9e,7,1
* XML signature verifier. Assumes that the input XML contains exactly one Signature element.,12241987618a69a588beb6541750016ab25e9f9e,7,0
"throw new XmlSignatureFormatException(""Message has wrong format, it is not a XML signature document. Check the sent message."",",12241987618a69a588beb6541750016ab25e9f9e,7,1
"+ "" resulted in an attribute which is not of type ID. The attribute value is """,12241987618a69a588beb6541750016ab25e9f9e,7,0
"+ "" has no parent element. The element must have a parent element in the configured detached case."",",12241987618a69a588beb6541750016ab25e9f9e,7,0
"""The parent XPath /pre:root/@ID returned no element. Check the configuration of the XML signer component."",",12241987618a69a588beb6541750016ab25e9f9e,7,0
"* doesn't match signature algorithm, then the public key will be ignored.",12241987618a69a588beb6541750016ab25e9f9e,7,0
"+ "" has no parent element. The element must have a parent element in the configured detached case."", null);",12241987618a69a588beb6541750016ab25e9f9e,7,1
"""The parent XPath /pre:root/@ID returned no element. Check the configuration of the XML signer component."", null);",12241987618a69a588beb6541750016ab25e9f9e,7,1
* search and then serialized and set to the output message body.,12241987618a69a588beb6541750016ab25e9f9e,6,0
"* type Element, TextNode, or Document. With the input parameter 'RemoveSignatureElements"", you can specify whether the",12241987618a69a588beb6541750016ab25e9f9e,6,0
* @param  input     XML signature input,12241987618a69a588beb6541750016ab25e9f9e,6,0
* use to filter the relevant references from the references provided by the input parameter.,12241987618a69a588beb6541750016ab25e9f9e,6,0
* @return           relevant references for the mapping to the camel message,12241987618a69a588beb6541750016ab25e9f9e,6,0
* @return           relevant objects for the mapping to camel message,12241987618a69a588beb6541750016ab25e9f9e,6,0
"* <li>The ""ElementName"" search uses the local name and namespace specified in",12241987618a69a588beb6541750016ab25e9f9e,6,1
* the signature elements should be removed from the resulting output document.,12241987618a69a588beb6541750016ab25e9f9e,6,1
* This flag shall be used for enveloped XML signatures.,12241987618a69a588beb6541750016ab25e9f9e,6,1
* part is returned in the message body.,12241987618a69a588beb6541750016ab25e9f9e,6,1
* <li>The node of the DOMStructure is serialized to a byte array and added as,12241987618a69a588beb6541750016ab25e9f9e,6,1
"""Wrong configuration: Search value is of class %s, the output node search %s requires class %s."", input",12241987618a69a588beb6541750016ab25e9f9e,6,1
* @return relevant references for the mapping to the camel message,12241987618a69a588beb6541750016ab25e9f9e,6,1
* @return relevant objects for the mapping to camel message,12241987618a69a588beb6541750016ab25e9f9e,6,1
* Licensed to the Apache Software Foundation (ASF) under one or more,12241987618a69a588beb6541750016ab25e9f9e,6,0
* contributor license agreements.  See the NOTICE file distributed with,12241987618a69a588beb6541750016ab25e9f9e,6,0
"* (the ""License""); you may not use this file except in compliance with",12241987618a69a588beb6541750016ab25e9f9e,6,0
* See the License for the specific language governing permissions and,12241987618a69a588beb6541750016ab25e9f9e,6,0
* the message body contains XML. The value can be overwritten by the header,12241987618a69a588beb6541750016ab25e9f9e,6,0
* Encoding of the plain text. Only relevant if the message body is plain text (see parameter {@link #plainText}.,12241987618a69a588beb6541750016ab25e9f9e,6,0
"* For adding additional References and Objects to the XML signature which contain additional properties, you can",12241987618a69a588beb6541750016ab25e9f9e,6,0
* Licensed to the Apache Software Foundation (ASF) under one or more,12241987618a69a588beb6541750016ab25e9f9e,6,1
* contributor license agreements.  See the NOTICE file distributed with,12241987618a69a588beb6541750016ab25e9f9e,6,1
"* (the ""License""); you may not use this file except in compliance with",12241987618a69a588beb6541750016ab25e9f9e,6,1
* See the License for the specific language governing permissions and,12241987618a69a588beb6541750016ab25e9f9e,6,1
* Canonicalization method used to canonicalize the SignedInfo element before the digest is calculated.,12241987618a69a588beb6541750016ab25e9f9e,6,1
* Transforms which are executed on the message body before the digest is calculated.,12241987618a69a588beb6541750016ab25e9f9e,6,1
* Namespace prefix for the XML signature namespace,12241987618a69a588beb6541750016ab25e9f9e,6,1
* be added. Only relevant for enveloped XML signature. Alternatively you can,12241987618a69a588beb6541750016ab25e9f9e,6,1
* be generated. Only used in the enveloping case.,12241987618a69a588beb6541750016ab25e9f9e,6,1
* set because the schema validator will then find out which attributes are,12241987618a69a588beb6541750016ab25e9f9e,6,1
* Encoding of the plain text. Only relevant if the message body is plain,12241987618a69a588beb6541750016ab25e9f9e,6,1
"* For adding additional References and Objects to the XML signature which contain additional properties,",12241987618a69a588beb6541750016ab25e9f9e,6,1
* '#'). The signature becomes the last sibling of the signed element.,12241987618a69a588beb6541750016ab25e9f9e,6,1
* level are signed first. This procedure can result in nested signatures.,12241987618a69a588beb6541750016ab25e9f9e,6,0
"""The configuration of the XML signer component is wrong. The parent local name """,12241987618a69a588beb6541750016ab25e9f9e,6,0
"+ "" is wrongly configured: The XPath "" + xp.getXPath() + "" is invalid."",",12241987618a69a588beb6541750016ab25e9f9e,6,0
"+ "" returned no result. Check the configuration of the XML signer component."");",12241987618a69a588beb6541750016ab25e9f9e,6,0
"+ "" returned no element. Check the configuration of the XML signer component."");",12241987618a69a588beb6541750016ab25e9f9e,6,0
"+ ""} which is referenced by the reference URI "" + referenceUri",12241987618a69a588beb6541750016ab25e9f9e,6,0
"* the message body of the output message. Enveloped, enveloping XML, and",12241987618a69a588beb6541750016ab25e9f9e,6,1
"* In the enveloped XML signature case, the method",12241987618a69a588beb6541750016ab25e9f9e,6,1
"* In the enveloping XML signature case, also message bodies containing plain",12241987618a69a588beb6541750016ab25e9f9e,6,1
* attributes. The elements to be signed must be specified via xpath expressions,12241987618a69a588beb6541750016ab25e9f9e,6,1
* deeper hierarchy level are signed first. This procedure can result in nested,12241987618a69a588beb6541750016ab25e9f9e,6,1
"""The configuration of the XML signer component is wrong. The parent local name """,12241987618a69a588beb6541750016ab25e9f9e,6,1
"""Message has wrong format, it is not a XML signature document. Check the sent message."",",12241987618a69a588beb6541750016ab25e9f9e,6,0
* XML signature verifier. Assumes that the input XML contains exactly one,12241987618a69a588beb6541750016ab25e9f9e,6,1
* Checks that the processor sorts the xpath expressions in such a way that elements with deeper hierarchy level are,12241987618a69a588beb6541750016ab25e9f9e,6,0
"+ ""} which is referenced by the reference URI "" + referenceUri",12241987618a69a588beb6541750016ab25e9f9e,6,0
* KeySelector which retrieves the public key from the KeyValue element and,12241987618a69a588beb6541750016ab25e9f9e,6,1
* then the public key will be ignored.,12241987618a69a588beb6541750016ab25e9f9e,6,1
"""Wrong configuration: Search value is of class %s, the output node search %s requires class %s."",",12241987618a69a588beb6541750016ab25e9f9e,5,0
"""Unsupported XML signature document: More than one content objects found. Object IDs: %s"",",12241987618a69a588beb6541750016ab25e9f9e,5,0
"* and ""XPath"". All these search types support enveloped XML signature or",12241987618a69a588beb6541750016ab25e9f9e,5,1
* whether the signature elements should be removed from the resulting output,12241987618a69a588beb6541750016ab25e9f9e,5,1
* referenced Object element in the following way:,12241987618a69a588beb6541750016ab25e9f9e,5,1
*         document is the signature element; otherwise <code>false</code>,12241987618a69a588beb6541750016ab25e9f9e,5,1
* Returns the references whose referenced objects are taken into account,12241987618a69a588beb6541750016ab25e9f9e,5,1
"""Unsupported XML signature document: More than one content objects found. Object IDs: %s"", sb.toString()));",12241987618a69a588beb6541750016ab25e9f9e,5,1
* http://www.w3.org/2000/09/xmldsig#enveloped-signature is added at position 0 of the list. Use methods in,12241987618a69a588beb6541750016ab25e9f9e,5,0
public void setContentObjectId(String contentObjectId) {,12241987618a69a588beb6541750016ab25e9f9e,5,0
"* Indicator whether the message body contains plain text. The default value is <code>false</code>, indicating that",12241987618a69a588beb6541750016ab25e9f9e,5,0
* signed element. Elements with deeper hierarchy level are signed first.,12241987618a69a588beb6541750016ab25e9f9e,5,0
* You can also set the XPATH list dynamically via the header,12241987618a69a588beb6541750016ab25e9f9e,5,0
* for enveloped signature and the parameter {@link #setXpathsToIdAttributes(List)},12241987618a69a588beb6541750016ab25e9f9e,5,1
* If the parameters <tt>parentXpath</tt> and <tt>parentLocalName</tt> are specified,12241987618a69a588beb6541750016ab25e9f9e,5,1
* in the same configuration then an exception is thrown.,12241987618a69a588beb6541750016ab25e9f9e,5,1
* Sets the content object Id attribute value. By default a UUID is,12241987618a69a588beb6541750016ab25e9f9e,5,1
public void setContentObjectId(String contentObjectId) {,12241987618a69a588beb6541750016ab25e9f9e,5,1
* This value can be overwritten by the header,12241987618a69a588beb6541750016ab25e9f9e,5,1
* found via the XPATH expression a detached signature is created whose,12241987618a69a588beb6541750016ab25e9f9e,5,1
* reference URI contains the corresponding attribute value (preceded by,12241987618a69a588beb6541750016ab25e9f9e,5,1
* You can also set the XPATH list dynamically via the header,12241987618a69a588beb6541750016ab25e9f9e,5,1
* be set in the same configuration.,12241987618a69a588beb6541750016ab25e9f9e,5,1
"* In all cases, the digest algorithm is either read from the configuration method",12241987618a69a588beb6541750016ab25e9f9e,5,0
"+ "" and the parent XPath "" + getConfiguration().getParentXpath().getXPath()",12241987618a69a588beb6541750016ab25e9f9e,5,0
"+ "" returned a node which was not of type Attribute."");",12241987618a69a588beb6541750016ab25e9f9e,5,0
* text are supported. This must be indicated via the header,12241987618a69a588beb6541750016ab25e9f9e,5,1
"* In all cases, the digest algorithm is either read from the configuration",12241987618a69a588beb6541750016ab25e9f9e,5,1
"* properties for the XML signature, see",12241987618a69a588beb6541750016ab25e9f9e,5,1
"""Wrong configured xpath expression for ID attributes: The evaluation of the xpath expression "" + xp.getXPath()",12241987618a69a588beb6541750016ab25e9f9e,5,1
"+ "" returned a node which was not of type Attribute."");",12241987618a69a588beb6541750016ab25e9f9e,5,1
"protected Reference createKeyInfoReference(XMLSignatureFactory fac, String keyInfoId, String digestAlgorithm) throws Exception {",12241987618a69a588beb6541750016ab25e9f9e,5,1
return new RouteBuilder[] { new RouteBuilder() {,12241987618a69a588beb6541750016ab25e9f9e,5,0
"+ "" returned a node which was not of type Attribute."",",12241987618a69a588beb6541750016ab25e9f9e,5,0
"+ "" returned a node which was not of type Attribute."", null);",12241987618a69a588beb6541750016ab25e9f9e,5,1
"* returns it. NOTE: If the key algorithm doesn't match signature algorithm,",12241987618a69a588beb6541750016ab25e9f9e,5,1
* <li>Only same document references are taken into account (URI must start with '#').,12241987618a69a588beb6541750016ab25e9f9e,4,0
* <li>Also indirect same document references to an object via manifest are taken into account.,12241987618a69a588beb6541750016ab25e9f9e,4,0
* @param  input     references and objects,12241987618a69a588beb6541750016ab25e9f9e,4,0
* enveloping XML signature.,12241987618a69a588beb6541750016ab25e9f9e,4,1
"* document. With the input parameter 'RemoveSignatureElements"", you can specify",12241987618a69a588beb6541750016ab25e9f9e,4,1
"* <li>The ""XPath"" search uses an XPath expression to evaluate the output node.",12241987618a69a588beb6541750016ab25e9f9e,4,1
* <li>Only same document references are taken into account (URI must start with,12241987618a69a588beb6541750016ab25e9f9e,4,1
* <li>Also indirect same document references to an object via manifest are,12241987618a69a588beb6541750016ab25e9f9e,4,1
"throw new XmlSignatureException(String.format(""Wrong configuration: The output node search type %s is not supported."",",12241987618a69a588beb6541750016ab25e9f9e,4,1
"throw new XMLSignatureException(String.format(""Wrong configuration: Value for output node search %s is empty."",",12241987618a69a588beb6541750016ab25e9f9e,4,1
"throw new XMLSignatureException(String.format(""Wrong configuration: Value is missing for output node search %s."",",12241987618a69a588beb6541750016ab25e9f9e,4,1
*            XML signature input,12241987618a69a588beb6541750016ab25e9f9e,4,1
* references from the references provided by the input parameter.,12241987618a69a588beb6541750016ab25e9f9e,4,1
"throw new XmlSignatureException(""Unsupported XML signature: more than one structure elements in referenced content object."");",12241987618a69a588beb6541750016ab25e9f9e,4,1
"* Unless required by applicable law or agreed to in writing, software",12241987618a69a588beb6541750016ab25e9f9e,4,0
* limitations under the License.,12241987618a69a588beb6541750016ab25e9f9e,4,0
* key. The key accessor bean must implement the KeyAccessor interface. The package,12241987618a69a588beb6541750016ab25e9f9e,4,0
"* Signature algorithm. Default value is ""http://www.w3.org/2000/09/xmldsig#rsa-sha1"".",12241987618a69a588beb6541750016ab25e9f9e,4,0
* Only relevant when a KeyInfo is returned by {@link KeyAccessor}. and {@link KeyInfo#getId()} is not,12241987618a69a588beb6541750016ab25e9f9e,4,0
public String getContentObjectId() {,12241987618a69a588beb6541750016ab25e9f9e,4,0
"* Unless required by applicable law or agreed to in writing, software",12241987618a69a588beb6541750016ab25e9f9e,4,1
* limitations under the License.,12241987618a69a588beb6541750016ab25e9f9e,4,1
* The key accessor bean must implement the KeyAccessor interface. The package org.apache.camel.component.xmlsecurity.api,12241987618a69a588beb6541750016ab25e9f9e,4,1
* contains the default implementation class DefaultKeyAccessor which reads the private key from a Java keystore.,12241987618a69a588beb6541750016ab25e9f9e,4,1
* Signature algorithm. Default value is,12241987618a69a588beb6541750016ab25e9f9e,4,1
* In order to protect the KeyInfo element from tampering you can add a,12241987618a69a588beb6541750016ab25e9f9e,4,1
* signature value. The default value is <tt>true</tt>.,12241987618a69a588beb6541750016ab25e9f9e,4,1
* the XML signature namespace.,12241987618a69a588beb6541750016ab25e9f9e,4,1
* <p> Default value is,12241987618a69a588beb6541750016ab25e9f9e,4,1
* This parameter or the parameter {@link #setParentXpath(XPathFilterParameterSpec)},12241987618a69a588beb6541750016ab25e9f9e,4,1
public String getContentObjectId() {,12241987618a69a588beb6541750016ab25e9f9e,4,1
* resource schema URI ( {@link #setSchemaResourceUri(String)}) must also be,12241987618a69a588beb6541750016ab25e9f9e,4,1
* Indicator whether the message body contains plain text. The default value,12241987618a69a588beb6541750016ab25e9f9e,4,1
"* is <code>false</code>, indicating that the message body contains XML. The",12241987618a69a588beb6541750016ab25e9f9e,4,1
* value can be overwritten by the header,12241987618a69a588beb6541750016ab25e9f9e,4,1
* Elements with deeper hierarchy level are signed first.,12241987618a69a588beb6541750016ab25e9f9e,4,1
"* Enveloped, enveloping XML, and detached signatures are supported.",12241987618a69a588beb6541750016ab25e9f9e,4,0
"* the {@link KeyAccessor} and {@link XmlSignerConfiguration#getAddKeyInfoReference()} is <code>true</code>, then also a",12241987618a69a588beb6541750016ab25e9f9e,4,0
* via the header {@link XmlSignatureConstants#HEADER_MESSAGE_IS_PLAIN_TEXT} or via the configuration,12241987618a69a588beb6541750016ab25e9f9e,4,0
* {@link XmlSignerConfiguration#getDigestAlgorithm()} or calculated from the signature algorithm (,12241987618a69a588beb6541750016ab25e9f9e,4,0
"private static final String HTTP_WWW_W3_ORG_2001_04_XMLDSIG_MORE_SHA224 = ""http://www.w3.org/2001/04/xmldsig-more#sha224""; // see RFC 4051",12241987618a69a588beb6541750016ab25e9f9e,4,0
"private static final String HTTP_WWW_W3_ORG_2001_04_XMLDSIG_MORE_SHA384 = ""http://www.w3.org/2001/04/xmldsig-more#sha384""; // see RFC 4051",12241987618a69a588beb6541750016ab25e9f9e,4,0
"LOG.warn(""No ID attribute found for xpath expression {}. Therfore this xpath expression will be ignored."",",12241987618a69a588beb6541750016ab25e9f9e,4,0
"""Wrong configured xpath expression for ID attributes: The evaluation of the xpath expression """,12241987618a69a588beb6541750016ab25e9f9e,4,0
private static final String HTTP_WWW_W3_ORG_2001_04_XMLDSIG_MORE_SHA224 =,12241987618a69a588beb6541750016ab25e9f9e,4,1
private static final String HTTP_WWW_W3_ORG_2001_04_XMLDSIG_MORE_SHA384 =,12241987618a69a588beb6541750016ab25e9f9e,4,1
"protected Reference createReference(XMLSignatureFactory fac, String uri, String type, SignatureType sigType, String id, Message message)",12241987618a69a588beb6541750016ab25e9f9e,4,1
"LOG.warn(""No ID attribute found for xpath expression {}. Therfore this xpath expression will be ignored."", xp.getXPath());",12241987618a69a588beb6541750016ab25e9f9e,4,1
"final List<Reference> refs, final List<XMLObject> objs, Message out, final Document messageBodyDocument)",12241987618a69a588beb6541750016ab25e9f9e,4,0
"private void map2Message(final List<Reference> refs, final List<XMLObject> objs, Message out, final Document messageBodyDocument)",12241987618a69a588beb6541750016ab25e9f9e,4,1
"String inputEncoding, String signerEncoding, String outputEncoding, String signerEndpointUri,",12241987618a69a588beb6541750016ab25e9f9e,4,0
* Checks that the processor sorts the xpath expressions in such a way that,12241987618a69a588beb6541750016ab25e9f9e,4,1
* elements with deeper hierarchy level are signed first.,12241987618a69a588beb6541750016ab25e9f9e,4,1
"+ ""<ns:root xmlns:ns=\""http://test\""><a ID=\""myID\"" stringAttr=\"""" + value + ""\""><b>bValue</b></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,4,1
"private void checkOutputEncoding(String inputEncoding, String signerEncoding, String outputEncoding, String signerEndpointUri,",12241987618a69a588beb6541750016ab25e9f9e,4,1
"fail(""Cause exception "" + expectedCauseClass.getName() + "" expected, but was "" + cause.getClass().getName() + "": """,12241987618a69a588beb6541750016ab25e9f9e,4,1
"* There are three output node search types supported: ""Default"", ""ElementName"", and ""XPath"". All these search types",12241987618a69a588beb6541750016ab25e9f9e,3,0
"String.format(""Wrong configuration: The output node search type %s is not supported."",",12241987618a69a588beb6541750016ab25e9f9e,3,0
"String.format(""Wrong configuration: Value for output node search %s is empty."",",12241987618a69a588beb6541750016ab25e9f9e,3,0
"String.format(""Wrong configuration: Value is missing for output node search %s."",",12241987618a69a588beb6541750016ab25e9f9e,3,0
* @param  relevantReferences input from method {@link #getReferencesForMessageMapping(ReferencesAndObjects)},12241987618a69a588beb6541750016ab25e9f9e,3,0
* @param  relevantObjects    input from method {@link #getObjectsForMessageMapping(ReferencesAndObjects)},12241987618a69a588beb6541750016ab25e9f9e,3,0
"""Unsupported XML signature: more than one structure elements in referenced content object."");",12241987618a69a588beb6541750016ab25e9f9e,3,0
* the output message body.,12241987618a69a588beb6541750016ab25e9f9e,3,1
"* There are three output node search types supported: ""Default"", ""ElementName"",",12241987618a69a588beb6541750016ab25e9f9e,3,1
"* With the input parameter 'RemoveSignatureElements"", you can specify whether",12241987618a69a588beb6541750016ab25e9f9e,3,1
* body to the message.,12241987618a69a588beb6541750016ab25e9f9e,3,1
* of type {@link XPathFilterParameterSpec}.,12241987618a69a588beb6541750016ab25e9f9e,3,1
* @param input,12241987618a69a588beb6541750016ab25e9f9e,3,1
* the camel message body.,12241987618a69a588beb6541750016ab25e9f9e,3,1
"protected void addManifestReferencedObjects(List<XMLObject> allObjects, List<XMLObject> referencedObjects, String manifestId) {",12241987618a69a588beb6541750016ab25e9f9e,3,1
* this work for additional information regarding copyright ownership.,12241987618a69a588beb6541750016ab25e9f9e,3,0
* reads the private key from a Java keystore.,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setKeyAccessor(KeyAccessor keyAccessor) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
* the helper methods XmlSignatureHelper.getCanonicalizationMethod(String algorithm) or,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setCanonicalizationMethod(AlgorithmMethod canonicalizationMethod) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
* XmlSignatureHelper to create the transform methods.,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setTransformMethods(List<AlgorithmMethod> transformMethods) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getSignatureAlgorithm() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setSignatureAlgorithm(String signatureAlgorithm) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getDigestAlgorithm() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setDigestAlgorithm(String digestAlgorithm) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setAddKeyInfoReference(Boolean addKeyInfoReference) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getPrefixForXmlSignatureNamespace() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setPrefixForXmlSignatureNamespace(String prefixForXmlSignatureNamespace) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getParentLocalName() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
* XML signature. Alternatively you can also use {@link #setParentXpath(XPathFilterParameterSpec)}.,12241987618a69a588beb6541750016ab25e9f9e,3,0
* @param parentLocalName local name,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setParentLocalName(String parentLocalName) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getParentNamespace() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setParentNamespace(String parentNamespace) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getSignatureId() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setSignatureId(String signatureId) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getContentReferenceUri() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setContentReferenceUri(String referenceUri) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getContentReferenceType() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setContentReferenceType(String referenceType) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setPlainText(Boolean plainText) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public String getPlainTextEncoding() {,12241987618a69a588beb6541750016ab25e9f9e,3,0
"* Default value is ""UTF-8"".",12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setPlainTextEncoding(String plainTextEncoding) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setProperties(XmlSignatureProperties properties) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
* The parameter {@link #setParentLocalName(String)} or {@link #setParentXpath(XPathFilterParameterSpec)} for,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setXpathsToIdAttributes(List<XPathFilterParameterSpec> xpathsToIdAttributes) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
public void setParentXpath(XPathFilterParameterSpec parentXpath) {,12241987618a69a588beb6541750016ab25e9f9e,3,0
* this work for additional information regarding copyright ownership.,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setKeyAccessor(KeyAccessor keyAccessor) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
* You can use the helper methods XmlSignatureHelper.getCanonicalizationMethod(String algorithm),12241987618a69a588beb6541750016ab25e9f9e,3,1
"* or getCanonicalizationMethod(String algorithm, List<String> inclusiveNamespacePrefixes) to create a canonicalization method.",12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setCanonicalizationMethod(AlgorithmMethod canonicalizationMethod) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setTransformMethods(List<AlgorithmMethod> transformMethods) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getSignatureAlgorithm() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setSignatureAlgorithm(String signatureAlgorithm) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getDigestAlgorithm() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
* Digest algorithm URI. Optional parameter. This digest algorithm is used,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setDigestAlgorithm(String digestAlgorithm) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
* Only relevant when a KeyInfo is returned by {@link KeyAccessor}. and,12241987618a69a588beb6541750016ab25e9f9e,3,1
* {@link KeyInfo#getId()} is not <code>null</code>.,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setAddKeyInfoReference(Boolean addKeyInfoReference) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getPrefixForXmlSignatureNamespace() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
"* ""http://www.w3.org/2000/09/xmldsig#"". Default value is ""ds"".",12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setPrefixForXmlSignatureNamespace(String prefixForXmlSignatureNamespace) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getParentLocalName() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
* detached XML signature.,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setParentLocalName(String parentLocalName) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getParentNamespace() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setParentNamespace(String parentNamespace) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getSignatureId() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setSignatureId(String signatureId) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getContentReferenceUri() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setContentReferenceUri(String referenceUri) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getContentReferenceType() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setContentReferenceType(String referenceType) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setPlainText(Boolean plainText) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public String getPlainTextEncoding() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
"* text (see parameter {@link #plainText}. Default value is ""UTF-8"".",12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setPlainTextEncoding(String plainTextEncoding) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setProperties(XmlSignatureProperties properties) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setXpathsToIdAttributes(List<XPathFilterParameterSpec> xpathsToIdAttributes) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
* with the methods {@link #setParentLocalName(String)} and {@link #setParentNamespace(String)}.,12241987618a69a588beb6541750016ab25e9f9e,3,1
public void setParentXpath(XPathFilterParameterSpec parentXpath) {,12241987618a69a588beb6541750016ab25e9f9e,3,1
* resource URI (see method {@link XmlSignerConfiguration#setSchemaResourceUri(String)}. Elements with deeper hierarchy,12241987618a69a588beb6541750016ab25e9f9e,3,0
"+ "" are specified. You must not specify both parameters."");",12241987618a69a588beb6541750016ab25e9f9e,3,0
"""The parent XPath "" + getConfiguration().getParentXpath().getXPath()",12241987618a69a588beb6541750016ab25e9f9e,3,0
"""The parent XPath "" + xp.getXPath()",12241987618a69a588beb6541750016ab25e9f9e,3,0
"+ el.getLocalName() + ""{"" + el.getNamespaceURI()",12241987618a69a588beb6541750016ab25e9f9e,3,0
int propsRefsSize = properties == null || properties.getReferences() == null || properties.getReferences().isEmpty(),12241987618a69a588beb6541750016ab25e9f9e,3,0
"XMLSignatureFactory fac, String uri, String type, SignatureType sigType, String id, Message message)",12241987618a69a588beb6541750016ab25e9f9e,3,0
"+ value + ""."");",12241987618a69a588beb6541750016ab25e9f9e,3,0
"protected Reference createKeyInfoReference(XMLSignatureFactory fac, String keyInfoId, String digestAlgorithm)",12241987618a69a588beb6541750016ab25e9f9e,3,0
* detached signatures are supported.,12241987618a69a588beb6541750016ab25e9f9e,3,1
* signature has the following structure:,12241987618a69a588beb6541750016ab25e9f9e,3,1
* {@link XmlSignatureConstants#HEADER_MESSAGE_IS_PLAIN_TEXT} or via the,12241987618a69a588beb6541750016ab25e9f9e,3,1
* the signature algorithm (,12241987618a69a588beb6541750016ab25e9f9e,3,1
"* In all cases, you can add additional references and objects which contain",12241987618a69a588beb6541750016ab25e9f9e,3,1
XmlSignatureProperties.Input input = new InputBuilder().contentDigestAlgorithm(getDigestAlgorithmUri()).keyInfo(keyInfo),12241987618a69a588beb6541750016ab25e9f9e,3,1
"protected Element getParentOfSignature(Message inMessage, Node messageBodyNode, String contentReferenceURI, SignatureType sigType)",12241987618a69a588beb6541750016ab25e9f9e,3,1
"private Element getParentForDetachedCase(Document doc, Message inMessage, String referenceUri) throws XmlSignatureException {",12241987618a69a588beb6541750016ab25e9f9e,3,1
String keyInfoId) throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,3,1
int propsRefsSize = properties == null || properties.getReferences() == null || properties.getReferences().isEmpty() ? 0,12241987618a69a588beb6541750016ab25e9f9e,3,1
"+ value + ""."");",12241987618a69a588beb6541750016ab25e9f9e,3,1
"""The configured xpath expression "" + wrongXPath + "" is invalid."",",12241987618a69a588beb6541750016ab25e9f9e,3,0
"+ ""<ns:root xmlns:ns=\""http://test\""><a ID=\""myID\"" stringAttr=\"""" + value",12241987618a69a588beb6541750016ab25e9f9e,3,0
"+ value + ""."",",12241987618a69a588beb6541750016ab25e9f9e,3,0
"+ localName + ""{"" + namespaceURI",12241987618a69a588beb6541750016ab25e9f9e,3,0
"XmlSignatureHelper.getXpathFilter(""/pre:root/@ID"", Collections.singletonMap(""pre"", ""http://test""))); // xpath with no element result",12241987618a69a588beb6541750016ab25e9f9e,3,0
"fail(""Cause exception "" + expectedCauseClass.getName() + "" expected, but was "" + cause.getClass().getName()",12241987618a69a588beb6541750016ab25e9f9e,3,0
return new RouteBuilder[] {new RouteBuilder() {,12241987618a69a588beb6541750016ab25e9f9e,3,1
"checkThrownException(mock, XmlSignatureException.class, ""The configured xpath expression "" + wrongXPath + "" is invalid."",",12241987618a69a588beb6541750016ab25e9f9e,3,1
"XmlSignerEndpoint endpoint = (XmlSignerEndpoint) context().getEndpoint(""xmlsecurity-sign:signexceptions?keyAccessor=#accessor"" + //",12241987618a69a588beb6541750016ab25e9f9e,3,1
"endpoint.getConfiguration().setParentXpath(XmlSignatureHelper.getXpathFilter(""/pre:root/@ID"", Collections.singletonMap(""pre"", ""http://test""))); // xpath with no element result",12241987618a69a588beb6541750016ab25e9f9e,3,1
"String verifierEndpointUri, String directStart) throws InterruptedException, UnsupportedEncodingException {",12241987618a69a588beb6541750016ab25e9f9e,3,1
"static void checkThrownException(MockEndpoint mock, Class<? extends Exception> cl, String expectedMessage,",12241987618a69a588beb6541750016ab25e9f9e,3,1
* XML signatures.,12241987618a69a588beb6541750016ab25e9f9e,2,0
throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,0
* @throws Exception if an error occurs,12241987618a69a588beb6541750016ab25e9f9e,2,0
* @throws Exception          if an error occurs,12241987618a69a588beb6541750016ab25e9f9e,2,0
"List<XMLObject> allObjects, List<XMLObject> referencedObjects, String manifestId) {",12241987618a69a588beb6541750016ab25e9f9e,2,0
throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,1
*            references and objects,12241987618a69a588beb6541750016ab25e9f9e,2,1
* @throws Exception,12241987618a69a588beb6541750016ab25e9f9e,2,1
* the camel message.,12241987618a69a588beb6541750016ab25e9f9e,2,1
* @param relevantReferences,12241987618a69a588beb6541750016ab25e9f9e,2,1
*            input from method,12241987618a69a588beb6541750016ab25e9f9e,2,1
* @param relevantObjects,12241987618a69a588beb6541750016ab25e9f9e,2,1
"* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.",12241987618a69a588beb6541750016ab25e9f9e,2,0
import javax.xml.crypto.dsig.spec.XPathFilterParameterSpec;,12241987618a69a588beb6541750016ab25e9f9e,2,0
public class XmlSignerConfiguration extends XmlSignatureConfiguration {,12241987618a69a588beb6541750016ab25e9f9e,2,0
private AlgorithmMethod canonicalizationMethod = new XmlSignatureTransform(CanonicalizationMethod.INCLUSIVE);,12241987618a69a588beb6541750016ab25e9f9e,2,0
"private String signatureAlgorithm = ""http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"";",12241987618a69a588beb6541750016ab25e9f9e,2,0
"private String prefixForXmlSignatureNamespace = ""ds"";",12241987618a69a588beb6541750016ab25e9f9e,2,0
"private String plainTextEncoding = ""UTF-8"";",12241987618a69a588beb6541750016ab25e9f9e,2,0
public XmlSignerConfiguration() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
public XmlSignerConfiguration copy() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
} catch (CloneNotSupportedException e) {,12241987618a69a588beb6541750016ab25e9f9e,2,0
public KeyAccessor getKeyAccessor() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
* org.apache.camel.component.xmlsecurity.api contains the default implementation class DefaultKeyAccessor which,12241987618a69a588beb6541750016ab25e9f9e,2,0
public AlgorithmMethod getCanonicalizationMethod() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
"* getCanonicalizationMethod(String algorithm, List<String> inclusiveNamespacePrefixes) to create a canonicalization",12241987618a69a588beb6541750016ab25e9f9e,2,0
public List<AlgorithmMethod> getTransformMethods() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
public Boolean getAddKeyInfoReference() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
* <p>,12241987618a69a588beb6541750016ab25e9f9e,2,0
* <code>null</code>.,12241987618a69a588beb6541750016ab25e9f9e,2,0
* See best practice http://www.w3.org/TR/xmldsig-bestpractices/#signing-xml- without-namespaces,12241987618a69a588beb6541750016ab25e9f9e,2,0
* @param prefixForXmlSignatureNamespace prefix,12241987618a69a588beb6541750016ab25e9f9e,2,0
* signature.,12241987618a69a588beb6541750016ab25e9f9e,2,0
* an exception is thrown.,12241987618a69a588beb6541750016ab25e9f9e,2,0
"contentObjectId = ""_"" + UUID.randomUUID().toString();",12241987618a69a588beb6541750016ab25e9f9e,2,0
* detached case.,12241987618a69a588beb6541750016ab25e9f9e,2,0
public Boolean getPlainText() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
public XmlSignatureProperties getProperties() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
* provide a bean which implements the XmlSignatureProperties interface.,12241987618a69a588beb6541750016ab25e9f9e,2,0
public List<XPathFilterParameterSpec> getXpathsToIdAttributes() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
} else {,12241987618a69a588beb6541750016ab25e9f9e,2,0
public XPathFilterParameterSpec getParentXpath() {,12241987618a69a588beb6541750016ab25e9f9e,2,0
"* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.",12241987618a69a588beb6541750016ab25e9f9e,2,1
import javax.xml.crypto.dsig.spec.XPathFilterParameterSpec;,12241987618a69a588beb6541750016ab25e9f9e,2,1
public class XmlSignerConfiguration extends XmlSignatureConfiguration {,12241987618a69a588beb6541750016ab25e9f9e,2,1
private AlgorithmMethod canonicalizationMethod = new XmlSignatureTransform(CanonicalizationMethod.INCLUSIVE);,12241987618a69a588beb6541750016ab25e9f9e,2,1
"private String signatureAlgorithm = ""http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"";",12241987618a69a588beb6541750016ab25e9f9e,2,1
"private String prefixForXmlSignatureNamespace = ""ds"";",12241987618a69a588beb6541750016ab25e9f9e,2,1
"private String plainTextEncoding = ""UTF-8"";",12241987618a69a588beb6541750016ab25e9f9e,2,1
public XmlSignerConfiguration() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
public XmlSignerConfiguration copy() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
} catch (CloneNotSupportedException e) {,12241987618a69a588beb6541750016ab25e9f9e,2,1
public KeyAccessor getKeyAccessor() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
public AlgorithmMethod getCanonicalizationMethod() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
public List<AlgorithmMethod> getTransformMethods() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
"* signature algorithm. Example: ""http://www.w3.org/2001/04/xmlenc#sha256""",12241987618a69a588beb6541750016ab25e9f9e,2,1
public Boolean getAddKeyInfoReference() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
* <p>,12241987618a69a588beb6541750016ab25e9f9e,2,1
* See best practice,12241987618a69a588beb6541750016ab25e9f9e,2,1
* @param prefixForXmlSignatureNamespace,12241987618a69a588beb6541750016ab25e9f9e,2,1
* @param parentLocalName,12241987618a69a588beb6541750016ab25e9f9e,2,1
*            local name,12241987618a69a588beb6541750016ab25e9f9e,2,1
* be added.,12241987618a69a588beb6541750016ab25e9f9e,2,1
"contentObjectId = ""_"" + UUID.randomUUID().toString();",12241987618a69a588beb6541750016ab25e9f9e,2,1
* signature element.,12241987618a69a588beb6541750016ab25e9f9e,2,1
public Boolean getPlainText() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
public XmlSignatureProperties getProperties() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
* you can provide a bean which implements the XmlSignatureProperties interface.,12241987618a69a588beb6541750016ab25e9f9e,2,1
public List<XPathFilterParameterSpec> getXpathsToIdAttributes() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
* The parameter {@link #setParentLocalName(String)} or {@link #setParentXpath(XPathFilterParameterSpec)},12241987618a69a588beb6541750016ab25e9f9e,2,1
} else {,12241987618a69a588beb6541750016ab25e9f9e,2,1
public XPathFilterParameterSpec getParentXpath() {,12241987618a69a588beb6541750016ab25e9f9e,2,1
* {@link XmlSignerConfiguration#getSignatureAlgorithm()}. The optional transforms are read from,12241987618a69a588beb6541750016ab25e9f9e,2,0
"Message inMessage, Node messageBodyNode, String contentReferenceURI, SignatureType sigType)",12241987618a69a588beb6541750016ab25e9f9e,2,0
throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,0
"private Element getParentForDetachedCase(Document doc, Message inMessage, String referenceUri)",12241987618a69a588beb6541750016ab25e9f9e,2,0
"new Object[] { referenceUri, el.getLocalName(), el.getNamespaceURI() });",12241987618a69a588beb6541750016ab25e9f9e,2,0
"LOG.debug(""Header {} with value '{}' found"", XmlSignatureConstants.HEADER_TRANSFORM_METHODS,",12241987618a69a588beb6541750016ab25e9f9e,2,0
* {@link XmlSignerConfiguration#getParentLocalName()} must not return,12241987618a69a588beb6541750016ab25e9f9e,2,1
* provided by the {@link KeyAccessor} and,12241987618a69a588beb6541750016ab25e9f9e,2,1
"* {@link XmlSignerConfiguration#getAddKeyInfoReference()} is <code>true</code>,",12241987618a69a588beb6541750016ab25e9f9e,2,1
* (see {@link XmlSignerConfiguration#setXpathsToIdAttributes(List)}) and the,12241987618a69a588beb6541750016ab25e9f9e,2,1
* {@link XmlSignerConfiguration#setSchemaResourceUri(String)}. Elements with,12241987618a69a588beb6541750016ab25e9f9e,2,1
* method {@link XmlSignerConfiguration#getDigestAlgorithm()} or calculated from,12241987618a69a588beb6541750016ab25e9f9e,2,1
* transforms are read from {@link XmlSignerConfiguration#getTransformMethods()},12241987618a69a588beb6541750016ab25e9f9e,2,1
throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,1
"Reference keyInfoRef = createKeyInfoReference(input.getSignatureFactory(), keyInfoId, input.getContentDigestAlgorithm());",12241987618a69a588beb6541750016ab25e9f9e,2,1
"private Node getTextNode(Message inMessage, InputStream is) throws IOException, ParserConfigurationException, XmlSignatureException {",12241987618a69a588beb6541750016ab25e9f9e,2,1
"LOG.debug(""Header {} with value '{}' found"", XmlSignatureConstants.HEADER_TRANSFORM_METHODS, transformMethodsHeaderValue);",12241987618a69a588beb6541750016ab25e9f9e,2,1
throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,0
* Signature element.,12241987618a69a588beb6541750016ab25e9f9e,2,1
throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,1
* The parameter can also be configured via {@link XmlSignatureConfiguration#setOmitXmlDeclaration(Boolean)},12241987618a69a588beb6541750016ab25e9f9e,2,0
"+ "" </ToBeSigned>                                                   "" + ""</Document>"";",12241987618a69a588beb6541750016ab25e9f9e,2,0
XmlVerifierEndpoint endpoint = context,12241987618a69a588beb6541750016ab25e9f9e,2,0
"+ ""\""src/test/resources/org/apache/camel/component/xmlsecurity/xmldsig-core-schema.dtd\"" [ <!ENTITY dsig """,12241987618a69a588beb6541750016ab25e9f9e,2,0
ParserConfigurationException {,12241987618a69a588beb6541750016ab25e9f9e,2,0
"String detachedPayload = ""<?xml version=\""1.0\"" encoding=\""UTF-8\""?>""",12241987618a69a588beb6541750016ab25e9f9e,2,0
* signed first.,12241987618a69a588beb6541750016ab25e9f9e,2,0
"void testDetached2Xpaths(String xpath1exp, String xpath2exp)",12241987618a69a588beb6541750016ab25e9f9e,2,0
XmlSignerEndpoint endpoint = (XmlSignerEndpoint) context(),12241987618a69a588beb6541750016ab25e9f9e,2,0
"String verifierEndpointUri, String directStart)",12241987618a69a588beb6541750016ab25e9f9e,2,0
"throws XPathExpressionException, SAXException, IOException, ParserConfigurationException {",12241987618a69a588beb6541750016ab25e9f9e,2,0
throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,0
static void checkThrownException(,12241987618a69a588beb6541750016ab25e9f9e,2,0
"String payload = ""<?xml version=\""1.0\"" encoding=\""UTF-8\""?><a xmlns=\""http://test/test\""><test>Test Message</test></a>"";",12241987618a69a588beb6541750016ab25e9f9e,2,1
* The parameter can also be configured via,12241987618a69a588beb6541750016ab25e9f9e,2,1
"+ "" </ToBeSigned>                                                   "" + ""</Document>"";",12241987618a69a588beb6541750016ab25e9f9e,2,1
"XmlVerifierEndpoint endpoint = context.getEndpoint(""xmlsecurity-verify:outputnodesearchelementname?keySelector=#selectorKeyValue""",12241987618a69a588beb6541750016ab25e9f9e,2,1
"+ ""\""src/test/resources/org/apache/camel/component/xmlsecurity/xmldsig-core-schema.dtd\"" [ <!ENTITY dsig """,12241987618a69a588beb6541750016ab25e9f9e,2,1
"+ ""\""http://www.w3.org/2000/09/xmldsig#\""> ]>"" + ""<root xmlns=\""http://test/test\""><test>Test Message</test></root>"";",12241987618a69a588beb6541750016ab25e9f9e,2,1
ParserConfigurationException {,12241987618a69a588beb6541750016ab25e9f9e,2,1
"String detachedPayload = ""<?xml version=\""1.0\"" encoding=\""UTF-8\""?>""",12241987618a69a588beb6541750016ab25e9f9e,2,1
"void testDetached2Xpaths(String xpath1exp, String xpath2exp) throws InterruptedException, XPathExpressionException, SAXException,",12241987618a69a588beb6541750016ab25e9f9e,2,1
"throws XPathExpressionException, SAXException, IOException, ParserConfigurationException {",12241987618a69a588beb6541750016ab25e9f9e,2,1
throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,1
Class<? extends Exception> expectedCauseClass) throws Exception {,12241987618a69a588beb6541750016ab25e9f9e,2,1
"new Object[] { referenceUri, el.getLocalName(), el.getNamespaceURI() });",12241987618a69a588beb6541750016ab25e9f9e,2,1
for (Reference ref : signature.getSignedInfo().getReferences()) {,12241987618a69a588beb6541750016ab25e9f9e,2,0
for (XMLObject xo : signature.getObjects()) {,12241987618a69a588beb6541750016ab25e9f9e,2,0
for (Reference ref : man.getReferences()) {,12241987618a69a588beb6541750016ab25e9f9e,2,0
for (Reference ref : (List<Reference>) signature.getSignedInfo().getReferences()) {,12241987618a69a588beb6541750016ab25e9f9e,2,1
for (XMLObject xo : (List<XMLObject>) signature.getObjects()) {,12241987618a69a588beb6541750016ab25e9f9e,2,1
for (Reference ref : (List<Reference>) man.getReferences()) {,12241987618a69a588beb6541750016ab25e9f9e,2,1
import org.apache.camel.support.ResourceHelper;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.util.ResourceHelper;,12241987618a69a588beb6541750016ab25e9f9e,1,1
* signatures.,12241987618a69a588beb6541750016ab25e9f9e,1,0
* following way:,12241987618a69a588beb6541750016ab25e9f9e,1,0
* {@link XPathFilterParameterSpec}.,12241987618a69a588beb6541750016ab25e9f9e,1,0
throw new XmlSignatureException(,12241987618a69a588beb6541750016ab25e9f9e,1,0
throw new XMLSignatureException(,12241987618a69a588beb6541750016ab25e9f9e,1,0
input,12241987618a69a588beb6541750016ab25e9f9e,1,0
*                   otherwise <code>false</code>,12241987618a69a588beb6541750016ab25e9f9e,1,0
* @return                    dom structure,12241987618a69a588beb6541750016ab25e9f9e,1,0
"List<Reference> relevantReferences, List<XMLObject> relevantObjects) {",12241987618a69a588beb6541750016ab25e9f9e,1,0
protected void addManifestReferencedObjects(,12241987618a69a588beb6541750016ab25e9f9e,1,0
* '#').,12241987618a69a588beb6541750016ab25e9f9e,1,1
* taken into account.,12241987618a69a588beb6541750016ab25e9f9e,1,1
* structure,12241987618a69a588beb6541750016ab25e9f9e,1,1
throw new XMLSignatureException(String.format(,12241987618a69a588beb6541750016ab25e9f9e,1,1
* element.,12241987618a69a588beb6541750016ab25e9f9e,1,1
*             if an error occurs,12241987618a69a588beb6541750016ab25e9f9e,1,1
*            {@link #getReferencesForMessageMapping(ReferencesAndObjects)},12241987618a69a588beb6541750016ab25e9f9e,1,1
*            {@link #getObjectsForMessageMapping(ReferencesAndObjects)},12241987618a69a588beb6541750016ab25e9f9e,1,1
* @return dom structure,12241987618a69a588beb6541750016ab25e9f9e,1,1
throw new XmlSignatureException(String.format(,12241987618a69a588beb6541750016ab25e9f9e,1,1
"protected List<XMLObject> getReferencedSameDocumentObjects(List<Reference> relevantReferences, List<XMLObject> relevantObjects) {",12241987618a69a588beb6541750016ab25e9f9e,1,1
+ schemaResourceUri);,12241987618a69a588beb6541750016ab25e9f9e,1,0
+ schemaResourceUri);,12241987618a69a588beb6541750016ab25e9f9e,1,1
*,12241987618a69a588beb6541750016ab25e9f9e,1,0
*      http://www.apache.org/licenses/LICENSE-2.0,12241987618a69a588beb6541750016ab25e9f9e,1,0
*/,12241987618a69a588beb6541750016ab25e9f9e,1,0
import java.util.Collections;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import java.util.List;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import java.util.UUID;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import javax.xml.crypto.AlgorithmMethod;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import javax.xml.crypto.dsig.CanonicalizationMethod;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import javax.xml.crypto.dsig.keyinfo.KeyInfo;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.RuntimeCamelException;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.component.xmlsecurity.api.KeyAccessor;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.component.xmlsecurity.api.XmlSignatureConstants;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.component.xmlsecurity.api.XmlSignatureHelper;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.component.xmlsecurity.api.XmlSignatureProperties;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.component.xmlsecurity.api.XmlSignatureTransform;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.spi.UriParam;,12241987618a69a588beb6541750016ab25e9f9e,1,0
import org.apache.camel.spi.UriParams;,12241987618a69a588beb6541750016ab25e9f9e,1,0
private List<XPathFilterParameterSpec> xpathsToIdAttributes = Collections.emptyList();,12241987618a69a588beb6541750016ab25e9f9e,1,0
private List<AlgorithmMethod> transformMethods = Collections.singletonList(XmlSignatureHelper,12241987618a69a588beb6541750016ab25e9f9e,1,0
"@UriParam(defaultValue = ""http://www.w3.org/TR/2001/REC-xml-c14n-20010315"")",12241987618a69a588beb6541750016ab25e9f9e,1,0
"@UriParam(defaultValue = ""http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"")",12241987618a69a588beb6541750016ab25e9f9e,1,0
private String digestAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,0
"@UriParam(defaultValue = ""true"")",12241987618a69a588beb6541750016ab25e9f9e,1,0
private Boolean addKeyInfoReference = Boolean.TRUE;,12241987618a69a588beb6541750016ab25e9f9e,1,0
"@UriParam(defaultValue = ""ds"")",12241987618a69a588beb6541750016ab25e9f9e,1,0
private String contentObjectId;,12241987618a69a588beb6541750016ab25e9f9e,1,0
private String signatureId;,12241987618a69a588beb6541750016ab25e9f9e,1,0
private String contentReferenceUri;,12241987618a69a588beb6541750016ab25e9f9e,1,0
private String contentReferenceType;,12241987618a69a588beb6541750016ab25e9f9e,1,0
private String parentLocalName;,12241987618a69a588beb6541750016ab25e9f9e,1,0
private String parentNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,0
"@UriParam(defaultValue = ""false"")",12241987618a69a588beb6541750016ab25e9f9e,1,0
private Boolean plainText = Boolean.FALSE;,12241987618a69a588beb6541750016ab25e9f9e,1,0
"@UriParam(defaultValue = ""UTF-8"")",12241987618a69a588beb6541750016ab25e9f9e,1,0
},12241987618a69a588beb6541750016ab25e9f9e,1,0
try {,12241987618a69a588beb6541750016ab25e9f9e,1,0
return (XmlSignerConfiguration) clone();,12241987618a69a588beb6541750016ab25e9f9e,1,0
throw new RuntimeCamelException(e);,12241987618a69a588beb6541750016ab25e9f9e,1,0
return keyAccessor;,12241987618a69a588beb6541750016ab25e9f9e,1,0
/**,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.keyAccessor = keyAccessor;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return canonicalizationMethod;,12241987618a69a588beb6541750016ab25e9f9e,1,0
* method.,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.canonicalizationMethod = canonicalizationMethod;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return transformMethods;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.transformMethods = transformMethods;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return signatureAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.signatureAlgorithm = signatureAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return digestAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,0
"* algorithm. Example: ""http://www.w3.org/2001/04/xmlenc#sha256""",12241987618a69a588beb6541750016ab25e9f9e,1,0
this.digestAlgorithm = digestAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return addKeyInfoReference;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.addKeyInfoReference = addKeyInfoReference;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return prefixForXmlSignatureNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.prefixForXmlSignatureNamespace = prefixForXmlSignatureNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return parentLocalName;,12241987618a69a588beb6541750016ab25e9f9e,1,0
* configuration.,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.parentLocalName = parentLocalName;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return parentNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.parentNamespace = parentNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,0
if (contentObjectId == null) {,12241987618a69a588beb6541750016ab25e9f9e,1,0
return contentObjectId;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.contentObjectId = contentObjectId;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return signatureId;,12241987618a69a588beb6541750016ab25e9f9e,1,0
* element.,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.signatureId = signatureId;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return contentReferenceUri;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.contentReferenceUri = referenceUri;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return contentReferenceType;,12241987618a69a588beb6541750016ab25e9f9e,1,0
* header {@link XmlSignatureConstants#HEADER_CONTENT_REFERENCE_TYPE}.,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.contentReferenceType = referenceType;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return plainText;,12241987618a69a588beb6541750016ab25e9f9e,1,0
* {@link XmlSignatureConstants#HEADER_MESSAGE_IS_PLAIN_TEXT}.,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.plainText = plainText;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return plainTextEncoding;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.plainTextEncoding = plainTextEncoding;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return properties;,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.properties = properties;,12241987618a69a588beb6541750016ab25e9f9e,1,0
return xpathsToIdAttributes;,12241987618a69a588beb6541750016ab25e9f9e,1,0
* {@link XmlSignatureConstants#HEADER_XPATHS_TO_ID_ATTRIBUTES}.,12241987618a69a588beb6541750016ab25e9f9e,1,0
if (xpathsToIdAttributes == null) {,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.xpathsToIdAttributes = Collections.emptyList();,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.xpathsToIdAttributes = Collections.unmodifiableList(xpathsToIdAttributes);,12241987618a69a588beb6541750016ab25e9f9e,1,0
return parentXpath;,12241987618a69a588beb6541750016ab25e9f9e,1,0
* {@link #setParentNamespace(String)}.,12241987618a69a588beb6541750016ab25e9f9e,1,0
*                    used,12241987618a69a588beb6541750016ab25e9f9e,1,0
this.parentXpath = parentXpath;,12241987618a69a588beb6541750016ab25e9f9e,1,0
*,12241987618a69a588beb6541750016ab25e9f9e,1,1
*      http://www.apache.org/licenses/LICENSE-2.0,12241987618a69a588beb6541750016ab25e9f9e,1,1
*/,12241987618a69a588beb6541750016ab25e9f9e,1,1
import java.util.Collections;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import java.util.List;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import java.util.UUID;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import javax.xml.crypto.AlgorithmMethod;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import javax.xml.crypto.dsig.CanonicalizationMethod;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import javax.xml.crypto.dsig.keyinfo.KeyInfo;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import org.apache.camel.RuntimeCamelException;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import org.apache.camel.component.xmlsecurity.api.KeyAccessor;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import org.apache.camel.component.xmlsecurity.api.XmlSignatureConstants;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import org.apache.camel.component.xmlsecurity.api.XmlSignatureHelper;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import org.apache.camel.component.xmlsecurity.api.XmlSignatureProperties;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import org.apache.camel.component.xmlsecurity.api.XmlSignatureTransform;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import org.apache.camel.spi.UriParam;,12241987618a69a588beb6541750016ab25e9f9e,1,1
import org.apache.camel.spi.UriParams;,12241987618a69a588beb6541750016ab25e9f9e,1,1
private List<XPathFilterParameterSpec> xpathsToIdAttributes = Collections.emptyList();,12241987618a69a588beb6541750016ab25e9f9e,1,1
private List<AlgorithmMethod> transformMethods = Collections.singletonList(XmlSignatureHelper,12241987618a69a588beb6541750016ab25e9f9e,1,1
"@UriParam(defaultValue = ""http://www.w3.org/TR/2001/REC-xml-c14n-20010315"")",12241987618a69a588beb6541750016ab25e9f9e,1,1
"@UriParam(defaultValue = ""http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"")",12241987618a69a588beb6541750016ab25e9f9e,1,1
private String digestAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,1
"@UriParam(defaultValue = ""true"")",12241987618a69a588beb6541750016ab25e9f9e,1,1
private Boolean addKeyInfoReference = Boolean.TRUE;,12241987618a69a588beb6541750016ab25e9f9e,1,1
"@UriParam(defaultValue = ""ds"")",12241987618a69a588beb6541750016ab25e9f9e,1,1
private String contentObjectId;,12241987618a69a588beb6541750016ab25e9f9e,1,1
private String signatureId;,12241987618a69a588beb6541750016ab25e9f9e,1,1
private String contentReferenceUri;,12241987618a69a588beb6541750016ab25e9f9e,1,1
private String contentReferenceType;,12241987618a69a588beb6541750016ab25e9f9e,1,1
private String parentLocalName;,12241987618a69a588beb6541750016ab25e9f9e,1,1
private String parentNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,1
"@UriParam(defaultValue = ""false"")",12241987618a69a588beb6541750016ab25e9f9e,1,1
private Boolean plainText = Boolean.FALSE;,12241987618a69a588beb6541750016ab25e9f9e,1,1
"@UriParam(defaultValue = ""UTF-8"")",12241987618a69a588beb6541750016ab25e9f9e,1,1
},12241987618a69a588beb6541750016ab25e9f9e,1,1
try {,12241987618a69a588beb6541750016ab25e9f9e,1,1
return (XmlSignerConfiguration) clone();,12241987618a69a588beb6541750016ab25e9f9e,1,1
throw new RuntimeCamelException(e);,12241987618a69a588beb6541750016ab25e9f9e,1,1
return keyAccessor;,12241987618a69a588beb6541750016ab25e9f9e,1,1
/**,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.keyAccessor = keyAccessor;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return canonicalizationMethod;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.canonicalizationMethod = canonicalizationMethod;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return transformMethods;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.transformMethods = transformMethods;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return signatureAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,1
"* ""http://www.w3.org/2000/09/xmldsig#rsa-sha1"".",12241987618a69a588beb6541750016ab25e9f9e,1,1
this.signatureAlgorithm = signatureAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return digestAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.digestAlgorithm = digestAlgorithm;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return addKeyInfoReference;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.addKeyInfoReference = addKeyInfoReference;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return prefixForXmlSignatureNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,1
* http://www.w3.org/TR/xmldsig-bestpractices/#signing-xml-,12241987618a69a588beb6541750016ab25e9f9e,1,1
* without-namespaces,12241987618a69a588beb6541750016ab25e9f9e,1,1
*            prefix,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.prefixForXmlSignatureNamespace = prefixForXmlSignatureNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return parentLocalName;,12241987618a69a588beb6541750016ab25e9f9e,1,1
* also use {@link #setParentXpath(XPathFilterParameterSpec)}.,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.parentLocalName = parentLocalName;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return parentNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.parentNamespace = parentNamespace;,12241987618a69a588beb6541750016ab25e9f9e,1,1
if (contentObjectId == null) {,12241987618a69a588beb6541750016ab25e9f9e,1,1
return contentObjectId;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.contentObjectId = contentObjectId;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return signatureId;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.signatureId = signatureId;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return contentReferenceUri;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.contentReferenceUri = referenceUri;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return contentReferenceType;,12241987618a69a588beb6541750016ab25e9f9e,1,1
* {@link XmlSignatureConstants#HEADER_CONTENT_REFERENCE_TYPE}.,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.contentReferenceType = referenceType;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return plainText;,12241987618a69a588beb6541750016ab25e9f9e,1,1
* {@link XmlSignatureConstants#HEADER_MESSAGE_IS_PLAIN_TEXT}.,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.plainText = plainText;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return plainTextEncoding;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.plainTextEncoding = plainTextEncoding;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return properties;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.properties = properties;,12241987618a69a588beb6541750016ab25e9f9e,1,1
return xpathsToIdAttributes;,12241987618a69a588beb6541750016ab25e9f9e,1,1
* {@link XmlSignatureConstants#HEADER_XPATHS_TO_ID_ATTRIBUTES}.,12241987618a69a588beb6541750016ab25e9f9e,1,1
if (xpathsToIdAttributes == null) {,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.xpathsToIdAttributes = Collections.emptyList();,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.xpathsToIdAttributes = Collections.unmodifiableList(xpathsToIdAttributes);,12241987618a69a588beb6541750016ab25e9f9e,1,1
return parentXpath;,12241987618a69a588beb6541750016ab25e9f9e,1,1
this.parentXpath = parentXpath;,12241987618a69a588beb6541750016ab25e9f9e,1,1
* {@link XmlSignerConfiguration#getPlainText()}.,12241987618a69a588beb6541750016ab25e9f9e,1,0
* {@link XmlSignerConfiguration#getTransformMethods()} .,12241987618a69a588beb6541750016ab25e9f9e,1,0
XmlSignatureProperties.Input input,12241987618a69a588beb6541750016ab25e9f9e,1,0
+ getConfiguration().getParentLocalName(),12241987618a69a588beb6541750016ab25e9f9e,1,0
+ getConfiguration().getParentXpath().getXPath(),12241987618a69a588beb6541750016ab25e9f9e,1,0
"protected Schema getSchemaForSigner(Message message, ValidatorErrorHandler errorHandler)",12241987618a69a588beb6541750016ab25e9f9e,1,0
protected Element getParentOfSignature(,12241987618a69a588beb6541750016ab25e9f9e,1,0
throw new XmlSignatureException(,12241987618a69a588beb6541750016ab25e9f9e,1,0
return (Element) node;,12241987618a69a588beb6541750016ab25e9f9e,1,0
"NodeList parents = doc.getElementsByTagNameNS(getConfiguration().getParentNamespace(),",12241987618a69a588beb6541750016ab25e9f9e,1,0
throws XmlSignatureException {,12241987618a69a588beb6541750016ab25e9f9e,1,0
String keyInfoId),12241987618a69a588beb6541750016ab25e9f9e,1,0
Reference keyInfoRef,12241987618a69a588beb6541750016ab25e9f9e,1,0
"= createKeyInfoReference(input.getSignatureFactory(), keyInfoId, input.getContentDigestAlgorithm());",12241987618a69a588beb6541750016ab25e9f9e,1,0
"private Node getTextNode(Message inMessage, InputStream is)",12241987618a69a588beb6541750016ab25e9f9e,1,0
"throws IOException, ParserConfigurationException, XmlSignatureException {",12241987618a69a588beb6541750016ab25e9f9e,1,0
"throws ParserConfigurationException, IOException, XmlSignatureFormatException {",12241987618a69a588beb6541750016ab25e9f9e,1,0
protected Reference createReference(,12241987618a69a588beb6541750016ab25e9f9e,1,0
"throws InvalidAlgorithmParameterException, XmlSignatureException {",12241987618a69a588beb6541750016ab25e9f9e,1,0
"throws XmlSignatureException, XPathExpressionException {",12241987618a69a588beb6541750016ab25e9f9e,1,0
"private List<String> getContentReferenceUrisForDetachedCase(Message message, Node messageBodyNode)",12241987618a69a588beb6541750016ab25e9f9e,1,0
+ xp.getXPath(),12241987618a69a588beb6541750016ab25e9f9e,1,0
+ toString(xpathsToIdAttributes),12241987618a69a588beb6541750016ab25e9f9e,1,0
* following structure:,12241987618a69a588beb6541750016ab25e9f9e,1,1
* configuration {@link XmlSignerConfiguration#getPlainText()}.,12241987618a69a588beb6541750016ab25e9f9e,1,1
* signatures.,12241987618a69a588beb6541750016ab25e9f9e,1,1
* {@link XmlSignerConfiguration#getSignatureAlgorithm()}. The optional,12241987618a69a588beb6541750016ab25e9f9e,1,1
* .,12241987618a69a588beb6541750016ab25e9f9e,1,1
+ getConfiguration().getParentLocalName(),12241987618a69a588beb6541750016ab25e9f9e,1,1
+ getConfiguration().getParentXpath().getXPath(),12241987618a69a588beb6541750016ab25e9f9e,1,1
"protected Schema getSchemaForSigner(Message message, ValidatorErrorHandler errorHandler) throws XmlSignatureException, SAXException,",12241987618a69a588beb6541750016ab25e9f9e,1,1
return (Element)node;,12241987618a69a588beb6541750016ab25e9f9e,1,1
"NodeList parents = doc.getElementsByTagNameNS(getConfiguration().getParentNamespace(), getConfiguration().getParentLocalName());",12241987618a69a588beb6541750016ab25e9f9e,1,1
"new Object[] {referenceUri, el.getLocalName(), el.getNamespaceURI() });",12241987618a69a588beb6541750016ab25e9f9e,1,1
"throws ParserConfigurationException, IOException, XmlSignatureFormatException {",12241987618a69a588beb6541750016ab25e9f9e,1,1
"throws InvalidAlgorithmParameterException, XmlSignatureException {",12241987618a69a588beb6541750016ab25e9f9e,1,1
"throws XmlSignatureException, XPathExpressionException {",12241987618a69a588beb6541750016ab25e9f9e,1,1
"private List<String> getContentReferenceUrisForDetachedCase(Message message, Node messageBodyNode) throws XmlSignatureException,",12241987618a69a588beb6541750016ab25e9f9e,1,1
+ toString(xpathsToIdAttributes),12241987618a69a588beb6541750016ab25e9f9e,1,1
private void map2Message(,12241987618a69a588beb6541750016ab25e9f9e,1,0
"throws IOException, ParserConfigurationException, XmlSignatureFormatException {",12241987618a69a588beb6541750016ab25e9f9e,1,0
throw new XmlSignatureFormatException(,12241987618a69a588beb6541750016ab25e9f9e,1,0
"private NodeList getSignatureNodes(Document doc) throws IOException, ParserConfigurationException, XmlSignatureFormatException {",12241987618a69a588beb6541750016ab25e9f9e,1,1
|| TestSupport.isJava18_261_later()) {,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ (includeNewLine ? ""\n"" : """")",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<root xmlns=\""http://test/test\""><test>Test Message</test></root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""&signatureAlgorithm=http://www.w3.org/2001/04/xmldsig-more#rsa-sha512&digestAlgorithm=http://www.w3.org/2001/04/xmlenc#sha512"",",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""&outputNodeSearchType=ElementName&outputNodeSearch={http://test/test}root&removeSignatureElements=true"")",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""schemaResourceUri=org/apache/camel/component/xmlsecurity/Test.xsd&signatureId=&clearHeaders=false"")",12241987618a69a588beb6541750016ab25e9f9e,1,0
String payload,12241987618a69a588beb6541750016ab25e9f9e,1,0
"= ""<?xml version=\""1.0\"" encoding=\""UTF-8\""?><a xmlns=\""http://test/test\""><test>Test Message</test></a>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<Document xmlns=\""http://test/test\"">                             """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<ToBeSigned>                                                     """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""   <!-- comment -->                                              """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""   <Data>1</Data>                                                """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""   <NotToBeSigned>                                               """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""     <ReallyToBeSigned>                                          """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""       <!-- comment -->                                          """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""       <Data>2</Data>                                            """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""     </ReallyToBeSigned>                                         """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""   </NotToBeSigned>                                              """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ "" </ToBeSigned>                                                   """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ "" <ToBeSigned>                                                    """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""   <Data>3</Data>                                                """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""     <Data>4</Data>                                              """,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""&outputNodeSearchType=ElementName&outputNodeSearch={http://test/test}root&removeSignatureElements=true"",",12241987618a69a588beb6541750016ab25e9f9e,1,0
"= XmlSignatureTest.class.getResourceAsStream(""/org/apache/camel/component/xmlsecurity/ExampleDetached.xml"");",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""\""http://www.w3.org/2000/09/xmldsig#\""> ]>""",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<ns:root xmlns:ns=\""http://test\""><a ID=\""myID\""><b>bValue</b></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
private Element testDetachedSignatureInternal(),12241987618a69a588beb6541750016ab25e9f9e,1,0
"return testDetachedSignatureInternal(Collections.<String, Object> emptyMap());",12241987618a69a588beb6541750016ab25e9f9e,1,0
"private Element testDetachedSignatureInternal(Map<String, Object> headers)",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<ns:root xmlns:ns=\""http://test\""><test ID=\""myID\""><b>bValue</b><ts:B xmlns:ts=\""http://testB\""><C ID=\""cID\""><D>dvalue</D></C></ts:B></test></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
+ parentLocalName,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<ns:root xmlns:ns=\""http://test\""><a ID=\""myID\""><error>bValue</error></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""\""><b>bValue</b></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
+ xPath,12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<ns:root ID=\""rootId\"" xmlns:ns=\""http://test\""><a ID=\""myID\""><b>bValue</b></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
"= Collections.singletonList(XmlSignatureHelper.getXpathFilter(""/ns:root/a/@ID"", null));",12241987618a69a588beb6541750016ab25e9f9e,1,0
".getEndpoint(""xmlsecurity-sign:signexceptions?keyAccessor=#accessor"" + //",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<ns:root ID=\""rootId\"" xmlns:ns=\""http://test\""></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""<ns:root xmlns:ns=\""http://test\""><a>a1</a><a/><test>Test Message</test></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ ""schemaResourceUri=org/apache/camel/component/xmlsecurity/Test.xsd&signatureId=&clearHeaders=false"");",12241987618a69a588beb6541750016ab25e9f9e,1,0
private void checkOutputEncoding(,12241987618a69a588beb6541750016ab25e9f9e,1,0
"throws InterruptedException, UnsupportedEncodingException {",12241987618a69a588beb6541750016ab25e9f9e,1,0
private void checkThrownException(,12241987618a69a588beb6541750016ab25e9f9e,1,0
"MockEndpoint mock, Class<? extends Exception> cl, String expectedMessage,",12241987618a69a588beb6541750016ab25e9f9e,1,0
"+ "": """,12241987618a69a588beb6541750016ab25e9f9e,1,0
+ getStrackTrace(e));,12241987618a69a588beb6541750016ab25e9f9e,1,0
"= XmlSignatureHelper.getXslTransform(""/org/apache/camel/component/xmlsecurity/xslt_test.xsl"");",12241987618a69a588beb6541750016ab25e9f9e,1,0
public KeySelectorResult select(,12241987618a69a588beb6541750016ab25e9f9e,1,0
throws KeySelectorException {,12241987618a69a588beb6541750016ab25e9f9e,1,0
|| TestSupport.isJava18_261_later()) {,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ (includeNewLine ? ""\n"" : """")",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<root xmlns=\""http://test/test\""><test>Test Message</test></root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""&signatureAlgorithm=http://www.w3.org/2001/04/xmldsig-more#rsa-sha512&digestAlgorithm=http://www.w3.org/2001/04/xmlenc#sha512"",",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""&outputNodeSearchType=ElementName&outputNodeSearch={http://test/test}root&removeSignatureElements=true"")",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""schemaResourceUri=org/apache/camel/component/xmlsecurity/Test.xsd&signatureId=&clearHeaders=false"")",12241987618a69a588beb6541750016ab25e9f9e,1,1
* {@link XmlSignatureConfiguration#setOmitXmlDeclaration(Boolean)},12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<Document xmlns=\""http://test/test\"">                             """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<ToBeSigned>                                                     """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""   <!-- comment -->                                              """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""   <Data>1</Data>                                                """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""   <NotToBeSigned>                                               """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""     <ReallyToBeSigned>                                          """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""       <!-- comment -->                                          """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""       <Data>2</Data>                                            """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""     </ReallyToBeSigned>                                         """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""   </NotToBeSigned>                                              """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ "" </ToBeSigned>                                                   """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ "" <ToBeSigned>                                                    """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""   <Data>3</Data>                                                """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""     <Data>4</Data>                                              """,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""&outputNodeSearchType=ElementName&outputNodeSearch={http://test/test}root&removeSignatureElements=true"",",12241987618a69a588beb6541750016ab25e9f9e,1,1
"InputStream payload = XmlSignatureTest.class.getResourceAsStream(""/org/apache/camel/component/xmlsecurity/ExampleDetached.xml"");",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<ns:root xmlns:ns=\""http://test\""><a ID=\""myID\""><b>bValue</b></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,1
"private Element testDetachedSignatureInternal() throws InterruptedException, XPathExpressionException, SAXException, IOException,",12241987618a69a588beb6541750016ab25e9f9e,1,1
"return testDetachedSignatureInternal(Collections.<String, Object>emptyMap());",12241987618a69a588beb6541750016ab25e9f9e,1,1
"private Element testDetachedSignatureInternal(Map<String, Object> headers) throws InterruptedException, XPathExpressionException, SAXException, IOException,",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<ns:root xmlns:ns=\""http://test\""><test ID=\""myID\""><b>bValue</b><ts:B xmlns:ts=\""http://testB\""><C ID=\""cID\""><D>dvalue</D></C></ts:B></test></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,1
+ parentLocalName,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<ns:root xmlns:ns=\""http://test\""><a ID=\""myID\""><error>bValue</error></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,1
+ xPath,12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<ns:root ID=\""rootId\"" xmlns:ns=\""http://test\""><a ID=\""myID\""><b>bValue</b></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,1
"List<XPathFilterParameterSpec> xpaths = Collections.singletonList(XmlSignatureHelper.getXpathFilter(""/ns:root/a/@ID"", null));",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<ns:root ID=\""rootId\"" xmlns:ns=\""http://test\""></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""<ns:root xmlns:ns=\""http://test\""><a>a1</a><a/><test>Test Message</test></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,1,1
"+ ""schemaResourceUri=org/apache/camel/component/xmlsecurity/Test.xsd&signatureId=&clearHeaders=false"");",12241987618a69a588beb6541750016ab25e9f9e,1,1
"private void checkThrownException(MockEndpoint mock, Class<? extends Exception> cl, Class<? extends Exception> expectedCauseClass)",12241987618a69a588beb6541750016ab25e9f9e,1,1
+ getStrackTrace(e));,12241987618a69a588beb6541750016ab25e9f9e,1,1
"AlgorithmMethod transformXslt = XmlSignatureHelper.getXslTransform(""/org/apache/camel/component/xmlsecurity/xslt_test.xsl"");",12241987618a69a588beb6541750016ab25e9f9e,1,1
"public KeySelectorResult select(KeyInfo keyInfo, KeySelector.Purpose purpose, AlgorithmMethod method, XMLCryptoContext context)",12241987618a69a588beb6541750016ab25e9f9e,1,1
throws KeySelectorException {,12241987618a69a588beb6541750016ab25e9f9e,1,1
boolean isDetached = !getXpathToIdAttributes(message).isEmpty();,12241987618a69a588beb6541750016ab25e9f9e,1,0
if (result.isEmpty()) {,12241987618a69a588beb6541750016ab25e9f9e,1,0
if (!configuredTrafos.isEmpty()) {,12241987618a69a588beb6541750016ab25e9f9e,1,0
boolean isDetached = getXpathToIdAttributes(message).size() > 0;,12241987618a69a588beb6541750016ab25e9f9e,1,1
if (result.size() == 0) {,12241987618a69a588beb6541750016ab25e9f9e,1,1
if (configuredTrafos.size() > 0) {,12241987618a69a588beb6541750016ab25e9f9e,1,1
input.getOutputNodeSearchType()));,12241987618a69a588beb6541750016ab25e9f9e,0,0
xpathFilter.getXPath()));,12241987618a69a588beb6541750016ab25e9f9e,0,0
String.format(,12241987618a69a588beb6541750016ab25e9f9e,0,0
".getOutputNodeSearch().getClass().getName(),",12241987618a69a588beb6541750016ab25e9f9e,0,0
"input.getOutputNodeSearchType(), cl.getName()));",12241987618a69a588beb6541750016ab25e9f9e,0,0
outputNodeSearchType));,12241987618a69a588beb6541750016ab25e9f9e,0,0
sb.toString()));,12241987618a69a588beb6541750016ab25e9f9e,0,0
protected List<XMLObject> getReferencedSameDocumentObjects(,12241987618a69a588beb6541750016ab25e9f9e,0,0
input.getOutputNodeSearchType()));,12241987618a69a588beb6541750016ab25e9f9e,0,1
".getOutputNodeSearch().getClass().getName(), input.getOutputNodeSearchType(), cl.getName()));",12241987618a69a588beb6541750016ab25e9f9e,0,1
outputNodeSearchType));,12241987618a69a588beb6541750016ab25e9f9e,0,1
"enveloping,",12241987618a69a588beb6541750016ab25e9f9e,0,0
"enveloped,",12241987618a69a588beb6541750016ab25e9f9e,0,0
detached,12241987618a69a588beb6541750016ab25e9f9e,0,0
"enveloping, enveloped, detached",12241987618a69a588beb6541750016ab25e9f9e,0,1
schemaFactory.setResourceResolver(new DefaultLSResourceResolver(,12241987618a69a588beb6541750016ab25e9f9e,0,0
"getCamelContext(), getConfiguration()",12241987618a69a588beb6541750016ab25e9f9e,0,0
.getSchemaResourceUri()));,12241987618a69a588beb6541750016ab25e9f9e,0,0
"schemaFactory.setResourceResolver(new DefaultLSResourceResolver(getCamelContext(), getConfiguration()",12241987618a69a588beb6541750016ab25e9f9e,0,1
.getSchemaResourceUri()));,12241987618a69a588beb6541750016ab25e9f9e,0,1
/*,12241987618a69a588beb6541750016ab25e9f9e,0,0
package org.apache.camel.component.xmlsecurity.processor;,12241987618a69a588beb6541750016ab25e9f9e,0,0
@UriParams,12241987618a69a588beb6541750016ab25e9f9e,0,0
@UriParam,12241987618a69a588beb6541750016ab25e9f9e,0,0
private XPathFilterParameterSpec parentXpath;,12241987618a69a588beb6541750016ab25e9f9e,0,0
.getCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE));,12241987618a69a588beb6541750016ab25e9f9e,0,0
private KeyAccessor keyAccessor;,12241987618a69a588beb6541750016ab25e9f9e,0,0
private XmlSignatureProperties properties;,12241987618a69a588beb6541750016ab25e9f9e,0,0
/*,12241987618a69a588beb6541750016ab25e9f9e,0,1
package org.apache.camel.component.xmlsecurity.processor;,12241987618a69a588beb6541750016ab25e9f9e,0,1
@UriParams,12241987618a69a588beb6541750016ab25e9f9e,0,1
@UriParam,12241987618a69a588beb6541750016ab25e9f9e,0,1
private XPathFilterParameterSpec parentXpath;,12241987618a69a588beb6541750016ab25e9f9e,0,1
.getCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE));,12241987618a69a588beb6541750016ab25e9f9e,0,1
private KeyAccessor keyAccessor;,12241987618a69a588beb6541750016ab25e9f9e,0,1
private XmlSignatureProperties properties;,12241987618a69a588beb6541750016ab25e9f9e,0,1
"XmlSignatureHelper.transformNonTextNodeToOutputStream(outputDoc, outStream, omitXmlDeclaration(out),",12241987618a69a588beb6541750016ab25e9f9e,0,0
getConfiguration().getOutputXmlEncoding());,12241987618a69a588beb6541750016ab25e9f9e,0,0
Err:501,12241987618a69a588beb6541750016ab25e9f9e,0,0
.message(out).messageBodyNode(node).parent(parent),12241987618a69a588beb6541750016ab25e9f9e,0,0
.signatureAlgorithm(getConfiguration().getSignatureAlgorithm()),12241987618a69a588beb6541750016ab25e9f9e,0,0
.signatureFactory(fac).signatureId(signatureId).contentReferenceUri(contentReferenceUri),12241987618a69a588beb6541750016ab25e9f9e,0,0
.signatureType(signatureType),12241987618a69a588beb6541750016ab25e9f9e,0,0
.prefixForXmlSignatureNamespace(getConfiguration().getPrefixForXmlSignatureNamespace()).build();,12241987618a69a588beb6541750016ab25e9f9e,0,0
"dsc.putNamespacePrefix(""http://www.w3.org/2000/09/xmldsig#"",",12241987618a69a588beb6541750016ab25e9f9e,0,0
getConfiguration().getPrefixForXmlSignatureNamespace());,12241987618a69a588beb6541750016ab25e9f9e,0,0
"private SignatureMethod getSignatureMethod(String signatureAlgorithm, XMLSignatureFactory fac)",12241987618a69a588beb6541750016ab25e9f9e,0,0
"throws NoSuchAlgorithmException,",12241987618a69a588beb6541750016ab25e9f9e,0,0
"throws XmlSignatureException, SAXException,",12241987618a69a588beb6541750016ab25e9f9e,0,0
e);,12241987618a69a588beb6541750016ab25e9f9e,0,0
getConfiguration().getParentLocalName());,12241987618a69a588beb6541750016ab25e9f9e,0,0
protected List<? extends Reference> getReferences(,12241987618a69a588beb6541750016ab25e9f9e,0,0
"XmlSignatureProperties.Input input, XmlSignatureProperties.Output properties,",12241987618a69a588beb6541750016ab25e9f9e,0,0
? 0,12241987618a69a588beb6541750016ab25e9f9e,0,0
"throws XmlSignatureException,",12241987618a69a588beb6541750016ab25e9f9e,0,0
xp.getXPath());,12241987618a69a588beb6541750016ab25e9f9e,0,0
"private List<Transform> getTransforms(XMLSignatureFactory fac, SignatureType sigType, Message message)",12241987618a69a588beb6541750016ab25e9f9e,0,0
transformMethodsHeaderValue);,12241987618a69a588beb6541750016ab25e9f9e,0,0
"""http://www.w3.org/2001/04/xmldsig-more#sha224""; // see RFC 4051",12241987618a69a588beb6541750016ab25e9f9e,0,1
"""http://www.w3.org/2001/04/xmldsig-more#sha384""; // see RFC 4051",12241987618a69a588beb6541750016ab25e9f9e,0,1
"XmlSignatureHelper.transformNonTextNodeToOutputStream(outputDoc, outStream, omitXmlDeclaration(out), getConfiguration().getOutputXmlEncoding());",12241987618a69a588beb6541750016ab25e9f9e,0,1
.message(out).messageBodyNode(node).parent(parent).signatureAlgorithm(getConfiguration().getSignatureAlgorithm()),12241987618a69a588beb6541750016ab25e9f9e,0,1
.signatureFactory(fac).signatureId(signatureId).contentReferenceUri(contentReferenceUri),12241987618a69a588beb6541750016ab25e9f9e,0,1
.signatureType(signatureType),12241987618a69a588beb6541750016ab25e9f9e,0,1
.prefixForXmlSignatureNamespace(getConfiguration().getPrefixForXmlSignatureNamespace()).build();,12241987618a69a588beb6541750016ab25e9f9e,0,1
"dsc.putNamespacePrefix(""http://www.w3.org/2000/09/xmldsig#"", getConfiguration().getPrefixForXmlSignatureNamespace());",12241987618a69a588beb6541750016ab25e9f9e,0,1
"private SignatureMethod getSignatureMethod(String signatureAlgorithm, XMLSignatureFactory fac) throws NoSuchAlgorithmException,",12241987618a69a588beb6541750016ab25e9f9e,0,1
"protected List<? extends Reference> getReferences(XmlSignatureProperties.Input input, XmlSignatureProperties.Output properties,",12241987618a69a588beb6541750016ab25e9f9e,0,1
"private List<Transform> getTransforms(XMLSignatureFactory fac, SignatureType sigType, Message message) throws NoSuchAlgorithmException,",12241987618a69a588beb6541750016ab25e9f9e,0,1
private NodeList getSignatureNodes(Document doc),12241987618a69a588beb6541750016ab25e9f9e,0,0
"from(""direct:enveloping"").to(getSignerEndpointURIEnveloping()).to(""mock:signed"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
.to(getVerifierEndpointURIEnveloping()),12241987618a69a588beb6541750016ab25e9f9e,0,0
"from(""direct:plaintext"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
".to(""xmlsecurity-sign:plaintext?keyAccessor=#accessor&plainText=true&plainTextEncoding=UTF-8"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
"from(""direct:enveloped"").to(getSignerEndpointURIEnveloped()).to(""mock:signed"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
.to(getVerifierEndpointURIEnveloped()),12241987618a69a588beb6541750016ab25e9f9e,0,0
XmlSignerEndpoint.class).getConfiguration(),12241987618a69a588beb6541750016ab25e9f9e,0,0
".setSignatureAlgorithm(""http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"");",12241987618a69a588beb6541750016ab25e9f9e,0,0
"context.getEndpoint(""xmlsecurity-verify:canonicalization"", XmlVerifierEndpoint.class).getConfiguration()",12241987618a69a588beb6541750016ab25e9f9e,0,0
.setKeySelector(,12241987618a69a588beb6541750016ab25e9f9e,0,0
KeySelector.singletonKeySelector(keyPair.getPublic()));,12241987618a69a588beb6541750016ab25e9f9e,0,0
"from(""direct:canonicalization"").to(",12241987618a69a588beb6541750016ab25e9f9e,0,0
"""xmlsecurity-sign:canonicalization?canonicalizationMethod=#canonicalizationMethod1"",",12241987618a69a588beb6541750016ab25e9f9e,0,0
"""xmlsecurity-verify:signaturedigestalgorithm?keySelector=#selector"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
".to(""mock:result"");",12241987618a69a588beb6541750016ab25e9f9e,0,0
".to(""xmlsecurity-verify:keyAccessorKeySelectorDefault?keySelector=#keySelectorDefault"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
".to(""xmlsecurity-verify:bfurtherparams?keySelector=#selector&disallowDoctypeDecl=false"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
"from(""direct:verifyexceptions"").to(""xmlsecurity-verify:verifyexceptions?keySelector=#selector"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
"from(""direct:verifyInvalidKeyException"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
".to(""xmlsecurity-verify:verifyInvalidKeyException?keySelector=#selector"").to(",12241987618a69a588beb6541750016ab25e9f9e,0,0
"""mock:result"");",12241987618a69a588beb6541750016ab25e9f9e,0,0
"""xmlsecurity-verify:invalidhash?keySelector=#selectorKeyValue&baseUri=#baseUri&secureValidation=false"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
.to(,12241987618a69a588beb6541750016ab25e9f9e,0,0
"from(""direct:envelopedParentXpath"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
".to(""xmlsecurity-sign:enveloped?keyAccessor=#accessor&parentXpath=#parentXpathBean"")",12241987618a69a588beb6541750016ab25e9f9e,0,0
"sendBody(""direct:enveloped"", payload, Collections.<String, Object> singletonMap(",12241987618a69a588beb6541750016ab25e9f9e,0,0
"XmlSignatureConstants.HEADER_TRANSFORM_METHODS,",12241987618a69a588beb6541750016ab25e9f9e,0,0
".getEndpoint(""xmlsecurity-verify:outputnodesearchelementname?keySelector=#selectorKeyValue""",12241987618a69a588beb6541750016ab25e9f9e,0,0
XmlVerifierEndpoint.class);,12241987618a69a588beb6541750016ab25e9f9e,0,0
.getResourceAsStream(,12241987618a69a588beb6541750016ab25e9f9e,0,0
"""/org/apache/camel/component/xmlsecurity/ExampleEnvelopingDigSigWithSeveralElementsWithNameRoot.xml"");",12241987618a69a588beb6541750016ab25e9f9e,0,0
InputStream payload,12241987618a69a588beb6541750016ab25e9f9e,0,0
"testDetachedSignatureInternal(Collections.singletonMap(XmlSignatureConstants.HEADER_TRANSFORM_METHODS,",12241987618a69a588beb6541750016ab25e9f9e,0,0
"(Object) ""http://www.w3.org/2000/09/xmldsig#enveloped-signature,http://www.w3.org/TR/2001/REC-xml-c14n-20010315""));",12241987618a69a588beb6541750016ab25e9f9e,0,0
"throws InterruptedException, XPathExpressionException, SAXException, IOException,",12241987618a69a588beb6541750016ab25e9f9e,0,0
"throws InterruptedException, XPathExpressionException, SAXException,",12241987618a69a588beb6541750016ab25e9f9e,0,0
"""<ns:root xmlns:ns=\""http://test\""><a ID=\""myID\""><b>bValue</b></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,0,0
null);,12241987618a69a588beb6541750016ab25e9f9e,0,0
"checkThrownException(mock, XmlSignatureException.class,",12241987618a69a588beb6541750016ab25e9f9e,0,0
List<XPathFilterParameterSpec> xpaths,12241987618a69a588beb6541750016ab25e9f9e,0,0
"""&signatureAlgorithm=http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"");",12241987618a69a588beb6541750016ab25e9f9e,0,0
endpoint.getConfiguration().setParentXpath(,12241987618a69a588beb6541750016ab25e9f9e,0,0
"MockEndpoint mock, Class<? extends Exception> cl, Class<? extends Exception> expectedCauseClass)",12241987618a69a588beb6541750016ab25e9f9e,0,0
Class<? extends Exception> expectedCauseClass),12241987618a69a588beb6541750016ab25e9f9e,0,0
AlgorithmMethod transformXslt,12241987618a69a588beb6541750016ab25e9f9e,0,0
"KeyInfo keyInfo, KeySelector.Purpose purpose, AlgorithmMethod method, XMLCryptoContext context)",12241987618a69a588beb6541750016ab25e9f9e,0,0
"from(""direct:enveloping"").to(getSignerEndpointURIEnveloping()).to(""mock:signed"").to(getVerifierEndpointURIEnveloping())",12241987618a69a588beb6541750016ab25e9f9e,0,1
"from(""direct:plaintext"").to(""xmlsecurity-sign:plaintext?keyAccessor=#accessor&plainText=true&plainTextEncoding=UTF-8"")",12241987618a69a588beb6541750016ab25e9f9e,0,1
"from(""direct:enveloped"").to(getSignerEndpointURIEnveloped()).to(""mock:signed"").to(getVerifierEndpointURIEnveloped())",12241987618a69a588beb6541750016ab25e9f9e,0,1
"XmlSignerEndpoint.class).getConfiguration().setSignatureAlgorithm(""http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"");",12241987618a69a588beb6541750016ab25e9f9e,0,1
"context.getEndpoint(""xmlsecurity-verify:canonicalization"", XmlVerifierEndpoint.class).getConfiguration().setKeySelector(",12241987618a69a588beb6541750016ab25e9f9e,0,1
KeySelector.singletonKeySelector(keyPair.getPublic()));,12241987618a69a588beb6541750016ab25e9f9e,0,1
"from(""direct:canonicalization"").to(""xmlsecurity-sign:canonicalization?canonicalizationMethod=#canonicalizationMethod1"",",12241987618a69a588beb6541750016ab25e9f9e,0,1
"""xmlsecurity-verify:signaturedigestalgorithm?keySelector=#selector"").to(""mock:result"");",12241987618a69a588beb6541750016ab25e9f9e,0,1
".to(""xmlsecurity-verify:keyAccessorKeySelectorDefault?keySelector=#keySelectorDefault"").to(""mock:result"");",12241987618a69a588beb6541750016ab25e9f9e,0,1
".to(""xmlsecurity-verify:bfurtherparams?keySelector=#selector&disallowDoctypeDecl=false"").to(""mock:result"");",12241987618a69a588beb6541750016ab25e9f9e,0,1
"from(""direct:verifyexceptions"").to(""xmlsecurity-verify:verifyexceptions?keySelector=#selector"").to(""mock:result"");",12241987618a69a588beb6541750016ab25e9f9e,0,1
"from(""direct:verifyInvalidKeyException"").to(""xmlsecurity-verify:verifyInvalidKeyException?keySelector=#selector"").to(",12241987618a69a588beb6541750016ab25e9f9e,0,1
"""mock:result"");",12241987618a69a588beb6541750016ab25e9f9e,0,1
"""xmlsecurity-verify:invalidhash?keySelector=#selectorKeyValue&baseUri=#baseUri&secureValidation=false"").to(",12241987618a69a588beb6541750016ab25e9f9e,0,1
"from(""direct:envelopedParentXpath"").to(""xmlsecurity-sign:enveloped?keyAccessor=#accessor&parentXpath=#parentXpathBean"")",12241987618a69a588beb6541750016ab25e9f9e,0,1
"sendBody(""direct:enveloped"", payload, Collections.<String, Object>singletonMap(XmlSignatureConstants.HEADER_TRANSFORM_METHODS,",12241987618a69a588beb6541750016ab25e9f9e,0,1
XmlVerifierEndpoint.class);,12241987618a69a588beb6541750016ab25e9f9e,0,1
".getResourceAsStream(""/org/apache/camel/component/xmlsecurity/ExampleEnvelopingDigSigWithSeveralElementsWithNameRoot.xml"");",12241987618a69a588beb6541750016ab25e9f9e,0,1
"testDetachedSignatureInternal(Collections.singletonMap(XmlSignatureConstants.HEADER_TRANSFORM_METHODS,",12241987618a69a588beb6541750016ab25e9f9e,0,1
"(Object)""http://www.w3.org/2000/09/xmldsig#enveloped-signature,http://www.w3.org/TR/2001/REC-xml-c14n-20010315""));",12241987618a69a588beb6541750016ab25e9f9e,0,1
"""<ns:root xmlns:ns=\""http://test\""><a ID=\""myID\""><b>bValue</b></a></ns:root>"";",12241987618a69a588beb6541750016ab25e9f9e,0,1
"""&signatureAlgorithm=http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"");",12241987618a69a588beb6541750016ab25e9f9e,0,1
"referenceUri, el.getLocalName(), el.getNamespaceURI());",12241987618a69a588beb6541750016ab25e9f9e,0,0
import org.apache.camel.support.ExchangeHelper;,a0b54c08c8e54525d8c0c51eb8988522175e7935,1,0
import org.apache.camel.util.ExchangeHelper;,a0b54c08c8e54525d8c0c51eb8988522175e7935,1,1
